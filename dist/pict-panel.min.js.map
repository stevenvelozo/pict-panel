{"version":3,"sources":["pict-panel.min.js","node_modules/browser-pack/_prelude.js","node_modules/fable-serviceproviderbase/package.json","node_modules/fable-serviceproviderbase/source/Fable-ServiceProviderBase.js","node_modules/pict-provider/package.json","node_modules/pict-provider/source/Pict-Provider.js","node_modules/pict-template/package.json","node_modules/pict-template/source/Pict-Template.js","node_modules/pict-view/package.json","node_modules/pict-view/source/Pict-View.js","source/Pict-Panel.js","source/css/PP-AppDataBrowser-CSS.js","source/css/PP-Logo-CSS.js","source/css/PP-Palette-CSS.js","source/css/PP-Panel-CSS.js","source/css/PP-ServiceBrowser-CSS.js","source/css/PP-TemplateBrowser-CSS.js","source/css/PP-TemplateOverrides-CSS.js","source/html/PP-Main-HTML.js","source/html/PP-Nav-HTML.js","source/providers/PP-CSS-Hotloader.js","source/providers/PP-ConfigStorage.js","source/providers/PP-Router.js","source/providers/PP-TemplateOverrideStorage.js","source/views/PP-Container.js","source/views/PP-Main.js","source/views/PP-Navigation.js","source/views/PP-View-AppDataBrowser.js","source/views/PP-View-ProviderBrowser.js","source/views/PP-View-TemplateBrowser.js","source/views/PP-View-TemplateOverrides.js","source/views/PP-View-ViewBrowser.js"],"names":["_defineProperty","e","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","f","exports","module","define","amd","window","global","self","this","PictPanel","n","o","c","require","u","a","Error","code","p","length","name","version","description","main","scripts","start","test","tests","coverage","build","types","check","mocha","diff","extension","package","reporter","slow","timeout","ui","repository","type","url","keywords","author","license","bugs","homepage","devDependencies","fable","quackage","typescript","libPackage","FableServiceProviderBase","constructor","pFable","pOptions","pServiceHash","UUID","options","services","servicesMap","isFable","connectFable","_PackageFableServiceProvider","getUUID","concat","Math","floor","random","serviceType","Hash","tmpErrorMessage","console","log","Logging","CoreServiceProviderBase","lint","eslint","pict","dependencies","libFableServiceBase","defaultPictProviderSettings","ProviderIdentifier","AutoInitialize","AutoInitializeOrdinal","AutoLoadDataWithApp","AutoSolveWithApp","AutoSolveOrdinal","Manifests","Templates","super","assign","JSON","parse","stringify","_Package","AppData","Bundle","initializeTimestamp","lastSolvedTimestamp","tmpDefaultTemplate","hasOwnProperty","Source","TemplateProvider","addDefaultTemplate","Prefix","Postfix","Template","error","onBeforeInitialize","LogNoisiness","trace","onBeforeInitializeAsync","fCallback","onInitialize","onInitializeAsync","initialize","LogControlFlow","warn","onAfterInitialize","getTimeStamp","initializeAsync","tmpAnticipate","instantiateServiceProviderWithoutRegistration","info","anticipate","bind","onAfterInitializeAsync","wait","pError","message","Stack","stack","onPreRender","onPreRenderAsync","render","renderAsync","onPreSolve","onPreSolveAsync","solve","solveAsync","onBeforeLoadDataAsync","onLoadDataAsync","onAfterLoadDataAsync","onBeforeSaveDataAsync","onSaveDataAsync","onAfterSaveDataAsync","pTemplateHash","pRecord","pContextArray","pScope","pState","addPattern","pMatchStart","pMatchEnd","MetaTemplate","addPatternBoth","resolveStateFromAddress","pAddress","pRootDataObject","template_hash","defaultPictViewSettings","DefaultRenderable","DefaultDestinationAddress","DefaultTemplateRecordAddress","ViewIdentifier","AutoRender","AutoRenderOrdinal","CSSHash","CSS","CSSProvider","CSSPriority","DefaultTemplates","Renderables","tmpHashIsUUID","lastRenderedTimestamp","lastMarshalFromViewTimestamp","lastMarshalToViewTimestamp","instantiateServiceProviderIfNotExists","tmpTemplate","addTemplate","tmpCSSHash","tmpCSSProvider","CSSMap","addCSS","renderables","tmpRenderable","addRenderable","pRenderableHash","pDefaultTemplateRecordAddress","pDefaultDestinationAddress","pRenderMethod","RenderableHash","TemplateHash","ContentDestinationAddress","RenderMethod","onBeforeRender","pRenderable","onBeforeRenderAsync","onBeforeProject","onBeforeProjectAsync","buildRenderOptions","pRenderDestinationAddress","pTemplateRecordAddress","tmpRenderOptions","Valid","Renderable","DestinationAddress","RecordAddress","Record","DataProvider","getDataByAddress","undefined","assignRenderContent","pContent","ContentAssignment","projectContent","TestAddress","pRootRenderable","renderWithScope","tmpRecordAddress","tmpRecord","tmpRenderableHash","TransactionHash","RootRenderableViewHash","TransactionTracking","registerTransaction","Content","parseTemplateByHash","RootRenderable","onProject","onAfterProject","onAfterRender","renderWithScopeAsync","tmpCallback","Name","newAnticipate","fOnBeforeRenderCallback","fAsyncTemplateCallback","fNext","onProjectAsync","onAfterProjectAsync","onAfterRenderAsync","renderDefaultAsync","basicRender","basicRenderWithScope","basicRenderAsync","basicRenderWithScopeAsync","pushToTransactionQueue","ViewHash","tmpTransactionQueue","clearTransactionQueue","tmpEvent","tmpView","views","Data","queue","event","onBeforeSolve","onBeforeSolveAsync","onSolve","onSolveAsync","onAfterSolve","onAfterSolveAsync","onBeforeMarshalFromView","onBeforeMarshalFromViewAsync","onMarshalFromView","onMarshalFromViewAsync","marshalFromView","onAfterMarshalFromView","marshalFromViewAsync","onAfterMarshalFromViewAsync","onBeforeMarshalToView","onBeforeMarshalToViewAsync","onMarshalToView","onMarshalToViewAsync","marshalToView","onAfterMarshalToView","marshalToViewAsync","onAfterMarshalToViewAsync","isPictView","libPictProvider","libPPRouter","libPPCSSHotloader","libPPConfigStorage","libPPTemplateOverrideStorage","libPPContainer","libPPMain","libPPNav","libPPADB","libPPTB","libPPVB","libPPPB","libPPTO","_DefaultProviderConfiguration","show","toggleUIBehavior","addProvider","default_configuration","tmpRootPanelView","addView","tmpMainView","tmpSavedConfig","providers","load","Behaviors","tmpKeys","keys","uiState","applyConfig","applyOverrides","inject","pPictInstance","tmpPict","_Pict","HTML","_DEFAULT_PROVIDER_CONFIGURATION","CustomPanelCSS","injectedCSS","hotloadCSS","tmpCSSContainer","getElement","Array","isArray","tmpCSS","document","createElement","id","innerHTML","head","appendChild","StorageKey","save","pUIState","tmpConfig","ManualTop","ManualLeft","ManualWidth","tmpPanelElement","getElementById","PanelStyle","top","style","left","right","width","height","activeView","ActiveView","localStorage","setItem","tmpRaw","getItem","clear","removeItem","pMainView","tab_mode","classList","add","night_mode","resize_handle","pin_right","pin_top","show_ui","tmpNavElement","querySelector","tmpContentElement","display","show_navigation","initializePanelIcons","navigateTo","pViewHash","tmpNavItems","querySelectorAll","getAttribute","remove","loadOverrides","_persist","pOverrides","saveOverride","pHash","pOriginal","pOverride","tmpOverrides","Override","Active","Original","removeOverride","tmpOriginal","toggleOverride","pActive","toggleAll","tmpHashes","tmpHash","tmpApplied","libPictView","_ViewConfiguration","Wired","maximize_mode","lock_position","visible","SavedPosition","SavedTabPosition","wireDragEvents","updateUIBehaviorDisplay","pBehaviorHash","tmpBehaviorToggleElementAddress","hasClass","removeClass","addClass","minWidth","maxWidth","maxHeight","tmpDisplay","tmpBehaviors","__View","tmpPanelDragElement","addEventListener","pEvent","preventDefault","tmpOffsetX","offsetX","clientLeft","tmpOffsetY","offsetY","clientTop","dragHandler","stopPropagation","clientX","clientY","dragStop","removeEventListener","tmpUIBehaviorIcons","currentTarget","tmpToggleProperty","attributes","libPictTemplate","prototypeTemplate","rootAddress","renderChildTree","downloadAppData","tmpData","tmpBlob","Blob","tmpURL","URL","createObjectURL","tmpLink","href","download","body","click","removeChild","revokeObjectURL","editAppData","tmpEditor","tmpTextarea","focus","saveAppData","tmpNewData","closeEditor","setTimeout","getValueSummary","pValue","tmpStr","substring","isExpandable","getDataType","getChildCount","toggleChildTree","pParentPath","pObjectPath","pKey","tmpTargetElementAddress","tmpTargetElement","tmpElement","tmpParentEntry","closest","tmpExpandIcon","trim","tmpObject","tmpLeaves","tmpBranches","tmpValue","tmpEntry","Key","Value","ParentPath","ObjectPath","DataType","ChildCount","push","tmpOutput","assignContent","tmpObjectEntries","tmpValueKey","parseTemplateSetByHash","detailHash","showList","getProviderEntries","tmpProviders","tmpEntries","tmpInfo","Info","sort","b","localeCompare","formatTimestamp","pTimestamp","Date","toLocaleTimeString","showDetail","tmpProvider","tmpTemplateCount","AutoInit","AutoSolve","InitTS","SolveTS","TemplateCount","renderDetailOptions","pProvider","tmpKey","tmpVal","tmpDisplayVal","replace","execProviderAction","pAction","currentFilter","editingHash","renderTemplateList","getTemplateEntries","tmpTemplates","templates","tmpSources","templateSources","tmpSource","tmpPreview","Preview","tmpFilterLower","toLowerCase","filter","pEntry","indexOf","filterTemplates","pFilterText","editTemplate","getTemplate","tmpHashLabel","textContent","saveTemplate","tmpNewContent","tmpOverrideStorage","renderOverrideList","getOverrideEntries","ActiveClass","DotColor","ToggleTitle","exportOverrides","tmpExport","tmpSiteHash","location","hostname","tmpJSON","exportOverridesJS","tmpLines","endsWith","tmpContent","join","getViewEntries","tmpViews","tmpRenderableCount","DefaultDestination","RenderTS","MarshalToTS","MarshalFromTS","RenderableCount","renderDetailTemplates","pView","tmpTpl","execViewAction"],"mappings":"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","file":"pict-panel.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.PictPanel = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nmodule.exports={\n    \"name\": \"fable-serviceproviderbase\",\n    \"version\": \"3.0.18\",\n    \"description\": \"Simple base classes for fable services.\",\n    \"main\": \"source/Fable-ServiceProviderBase.js\",\n    \"scripts\": {\n        \"start\": \"node source/Fable-ServiceProviderBase.js\",\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\",\n        \"types\": \"tsc -p ./tsconfig.build.json\",\n        \"check\": \"tsc -p . --noEmit\"\n    },\n    \"types\": \"types/source/Fable-ServiceProviderBase.d.ts\",\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"https://github.com/stevenvelozo/fable-serviceproviderbase.git\"\n    },\n    \"keywords\": [\n        \"entity\",\n        \"behavior\"\n    ],\n    \"author\": \"Steven Velozo <steven@velozo.com> (http://velozo.com/)\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/fable-serviceproviderbase/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/fable-serviceproviderbase\",\n    \"devDependencies\": {\n        \"@types/mocha\": \"^10.0.10\",\n        \"fable\": \"^3.1.55\",\n        \"quackage\": \"^1.0.51\",\n        \"typescript\": \"^5.9.3\"\n    }\n}\n\n},{}],2:[function(require,module,exports){\n/**\n* Fable Service Base\n* @author <steven@velozo.com>\n*/\n\nconst libPackage = require('../package.json');\n\nclass FableServiceProviderBase\n{\n\t/**\n\t * The constructor can be used in two ways:\n\t * 1) With a fable, options object and service hash (the options object and service hash are optional)a\n\t * 2) With an object or nothing as the first parameter, where it will be treated as the options object\n\t *\n\t * @param {import('fable')|Record<string, any>} [pFable] - (optional) The fable instance, or the options object if there is no fable\n\t * @param {Record<string, any>|string} [pOptions] - (optional) The options object, or the service hash if there is no fable\n\t * @param {string} [pServiceHash] - (optional) The service hash to identify this service instance\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t/** @type {import('fable')} */\n\t\tthis.fable;\n\t\t/** @type {string} */\n\t\tthis.UUID;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.options;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.services;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.servicesMap;\n\n\t\t// Check if a fable was passed in; connect it if so\n\t\tif ((typeof(pFable) === 'object') && pFable.isFable)\n\t\t{\n\t\t\tthis.connectFable(pFable);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.fable = false;\n\t\t}\n\n\t\t// Initialize the services map if it wasn't passed in\n\t\t/** @type {Record<string, any>} */\n\t\tthis._PackageFableServiceProvider = libPackage;\n\n\t\t// initialize options and UUID based on whether the fable was passed in or not.\n\t\tif (this.fable)\n\t\t{\n\t\t\tthis.UUID = pFable.getUUID();\n\t\t\tthis.options = (typeof(pOptions) === 'object') ? pOptions\n\t\t\t\t\t\t\t: {};\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// With no fable, check to see if there was an object passed into either of the first two\n\t\t\t// Parameters, and if so, treat it as the options object\n\t\t\tthis.options = ((typeof(pFable) === 'object') && !pFable.isFable) ? pFable\n\t\t\t\t\t\t\t: (typeof(pOptions) === 'object') ? pOptions\n\t\t\t\t\t\t\t: {};\n\t\t\tthis.UUID = `CORE-SVC-${Math.floor((Math.random() * (99999 - 10000)) + 10000)}`\n\t\t}\n\n\t\t// It's expected that the deriving class will set this\n\t\tthis.serviceType = `Unknown-${this.UUID}`;\n\n\t\t// The service hash is used to identify the specific instantiation of the service in the services map\n\t\tthis.Hash = (typeof(pServiceHash) === 'string') ? pServiceHash \n\t\t\t\t\t: (!this.fable && (typeof(pOptions) === 'string')) ? pOptions\n\t\t\t\t\t: `${this.UUID}`;\n\t}\n\n\t/**\n\t * @param {import('fable')} pFable\n\t */\n\tconnectFable(pFable)\n\t{\n\t\tif ((typeof(pFable) !== 'object') || (!pFable.isFable))\n\t\t{\n\t\t\tlet tmpErrorMessage = `Fable Service Provider Base: Cannot connect to Fable, invalid Fable object passed in.  The pFable parameter was a [${typeof(pFable)}].}`;\n\t\t\tconsole.log(tmpErrorMessage);\n\t\t\treturn new Error(tmpErrorMessage);\n\t\t}\n\n\t\tif (!this.fable)\n\t\t{\n\t\t\tthis.fable = pFable;\n\t\t}\n\n\t\tif (!this.log)\n\t\t{\n\t\t\tthis.log = this.fable.Logging;\n\t\t}\n\t\tif (!this.services)\n\t\t{\n\t\t\tthis.services = this.fable.services;\n\t\t}\n\n\t\tif (!this.servicesMap)\n\t\t{\n\t\t\tthis.servicesMap = this.fable.servicesMap;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tstatic isFableService = true;\n}\n\nmodule.exports = FableServiceProviderBase;\n\n// This is left here in case we want to go back to having different code/base class for \"core\" services\nmodule.exports.CoreServiceProviderBase = FableServiceProviderBase;\n\n},{\"../package.json\":1}],3:[function(require,module,exports){\nmodule.exports={\n    \"name\": \"pict-provider\",\n    \"version\": \"1.0.10\",\n    \"description\": \"Pict Provider Base Class\",\n    \"main\": \"source/Pict-Provider.js\",\n    \"scripts\": {\n        \"start\": \"node source/Pict-Provider.js\",\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\",\n        \"docker-dev-build\": \"docker build ./ -f Dockerfile_LUXURYCode -t pict-provider-image:local\",\n        \"docker-dev-run\": \"docker run -it -d --name pict-provider-dev -p 24125:8080 -p 30027:8086 -v \\\"$PWD/.config:/home/coder/.config\\\"  -v \\\"$PWD:/home/coder/pict-provider\\\" -u \\\"$(id -u):$(id -g)\\\" -e \\\"DOCKER_USER=$USER\\\" pict-provider-image:local\",\n        \"docker-dev-shell\": \"docker exec -it pict-provider-dev /bin/bash\",\n        \"lint\": \"eslint source/**\",\n        \"types\": \"tsc -p .\"\n    },\n    \"types\": \"types/source/Pict-Provider.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-provider.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-provider/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-provider#readme\",\n    \"devDependencies\": {\n        \"@eslint/js\": \"^9.39.1\",\n        \"eslint\": \"^9.39.1\",\n        \"pict\": \"^1.0.348\",\n        \"quackage\": \"^1.0.51\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"dependencies\": {\n        \"fable-serviceproviderbase\": \"^3.0.18\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    }\n}\n\n},{}],4:[function(require,module,exports){\nconst libFableServiceBase = require('fable-serviceproviderbase');\n\nconst libPackage = require('../package.json');\n\nconst defaultPictProviderSettings = (\n\t{\n\t\tProviderIdentifier: false,\n\n\t\t// If this is set to true, when the App initializes this will.\n\t\t// After the App initializes, initialize will be called as soon as it's added.\n\t\tAutoInitialize: true,\n\t\tAutoInitializeOrdinal: 0,\n\n\t\tAutoLoadDataWithApp: true,\n\n\t\tAutoSolveWithApp: true,\n\t\tAutoSolveOrdinal: 0,\n\n\t\tManifests: {},\n\n\t\tTemplates: []\n\t});\n\nclass PictProvider extends libFableServiceBase\n{\n\t/**\n\t * @param {import('fable')} pFable - The Fable instance.\n\t * @param {Record<string, any>} [pOptions] - The options for the provider.\n\t * @param {string} [pServiceHash] - The service hash for the provider.\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t// Intersect default options, parent constructor, service information\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(defaultPictProviderSettings)), pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\n\t\t/** @type {import('fable') & import('pict') & { instantiateServiceProviderWithoutRegistration(pServiceType: string, pOptions?: Record<string, any>, pCustomServiceHash?: string): any }} */\n\t\tthis.fable;\n\t\t/** @type {import('fable') & import('pict') & { instantiateServiceProviderWithoutRegistration(pServiceType: string, pOptions?: Record<string, any>, pCustomServiceHash?: string): any }} */\n\t\tthis.pict;\n\t\t/** @type {any} */\n\t\tthis.log;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.options;\n\t\t/** @type {string} */\n\t\tthis.UUID;\n\t\t/** @type {string} */\n\t\tthis.Hash;\n\n\t\tif (!this.options.ProviderIdentifier)\n\t\t{\n\t\t\tthis.options.ProviderIdentifier = `AutoProviderID-${this.fable.getUUID()}`;\n\t\t}\n\n\t\tthis.serviceType = 'PictProvider';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\n\t\t// Convenience and consistency naming\n\t\tthis.pict = this.fable;\n\n\t\t// Wire in the essential Pict application state\n\t\t/** @type {Record<string, any>} */\n\t\tthis.AppData = this.pict.AppData;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.Bundle = this.pict.Bundle;\n\n\t\tthis.initializeTimestamp = false;\n\t\tthis.lastSolvedTimestamp = false;\n\n\t\tfor (let i = 0; i < this.options.Templates.length; i++)\n\t\t{\n\t\t\tlet tmpDefaultTemplate = this.options.Templates[i];\n\n\t\t\tif (!tmpDefaultTemplate.hasOwnProperty('Postfix') || !tmpDefaultTemplate.hasOwnProperty('Template'))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} could not load Default Template ${i} in the options array.`, tmpDefaultTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpDefaultTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpDefaultTemplate.Source = `PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addDefaultTemplate(tmpDefaultTemplate.Prefix, tmpDefaultTemplate.Postfix, tmpDefaultTemplate.Template, tmpDefaultTemplate.Source);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                        Code Section: Initialization                        */\n\t/* -------------------------------------------------------------------------- */\n\tonBeforeInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onBeforeInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-pinitialization.\n\t *\n\t * @return {void}\n\t */\n\tonBeforeInitializeAsync(fCallback)\n\t{\n\t\tthis.onBeforeInitialize();\n\t\treturn fCallback();\n\t}\n\n\tonInitialize()\n\t{\n\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tonInitializeAsync(fCallback)\n\t{\n\t\tthis.onInitialize();\n\t\treturn fCallback();\n\t}\n\n\tinitialize()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow PROVIDER [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialize:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tthis.onBeforeInitialize();\n\t\t\tthis.onInitialize();\n\t\t\tthis.onAfterInitialize();\n\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialize called but initialization is already completed.  Aborting.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tinitializeAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow PROVIDER [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initializeAsync:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.info(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} beginning initialization...`);\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onBeforeInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onAfterInitializeAsync.bind(this));\n\n\t\t\ttmpAnticipate.wait(\n\t\t\t\t(pError) =>\n\t\t\t\t{\n\t\t\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialization failed: ${pError.message || pError}`, { Stack: pError.stack });\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.pict.LogNoisiness > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.info(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialization complete.`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fCallback();\n\t\t\t\t})\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} async initialize called but initialization is already completed.  Aborting.`);\n\t\t\t// TODO: Should this be an error?\n\t\t\treturn fCallback();\n\t\t}\n\t}\n\n\tonAfterInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onAfterInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\tthis.onAfterInitialize();\n\t\treturn fCallback();\n\t}\n\n\tonPreRender()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onPreRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-render.\n\t *\n\t * @return {void}\n\t */\n\tonPreRenderAsync(fCallback)\n\t{\n\t\tthis.onPreRender();\n\t\treturn fCallback();\n\t}\n\n\trender()\n\t{\n\t\treturn this.onPreRender();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after render.\n\t *\n\t * @return {void}\n\t */\n\trenderAsync(fCallback)\n\t{\n\t\tthis.onPreRender();\n\t\treturn fCallback();\n\t}\n\n\tonPreSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onPreSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-solve.\n\t *\n\t * @return {void}\n\t */\n\tonPreSolveAsync(fCallback)\n\t{\n\t\tthis.onPreSolve();\n\t\treturn fCallback();\n\t}\n\n\tsolve()\n\t{\n\t\treturn this.onPreSolve();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after solve.\n\t *\n\t * @return {void}\n\t */\n\tsolveAsync(fCallback)\n\t{\n\t\tthis.onPreSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data pre-load.\n\t */\n\tonBeforeLoadDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Hook to allow the provider to load data during application data load.\n\t *\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data load.\n\t */\n\tonLoadDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onLoadDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data post-load.\n\t */\n\tonAfterLoadDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data pre-load.\n\t *\n\t * @return {void}\n\t */\n\tonBeforeSaveDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Hook to allow the provider to load data during application data load.\n\t *\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data load.\n\t *\n\t * @return {void}\n\t */\n\tonSaveDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onSaveDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data post-load.\n\t *\n\t * @return {void}\n\t */\n\tonAfterSaveDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n}\n\nmodule.exports = PictProvider;\n\n},{\"../package.json\":3,\"fable-serviceproviderbase\":2}],5:[function(require,module,exports){\nmodule.exports={\n    \"name\": \"pict-template\",\n    \"version\": \"1.0.14\",\n    \"description\": \"Pict Template Base Class\",\n    \"main\": \"source/Pict-Template.js\",\n    \"scripts\": {\n        \"start\": \"node source/Pict-Template.js\",\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\",\n        \"types\": \"tsc -p .\"\n    },\n    \"types\": \"types/source/Pict-Template.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-view.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-view/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-view#readme\",\n    \"devDependencies\": {\n        \"pict\": \"^1.0.348\",\n        \"quackage\": \"^1.0.51\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"dependencies\": {\n        \"fable-serviceproviderbase\": \"^3.0.18\"\n    }\n}\n\n},{}],6:[function(require,module,exports){\nconst libFableServiceBase = require('fable-serviceproviderbase');\n\nconst libPackage = require('../package.json');\n\n/** @typedef {import('pict') & {\n *     [key: string]: any, // represent services for now as a workaround\n * }} Pict */\n/**\n * @class PictTemplateExpression\n * @classdesc The PictTemplateExpression class is a service provider for the pict anti-framework that provides template rendering services.\n */\nclass PictTemplateExpression extends libFableServiceBase\n{\n\t/**\n\t * @param {Pict} pFable - The Fable Framework instance\n\t * @param {Record<string, any>} [pOptions] - The options for the service\n\t * @param {string} [pServiceHash] - The hash of the service\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\t/** @type {Pict} */\n\t\tthis.fable;\n\n\t\t/** @type {Pict} */\n\t\tthis.pict = this.fable;\n\n\t\tthis.serviceType = 'PictTemplate';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\t}\n\n\t/**\n\t * Render a template expression, returning a string with the resulting content.\n\t *\n\t * @param {string} pTemplateHash - The hash contents of the template (what's between the template start and stop tags)\n\t * @param {any} pRecord - The json object to be used as the Record for the template render\n\t * @param {Array<any>} pContextArray - An array of context objects accessible from the template; safe to leave empty\n\t * @param {any} [pScope] - A sticky scope that can be used to carry state and simplify template\n\t * @param {any} [pState] - A catchall state object for plumbing data through template processing.\n\t *\n\t * @return {string} The rendered template\n\t */\n\trender(pTemplateHash, pRecord, pContextArray, pScope, pState)\n\t{\n\t\treturn '';\n\t}\n\n\t/**\n\t * Render a template expression, deliver a string with the resulting content to a callback function.\n\t *\n\t * @param {string} pTemplateHash - The hash contents of the template (what's between the template start and stop tags)\n\t * @param {any} pRecord - The json object to be used as the Record for the template render\n\t * @param {(error?: Error, content?: String) => void} fCallback - callback function invoked with the rendered template, or an error\n\t * @param {Array<any>} pContextArray - An array of context objects accessible from the template; safe to leave empty\n\t * @param {any} [pScope] - A sticky scope that can be used to carry state and simplify template\n\t * @param {any} [pState] - A catchall state object for plumbing data through template processing.\n\t *\n\t * @return {void}\n\t */\n\trenderAsync(pTemplateHash, pRecord, fCallback, pContextArray, pScope, pState)\n\t{\n\t\treturn fCallback(null, this.render(pTemplateHash, pRecord, pContextArray, pScope, pState));\n\t}\n\n\t/**\n\t * Provide a match criteria for a template expression.  Anything between these two values is returned as the template hash.\n\t *\n\t * @param {string} pMatchStart - The string pattern to start a match in the template trie\n\t * @param {string} pMatchEnd  - The string pattern to stop a match in the trie acyclic graph\n\t *\n\t * @return {void}\n\t */\n\taddPattern(pMatchStart, pMatchEnd)\n\t{\n\t\treturn this.pict.MetaTemplate.addPatternBoth(pMatchStart, pMatchEnd, this.render, this.renderAsync, this);\n\t}\n\n\t/**\n\t * Read a value from a nested object using a dot notation string.\n\t *\n\t * @param {string} pAddress - The address to resolve\n\t * @param {Record<string, any>} pRecord - The record to resolve\n\t * @param {Array<any>} [pContextArray] - The context array to resolve (optional)\n\t * @param {Record<string, any>} [pRootDataObject] - The root data object to resolve (optional)\n\t * @param {any} [pScope] - A sticky scope that can be used to carry state and simplify template\n\t * @param {any} [pState] - A catchall state object for plumbing data through template processing.\n\t *\n\t * @return {any} The value at the given address, or undefined\n\t */\n\tresolveStateFromAddress(pAddress, pRecord, pContextArray, pRootDataObject, pScope, pState)\n\t{\n\t\treturn this.pict.resolveStateFromAddress(pAddress, pRecord, pContextArray, pRootDataObject, pScope, pState);\n\t}\n}\n\nmodule.exports = PictTemplateExpression;\nmodule.exports.template_hash = 'Default';\n\n},{\"../package.json\":5,\"fable-serviceproviderbase\":2}],7:[function(require,module,exports){\nmodule.exports={\n    \"name\": \"pict-view\",\n    \"version\": \"1.0.66\",\n    \"description\": \"Pict View Base Class\",\n    \"main\": \"source/Pict-View.js\",\n    \"scripts\": {\n        \"test\": \"mocha -u tdd -R spec\",\n        \"tests\": \"mocha -u tdd -R spec -g\",\n        \"start\": \"node source/Pict-View.js\",\n        \"coverage\": \"nyc --reporter=lcov --reporter=text-lcov npm test\",\n        \"build\": \"npx quack build\",\n        \"docker-dev-build\": \"docker build ./ -f Dockerfile_LUXURYCode -t pict-view-image:local\",\n        \"docker-dev-run\": \"docker run -it -d --name pict-view-dev -p 30001:8080 -p 38086:8086 -v \\\"$PWD/.config:/home/coder/.config\\\"  -v \\\"$PWD:/home/coder/pict-view\\\" -u \\\"$(id -u):$(id -g)\\\" -e \\\"DOCKER_USER=$USER\\\" pict-view-image:local\",\n        \"docker-dev-shell\": \"docker exec -it pict-view-dev /bin/bash\",\n        \"types\": \"tsc -p .\",\n        \"lint\": \"eslint source/**\"\n    },\n    \"types\": \"types/source/Pict-View.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-view.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-view/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-view#readme\",\n    \"devDependencies\": {\n        \"@eslint/js\": \"^9.39.1\",\n        \"browser-env\": \"^3.3.0\",\n        \"eslint\": \"^9.39.1\",\n        \"pict\": \"^1.0.348\",\n        \"quackage\": \"^1.0.51\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"dependencies\": {\n        \"fable\": \"^3.1.57\",\n        \"fable-serviceproviderbase\": \"^3.0.18\"\n    }\n}\n\n},{}],8:[function(require,module,exports){\n\nconst libFableServiceBase = require('fable-serviceproviderbase');\n\nconst libPackage = require('../package.json');\n\nconst defaultPictViewSettings = (\n\t{\n\t\tDefaultRenderable: false,\n\t\tDefaultDestinationAddress: false,\n\t\tDefaultTemplateRecordAddress: false,\n\n\t\tViewIdentifier: false,\n\n\t\t// If this is set to true, when the App initializes this will.\n\t\t// After the App initializes, initialize will be called as soon as it's added.\n\t\tAutoInitialize: true,\n\t\tAutoInitializeOrdinal: 0,\n\n\t\t// If this is set to true, when the App autorenders (on load) this will.\n\t\t// After the App initializes, render will be called as soon as it's added.\n\t\tAutoRender: true,\n\t\tAutoRenderOrdinal: 0,\n\n\t\tAutoSolveWithApp: true,\n\t\tAutoSolveOrdinal: 0,\n\n\t\tCSSHash: false,\n\t\tCSS: false,\n\t\tCSSProvider: false,\n\t\tCSSPriority: 500,\n\n\t\tTemplates: [],\n\n\t\tDefaultTemplates: [],\n\n\t\tRenderables: [],\n\n\t\tManifests: {}\n\t});\n\n/** @typedef {(error?: Error) => void} ErrorCallback */\n/** @typedef {number | boolean} PictTimestamp */\n\n/**\n * @typedef {'replace' | 'append' | 'prepend' | 'append_once' | 'virtual-assignment'} RenderMethod\n */\n/**\n * @typedef {Object} Renderable\n *\n * @property {string} RenderableHash - A unique hash for the renderable.\n * @property {string} TemplateHash - The hash of the template to use for rendering this renderable.\n * @property {string} [DefaultTemplateRecordAddress] - The default address for resolving the data record for this renderable.\n * @property {string} [ContentDestinationAddress] - The default address (DOM CSS selector) for rendering the content of this renderable.\n * @property {RenderMethod} [RenderMethod=replace] - The method to use when projecting the renderable to the DOM ('replace', 'append', 'prepend', 'append_once', 'virtual-assignment').\n * @property {string} [TestAddress] - The address to use for testing the renderable.\n * @property {string} [TransactionHash] - The transaction hash for the root renderable.\n * @property {string} [RootRenderableViewHash] - The hash of the root renderable.\n * @property {string} [Content] - The rendered content for this renderable, if applicable.\n */\n\n/**\n * Represents a view in the Pict ecosystem.\n */\nclass PictView extends libFableServiceBase\n{\n\t/**\n\t * @param {any} pFable - The Fable object that this service is attached to.\n\t * @param {any} [pOptions] - (optional) The options for this service.\n\t * @param {string} [pServiceHash] - (optional) The hash of the service.\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t// Intersect default options, parent constructor, service information\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(defaultPictViewSettings)), pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\t\t//FIXME: add types to fable and ancillaries\n\t\t/** @type {any} */\n\t\tthis.fable;\n\t\t/** @type {any} */\n\t\tthis.options;\n\t\t/** @type {String} */\n\t\tthis.UUID;\n\t\t/** @type {String} */\n\t\tthis.Hash;\n\t\t/** @type {any} */\n\t\tthis.log;\n\n\t\tconst tmpHashIsUUID = this.Hash === this.UUID;\n\t\t//NOTE: since many places are using the view UUID as the HTML element ID, we prefix it to avoid starting with a number\n\t\tthis.UUID = `V-${this.UUID}`;\n\t\tif (tmpHashIsUUID)\n\t\t{\n\t\t\tthis.Hash = this.UUID;\n\t\t}\n\n\t\tif (!this.options.ViewIdentifier)\n\t\t{\n\t\t\tthis.options.ViewIdentifier = `AutoViewID-${this.fable.getUUID()}`;\n\t\t}\n\t\tthis.serviceType = 'PictView';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\t\t// Convenience and consistency naming\n\t\t/** @type {import('pict') & { log: any, instantiateServiceProviderWithoutRegistration: (hash: String) => any, instantiateServiceProviderIfNotExists: (hash: string) => any, TransactionTracking: import('pict/types/source/services/Fable-Service-TransactionTracking') }} */\n\t\tthis.pict = this.fable;\n\t\t// Wire in the essential Pict application state\n\t\tthis.AppData = this.pict.AppData;\n\t\tthis.Bundle = this.pict.Bundle;\n\n\t\t/** @type {PictTimestamp} */\n\t\tthis.initializeTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastSolvedTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastRenderedTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastMarshalFromViewTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastMarshalToViewTimestamp = false;\n\n\t\tthis.pict.instantiateServiceProviderIfNotExists('TransactionTracking');\n\n\t\t// Load all templates from the array in the options\n\t\t// Templates are in the form of {Hash:'Some-Template-Hash',Template:'Template content',Source:'TemplateSource'}\n\t\tfor (let i = 0; i < this.options.Templates.length; i++)\n\t\t{\n\t\t\tlet tmpTemplate = this.options.Templates[i];\n\n\t\t\tif (!('Hash' in tmpTemplate) || !('Template' in tmpTemplate))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Template ${i} in the options array.`, tmpTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpTemplate.Source = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addTemplate(tmpTemplate.Hash, tmpTemplate.Template, tmpTemplate.Source);\n\t\t\t}\n\t\t}\n\n\t\t// Load all default templates from the array in the options\n\t\t// Templates are in the form of {Prefix:'',Postfix:'-List-Row',Template:'Template content',Source:'TemplateSourceString'}\n\t\tfor (let i = 0; i < this.options.DefaultTemplates.length; i++)\n\t\t{\n\t\t\tlet tmpDefaultTemplate = this.options.DefaultTemplates[i];\n\n\t\t\tif (!('Postfix' in tmpDefaultTemplate) || !('Template' in tmpDefaultTemplate))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Default Template ${i} in the options array.`, tmpDefaultTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpDefaultTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpDefaultTemplate.Source = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addDefaultTemplate(tmpDefaultTemplate.Prefix, tmpDefaultTemplate.Postfix, tmpDefaultTemplate.Template, tmpDefaultTemplate.Source);\n\t\t\t}\n\t\t}\n\n\t\t// Load the CSS if it's available\n\t\tif (this.options.CSS)\n\t\t{\n\t\t\tlet tmpCSSHash = this.options.CSSHash ? this.options.CSSHash : `View-${this.options.ViewIdentifier}`;\n\t\t\tlet tmpCSSProvider = this.options.CSSProvider ? this.options.CSSProvider : tmpCSSHash;\n\t\t\tthis.pict.CSSMap.addCSS(tmpCSSHash, this.options.CSS, tmpCSSProvider, this.options.CSSPriority);\n\t\t}\n\n\t\t// Load all renderables\n\t\t// Renderables are launchable renderable instructions with templates\n\t\t// They look as such: {Identifier:'ContentEntry', TemplateHash:'Content-Entry-Section-Main', ContentDestinationAddress:'#ContentSection', RecordAddress:'AppData.Content.DefaultText', ManifestTransformation:'ManyfestHash', ManifestDestinationAddress:'AppData.Content.DataToTransformContent'}\n\t\t// The only parts that are necessary are Identifier and Template\n\t\t// A developer can then do render('ContentEntry') and it just kinda works.  Or they can override the ContentDestinationAddress\n\t\t/** @type {Record<String, Renderable>} */\n\t\tthis.renderables = {};\n\t\tfor (let i = 0; i < this.options.Renderables.length; i++)\n\t\t{\n\t\t\t/** @type {Renderable} */\n\t\t\tlet tmpRenderable = this.options.Renderables[i];\n\t\t\tthis.addRenderable(tmpRenderable);\n\t\t}\n\t}\n\n\t/**\n\t * Adds a renderable to the view.\n\t *\n\t * @param {string | Renderable} pRenderableHash - The hash of the renderable, or a renderable object.\n\t * @param {string} [pTemplateHash] - (optional) The hash of the template for the renderable.\n\t * @param {string} [pDefaultTemplateRecordAddress] - (optional) The default data address for the template.\n\t * @param {string} [pDefaultDestinationAddress] - (optional) The default destination address for the renderable.\n\t * @param {RenderMethod} [pRenderMethod=replace] - (optional) The method to use when rendering the renderable (ex. 'replace').\n\t */\n\taddRenderable(pRenderableHash, pTemplateHash, pDefaultTemplateRecordAddress, pDefaultDestinationAddress, pRenderMethod)\n\t{\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\n\t\tif (typeof(pRenderableHash) == 'object')\n\t\t{\n\t\t\t// The developer passed in the renderable as an object.\n\t\t\t// Use theirs instead!\n\t\t\ttmpRenderable = pRenderableHash;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t/** @type {RenderMethod} */\n\t\t\tlet tmpRenderMethod = (typeof(pRenderMethod) !== 'string') ? pRenderMethod : 'replace';\n\t\t\ttmpRenderable = (\n\t\t\t\t{\n\t\t\t\t\tRenderableHash: pRenderableHash,\n\t\t\t\t\tTemplateHash: pTemplateHash,\n\t\t\t\t\tDefaultTemplateRecordAddress: pDefaultTemplateRecordAddress,\n\t\t\t\t\tContentDestinationAddress: pDefaultDestinationAddress,\n\t\t\t\t\tRenderMethod: tmpRenderMethod\n\t\t\t\t});\n\t\t}\n\n\t\tif ((typeof(tmpRenderable.RenderableHash) != 'string') || (typeof(tmpRenderable.TemplateHash) != 'string'))\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Renderable; RenderableHash or TemplateHash are invalid.`, tmpRenderable);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} adding renderable [${tmpRenderable.RenderableHash}] pointed to template ${tmpRenderable.TemplateHash}.`);\n\t\t\t}\n\n\t\t\tthis.renderables[tmpRenderable.RenderableHash] = tmpRenderable;\n\t\t}\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                        Code Section: Initialization                        */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is initialized.\n\t */\n\tonBeforeInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeInitializeAsync(fCallback)\n\t{\n\t\tthis.onBeforeInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is initialized.\n\t */\n\tonInitialize()\n\t{\n\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonInitializeAsync(fCallback)\n\t{\n\t\tthis.onInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Performs view initialization.\n\t */\n\tinitialize()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialize:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tthis.onBeforeInitialize();\n\t\t\tthis.onInitialize();\n\t\t\tthis.onAfterInitialize();\n\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialize called but initialization is already completed.  Aborting.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Performs view initialization (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tinitializeAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initializeAsync:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.info(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} beginning initialization...`);\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onBeforeInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onAfterInitializeAsync.bind(this));\n\n\t\t\ttmpAnticipate.wait(\n\t\t\t\t/** @param {Error} pError */\n\t\t\t\t(pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialization failed: ${pError.message || pError}`, { stack: pError.stack });\n\t\t\t\t\t}\n\t\t\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.info(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialization complete.`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fCallback();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} async initialize called but initialization is already completed.  Aborting.`);\n\t\t\t// TODO: Should this be an error?\n\t\t\treturn fCallback();\n\t\t}\n\t}\n\n\tonAfterInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\tthis.onAfterInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                            Code Section: Render                            */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is rendered.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that will be rendered.\n\t */\n\tonBeforeRender(pRenderable)\n\t{\n\t\t// Overload this to mess with stuff before the content gets generated from the template\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is rendered (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that will be rendered.\n\t */\n\tonBeforeRenderAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onBeforeRender(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is projected into the DOM.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that will be projected.\n\t */\n\tonBeforeProject(pRenderable)\n\t{\n\t\t// Overload this to mess with stuff before the content gets generated from the template\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeProject:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is projected into the DOM (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that will be projected.\n\t */\n\tonBeforeProjectAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onBeforeProject(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Builds the render options for a renderable.\n\t *\n\t * For DRY purposes on the three flavors of render.\n\t *\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbuildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\tlet tmpRenderOptions = {Valid: true};\n\t\ttmpRenderOptions.RenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t\t\t\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ?\n\t\t\t\t\t\t\t\tthis.options.DefaultRenderable : false;\n\t\tif (!tmpRenderOptions.RenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not find a suitable RenderableHash ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\ttmpRenderOptions.Renderable = this.renderables[tmpRenderOptions.RenderableHash];\n\t\tif (!tmpRenderOptions.Renderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\ttmpRenderOptions.DestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t(typeof (tmpRenderOptions.Renderable.ContentDestinationAddress) === 'string') ? tmpRenderOptions.Renderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : false;\n\t\tif (!tmpRenderOptions.DestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address (param ${pRenderDestinationAddress}).`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRenderOptions.RecordAddress = 'Passed in as object';\n\t\t\ttmpRenderOptions.Record = pTemplateRecordAddress;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderOptions.RecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderOptions.Renderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderOptions.Renderable.DefaultTemplateRecordAddress :\n\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\t\t\ttmpRenderOptions.Record = (typeof (tmpRenderOptions.RecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRenderOptions.RecordAddress) : undefined;\n\t\t}\n\n\t\treturn tmpRenderOptions;\n\t}\n\n\t/**\n\t * Assigns the content to the destination address.\n\t *\n\t * For DRY purposes on the three flavors of render.\n\t *\n\t * @param {Renderable} pRenderable - The renderable to render.\n\t * @param {string} pRenderDestinationAddress - The address where the renderable will be rendered.\n\t * @param {string} pContent - The content to render.\n\t * @returns {boolean} - Returns true if the content was assigned successfully.\n\t * @memberof PictView\n\t */\n\tassignRenderContent(pRenderable, pRenderDestinationAddress, pContent)\n\t{\n\t\treturn this.pict.ContentAssignment.projectContent(pRenderable.RenderMethod, pRenderDestinationAddress, pContent, pRenderable.TestAddress);\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @return {boolean}\n\t */\n\trender(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable)\n\t{\n\t\treturn this.renderWithScope(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable);\n\t}\n\n\t/**\n\t * Render a renderable from this view, providing a specifici scope for the template.\n\t *\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @return {boolean}\n\t */\n\trenderWithScope(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable)\n\t{\n\t\tlet tmpRenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ? this.options.DefaultRenderable : false;\n\t\tif (!tmpRenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it is not a valid renderable.`);\n\t\t\treturn false;\n\t\t}\n\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\t\tif (tmpRenderableHash == '__Virtual')\n\t\t{\n\t\t\ttmpRenderable = {\n\t\t\t\tRenderableHash: '__Virtual',\n\t\t\t\tTemplateHash: this.renderables[this.options.DefaultRenderable].TemplateHash,\n\t\t\t\tContentDestinationAddress: (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null,\n\t\t\t\tRenderMethod: 'virtual-assignment',\n\t\t\t\tTransactionHash: pRootRenderable && pRootRenderable.TransactionHash,\n\t\t\t\tRootRenderableViewHash: pRootRenderable && pRootRenderable.RootRenderableViewHash,\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderable = Object.assign({}, this.renderables[tmpRenderableHash]);\n\t\t\ttmpRenderable.ContentDestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null;\n\t\t}\n\n\t\tif (!tmpRenderable.TransactionHash)\n\t\t{\n\t\t\ttmpRenderable.TransactionHash = `ViewRender-V-${this.options.ViewIdentifier}-R-${tmpRenderableHash}-U-${this.pict.getUUID()}`;\n\t\t\ttmpRenderable.RootRenderableViewHash = this.Hash;\n\t\t\tthis.pict.TransactionTracking.registerTransaction(tmpRenderable.TransactionHash);\n\t\t}\n\n\t\tif (!tmpRenderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!tmpRenderable.ContentDestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address.`);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet tmpRecordAddress;\n\t\tlet tmpRecord;\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRecord = pTemplateRecordAddress;\n\t\t\ttmpRecordAddress = 'Passed in as object';\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderable.DefaultTemplateRecordAddress :\n\t\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\n\t\t\ttmpRecord = (typeof (tmpRecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRecordAddress) : undefined;\n\t\t}\n\n\t\t// Execute the developer-overridable pre-render behavior\n\t\tthis.onBeforeRender(tmpRenderable);\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] Renderable[${tmpRenderableHash}] Destination[${tmpRenderable.ContentDestinationAddress}] TemplateRecordAddress[${tmpRecordAddress}] render:`);\n\t\t}\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Beginning Render of Renderable[${tmpRenderableHash}] to Destination [${tmpRenderable.ContentDestinationAddress}]...`);\n\t\t}\n\t\t// Generate the content output from the template and data\n\t\ttmpRenderable.Content = this.pict.parseTemplateByHash(tmpRenderable.TemplateHash, tmpRecord, null, [this], pScope, { RootRenderable: typeof pRootRenderable === 'object' ? pRootRenderable : tmpRenderable });\n\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Assigning Renderable[${tmpRenderableHash}] content length ${tmpRenderable.Content.length} to Destination [${tmpRenderable.ContentDestinationAddress}] using render method [${tmpRenderable.RenderMethod}].`);\n\t\t}\n\n\t\tthis.onBeforeProject(tmpRenderable);\n\t\tthis.onProject(tmpRenderable);\n\n\t\tif (tmpRenderable.RenderMethod !== 'virtual-assignment')\n\t\t{\n\t\t\tthis.onAfterProject(tmpRenderable);\n\n\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\tthis.onAfterRender(tmpRenderable);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable|ErrorCallback} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t *\n\t * @return {void}\n\t */\n\trenderAsync(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback)\n\t{\n\t\treturn this.renderWithScopeAsync(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback);\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable|ErrorCallback} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t *\n\t * @return {void}\n\t */\n\trenderWithScopeAsync(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback)\n\t{\n\t\tlet tmpRenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ? this.options.DefaultRenderable : false;\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\t(typeof(pTemplateRecordAddress) === 'function') ? pTemplateRecordAddress :\n\t\t\t\t\t\t\t(typeof(pRenderDestinationAddress) === 'function') ? pRenderDestinationAddress :\n\t\t\t\t\t\t\t(typeof(pRenderableHash) === 'function') ? pRenderableHash :\n\t\t\t\t\t\t\t(typeof(pRootRenderable) === 'function') ? pRootRenderable :\n\t\t\t\t\t\t\tnull;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tif (!tmpRenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not asynchronously render ${tmpRenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`);\n\t\t\treturn tmpCallback(new Error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not asynchronously render ${tmpRenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`));\n\t\t}\n\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\t\tif (tmpRenderableHash == '__Virtual')\n\t\t{\n\t\t\ttmpRenderable = {\n\t\t\t\tRenderableHash: '__Virtual',\n\t\t\t\tTemplateHash: this.renderables[this.options.DefaultRenderable].TemplateHash,\n\t\t\t\tContentDestinationAddress: (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress : (typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null,\n\t\t\t\tRenderMethod: 'virtual-assignment',\n\t\t\t\tTransactionHash: pRootRenderable && typeof pRootRenderable !== 'function' && pRootRenderable.TransactionHash,\n\t\t\t\tRootRenderableViewHash: pRootRenderable && typeof pRootRenderable !== 'function' && pRootRenderable.RootRenderableViewHash,\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderable = Object.assign({}, this.renderables[tmpRenderableHash]);\n\t\t\ttmpRenderable.ContentDestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null;\n\t\t}\n\n\t\tif (!tmpRenderable.TransactionHash)\n\t\t{\n\t\t\ttmpRenderable.TransactionHash = `ViewRender-V-${this.options.ViewIdentifier}-R-${tmpRenderableHash}-U-${this.pict.getUUID()}`;\n\t\t\ttmpRenderable.RootRenderableViewHash = this.Hash;\n\t\t\tthis.pict.TransactionTracking.registerTransaction(tmpRenderable.TransactionHash);\n\t\t}\n\n\t\tif (!tmpRenderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\treturn tmpCallback(new Error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`));\n\t\t}\n\n\t\tif (!tmpRenderable.ContentDestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address.`);\n\t\t\treturn tmpCallback(new Error(`Could not render ${tmpRenderableHash}`));\n\t\t}\n\n\t\tlet tmpRecordAddress;\n\t\tlet tmpRecord;\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRecord = pTemplateRecordAddress;\n\t\t\ttmpRecordAddress = 'Passed in as object';\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderable.DefaultTemplateRecordAddress :\n\t\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\n\t\t\ttmpRecord = (typeof (tmpRecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRecordAddress) : undefined;\n\t\t}\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] Renderable[${tmpRenderableHash}] Destination[${tmpRenderable.ContentDestinationAddress}] TemplateRecordAddress[${tmpRecordAddress}] renderAsync:`);\n\t\t}\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Beginning Asynchronous Render (callback-style)...`);\n\t\t}\n\n\t\tlet tmpAnticipate = this.fable.newAnticipate();\n\n\t\ttmpAnticipate.anticipate(\n\t\t\t(fOnBeforeRenderCallback) =>\n\t\t\t{\n\t\t\t\tthis.onBeforeRenderAsync(fOnBeforeRenderCallback, tmpRenderable);\n\t\t\t});\n\n\t\ttmpAnticipate.anticipate(\n\t\t\t(fAsyncTemplateCallback) =>\n\t\t\t{\n\t\t\t\t// Render the template (asynchronously)\n\t\t\t\tthis.pict.parseTemplateByHash(tmpRenderable.TemplateHash, tmpRecord,\n\t\t\t\t\t(pError, pContent) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif (pError)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render (asynchronously) ${tmpRenderableHash} (param ${pRenderableHash}) because it did not parse the template.`, pError);\n\t\t\t\t\t\t\treturn fAsyncTemplateCallback(pError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmpRenderable.Content = pContent;\n\n\t\t\t\t\t\treturn fAsyncTemplateCallback();\n\t\t\t\t\t}, [this], pScope, { RootRenderable: typeof pRootRenderable === 'object' ? pRootRenderable : tmpRenderable });\n\t\t\t});\n\n\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t{\n\t\t\tthis.onBeforeProjectAsync(fNext, tmpRenderable);\n\t\t});\n\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t{\n\t\t\tthis.onProjectAsync(fNext, tmpRenderable);\n\t\t});\n\n\t\tif (tmpRenderable.RenderMethod !== 'virtual-assignment')\n\t\t{\n\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t{\n\t\t\t\tthis.onAfterProjectAsync(fNext, tmpRenderable);\n\t\t\t});\n\n\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t{\n\t\t\t\tthis.onAfterRenderAsync(fNext, tmpRenderable);\n\t\t\t});\n\t\t}\n\n\t\ttmpAnticipate.wait(tmpCallback);\n\t}\n\n\t/**\n\t * Renders the default renderable.\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\trenderDefaultAsync(fCallback)\n\t{\n\t\t// Render the default renderable\n\t\tthis.renderAsync(fCallback);\n\t}\n\n\t/**\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbasicRender(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\treturn this.basicRenderWithScope(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t}\n\n\t/**\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbasicRenderWithScope(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\tlet tmpRenderOptions = this.buildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t\tif (tmpRenderOptions.Valid)\n\t\t{\n\t\t\tthis.assignRenderContent(tmpRenderOptions.Renderable, tmpRenderOptions.DestinationAddress, this.pict.parseTemplateByHash(tmpRenderOptions.Renderable.TemplateHash, tmpRenderOptions.Record, null, [this], pScope, { RootRenderable: tmpRenderOptions.Renderable }));\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not perform a basic render of ${tmpRenderOptions.RenderableHash} because it is not valid.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|Object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t */\n\tbasicRenderAsync(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback)\n\t{\n\t\treturn this.basicRenderWithScopeAsync(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback);\n\t}\n\n\t/**\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|Object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t */\n\tbasicRenderWithScopeAsync(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback)\n\t{\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\t(typeof(pTemplateRecordAddress) === 'function') ? pTemplateRecordAddress :\n\t\t\t\t\t\t\t(typeof(pRenderDestinationAddress) === 'function') ? pRenderDestinationAddress :\n\t\t\t\t\t\t\t(typeof(pRenderableHash) === 'function') ? pRenderableHash :\n\t\t\t\t\t\t\tnull;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} basicRenderAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} basicRenderAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tconst tmpRenderOptions = this.buildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t\tif (tmpRenderOptions.Valid)\n\t\t{\n\t\t\tthis.pict.parseTemplateByHash(tmpRenderOptions.Renderable.TemplateHash, tmpRenderOptions.Record,\n\t\t\t\t/**\n\t\t\t\t * @param {Error} [pError] - The error that occurred during template parsing.\n\t\t\t\t * @param {string} [pContent] - The content that was rendered from the template.\n\t\t\t\t */\n\t\t\t\t(pError, pContent) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render (asynchronously) ${tmpRenderOptions.RenderableHash} because it did not parse the template.`, pError);\n\t\t\t\t\t\treturn tmpCallback(pError);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.assignRenderContent(tmpRenderOptions.Renderable, tmpRenderOptions.DestinationAddress, pContent);\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}, [this], pScope, { RootRenderable: tmpRenderOptions.Renderable });\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet tmpErrorMessage = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not perform a basic render of ${tmpRenderOptions.RenderableHash} because it is not valid.`;\n\t\t\tthis.log.error(tmpErrorMessage);\n\t\t\treturn tmpCallback(new Error(tmpErrorMessage));\n\t\t}\n\t}\n\n\t/**\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonProject(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onProject:`);\n\t\t}\n\t\tif (pRenderable.RenderMethod === 'virtual-assignment')\n\t\t{\n\t\t\tthis.pict.TransactionTracking.pushToTransactionQueue(pRenderable.TransactionHash, { ViewHash: this.Hash, Renderable: pRenderable }, 'Deferred-Post-Content-Assignment');\n\t\t}\n\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Assigning Renderable[${pRenderable.RenderableHash}] content length ${pRenderable.Content.length} to Destination [${pRenderable.ContentDestinationAddress}] using Async render method ${pRenderable.RenderMethod}.`);\n\t\t}\n\n\t\t// Assign the content to the destination address\n\t\tthis.pict.ContentAssignment.projectContent(pRenderable.RenderMethod, pRenderable.ContentDestinationAddress, pRenderable.Content, pRenderable.TestAddress);\n\n\t\tthis.lastRenderedTimestamp = this.pict.log.getTimeStamp();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM (async flow).\n\t *\n\t * @param {(error?: Error, content?: string) => void} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that is being projected.\n\t */\n\tonProjectAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onProject(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is rendered.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonAfterRender(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRender:`);\n\t\t}\n\t\tif (pRenderable && pRenderable.RootRenderableViewHash === this.Hash)\n\t\t{\n\t\t\tconst tmpTransactionQueue = this.pict.TransactionTracking.clearTransactionQueue(pRenderable.TransactionHash) || [];\n\t\t\tfor (const tmpEvent of tmpTransactionQueue)\n\t\t\t{\n\t\t\t\tconst tmpView = this.pict.views[tmpEvent.Data.ViewHash];\n\t\t\t\tif (!tmpView)\n\t\t\t\t{\n\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRender: Could not find view for transaction hash ${pRenderable.TransactionHash} and ViewHash ${tmpEvent.Data.ViewHash}.`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttmpView.onAfterProject();\n\n\t\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\t\ttmpView.onAfterRender(tmpEvent.Data.Renderable);\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is rendered (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonAfterRenderAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onAfterRender(pRenderable);\n\t\tconst tmpAnticipate = this.fable.newAnticipate();\n\t\tif (pRenderable && pRenderable.RootRenderableViewHash === this.Hash)\n\t\t{\n\t\t\tconst queue = this.pict.TransactionTracking.clearTransactionQueue(pRenderable.TransactionHash) || [];\n\t\t\tfor (const event of queue)\n\t\t\t{\n\t\t\t\t/** @type {PictView} */\n\t\t\t\tconst tmpView = this.pict.views[event.Data.ViewHash];\n\t\t\t\tif (!tmpView)\n\t\t\t\t{\n\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRenderAsync: Could not find view for transaction hash ${pRenderable.TransactionHash} and ViewHash ${event.Data.ViewHash}.`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttmpAnticipate.anticipate(tmpView.onAfterProjectAsync.bind(tmpView));\n\t\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t\t{\n\t\t\t\t\ttmpView.onAfterRenderAsync(fNext, event.Data.Renderable);\n\t\t\t\t});\n\n\t\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\t}\n\t\t}\n\t\treturn tmpAnticipate.wait(fCallback);\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that was projected.\n\t */\n\tonAfterProject(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterProject:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that was projected.\n\t */\n\tonAfterProjectAsync(fCallback, pRenderable)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                            Code Section: Solver                            */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is solved.\n\t */\n\tonBeforeSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeSolveAsync(fCallback)\n\t{\n\t\tthis.onBeforeSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is solved.\n\t */\n\tonSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonSolveAsync(fCallback)\n\t{\n\t\tthis.onSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Performs view solving and triggers lifecycle hooks.\n\t *\n\t * @return {boolean} - True if the view was solved successfully, false otherwise.\n\t */\n\tsolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeSolve();\n\t\tthis.onSolve();\n\t\tthis.onAfterSolve();\n\t\tthis.lastSolvedTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Performs view solving and triggers lifecycle hooks (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tsolveAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeSolveAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onSolveAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterSolveAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} solveAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastSolvedTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is solved.\n\t */\n\tonAfterSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterSolveAsync(fCallback)\n\t{\n\t\tthis.onAfterSolve();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal From View                        */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled from the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tonBeforeMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeMarshalFromViewAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled from the view.\n\t */\n\tonMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonMarshalFromViewAsync(fCallback)\n\t{\n\n\t\tthis.onMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Marshals data from the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tmarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeMarshalFromView();\n\t\tthis.onMarshalFromView();\n\t\tthis.onAfterMarshalFromView();\n\t\tthis.lastMarshalFromViewTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Marshals data from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tmarshalFromViewAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalFromViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onMarshalFromViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalFromViewAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} marshalFromViewAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalFromViewTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled from the view.\n\t */\n\tonAfterMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterMarshalFromViewAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal To View                          */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled into the view.\n\t */\n\tonBeforeMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled into the view.\n\t */\n\tonMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Marshals data into the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tmarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeMarshalToView();\n\t\tthis.onMarshalToView();\n\t\tthis.onAfterMarshalToView();\n\t\tthis.lastMarshalToViewTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Marshals data into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tmarshalToViewAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalToViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onMarshalToViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalToViewAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} marshalToViewAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalToViewTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled into the view.\n\t */\n\tonAfterMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/** @return {boolean} - True if the object is a PictView. */\n\tget isPictView()\n\t{\n\t\treturn true;\n\t}\n}\n\nmodule.exports = PictView;\n\n},{\"../package.json\":7,\"fable-serviceproviderbase\":2}],9:[function(require,module,exports){\nconst libPictProvider = require('pict-provider');\n\nconst libPPRouter = require('./providers/PP-Router.js');\nconst libPPCSSHotloader = require('./providers/PP-CSS-Hotloader.js');\nconst libPPConfigStorage = require('./providers/PP-ConfigStorage.js');\nconst libPPTemplateOverrideStorage = require('./providers/PP-TemplateOverrideStorage.js');\n\nconst libPPContainer = require('./views/PP-Container.js');\nconst libPPMain = require('./views/PP-Main.js');\nconst libPPNav = require('./views/PP-Navigation.js');\n\nconst libPPADB = require('./views/PP-View-AppDataBrowser.js');\nconst libPPTB = require('./views/PP-View-TemplateBrowser.js');\nconst libPPVB = require('./views/PP-View-ViewBrowser.js');\nconst libPPPB = require('./views/PP-View-ProviderBrowser.js');\nconst libPPTO = require('./views/PP-View-TemplateOverrides.js');\n\nconst _DefaultProviderConfiguration = (\n{\n\t\"ProviderIdentifier\": \"Pict-Panel\",\n\t\"AutoInitialize\": false,\n\t\"AutoSolveWithApp\": false\n});\n\nclass PictPanel extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(_DefaultProviderConfiguration)), pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\t}\n\n\tshow()\n\t{\n\t\tif (!('PP-Panel' in this.pict.views))\n\t\t{\n\t\t\tthis.pict.addProvider('PP-Router', libPPRouter.default_configuration, libPPRouter);\n\t\t\tthis.pict.addProvider('PP-CSS-Hotloader', libPPCSSHotloader.default_configuration, libPPCSSHotloader);\n\t\t\tthis.pict.addProvider('PP-ConfigStorage', libPPConfigStorage.default_configuration, libPPConfigStorage);\n\t\t\tthis.pict.addProvider('PP-TemplateOverrideStorage', libPPTemplateOverrideStorage.default_configuration, libPPTemplateOverrideStorage);\n\n\t\t\t// TODO: Discuss whether this should load them all or children should load their parts (e.g. this loads Main/Nav, Main or Nav loads the next bits)\n\t\t\tlet tmpRootPanelView = this.pict.addView('PP-Panel', libPPContainer.default_configuration, libPPContainer);\n\t\t\tlet tmpMainView = this.pict.addView('PP-Main', libPPMain.default_configuration, libPPMain);\n\t\t\tthis.pict.addView('PP-Nav', libPPNav.default_configuration, libPPNav);\n\n\t\t\tthis.pict.addView('PP-ADB', libPPADB.default_configuration, libPPADB);\n\t\t\tthis.pict.addView('PP-TB', libPPTB.default_configuration, libPPTB);\n\t\t\tthis.pict.addView('PP-VB', libPPVB.default_configuration, libPPVB);\n\t\t\tthis.pict.addView('PP-PB', libPPPB.default_configuration, libPPPB);\n\t\t\tthis.pict.addView('PP-TO', libPPTO.default_configuration, libPPTO);\n\n\t\t\t// Load saved config into uiState before rendering\n\t\t\tlet tmpSavedConfig = this.pict.providers['PP-ConfigStorage'].load();\n\t\t\tif (tmpSavedConfig && tmpSavedConfig.Behaviors)\n\t\t\t{\n\t\t\t\tlet tmpKeys = Object.keys(tmpSavedConfig.Behaviors);\n\t\t\t\tfor (let i = 0; i < tmpKeys.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (tmpKeys[i] in tmpMainView.uiState.Behaviors)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpMainView.uiState.Behaviors[tmpKeys[i]] = tmpSavedConfig.Behaviors[tmpKeys[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttmpRootPanelView.render();\n\n\t\t\t// Apply saved position/size and visual state after DOM exists\n\t\t\tthis.pict.providers['PP-ConfigStorage'].applyConfig(tmpMainView);\n\n\t\t\t// Apply any persisted template overrides\n\t\t\tthis.pict.providers['PP-TemplateOverrideStorage'].applyOverrides();\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Toggle the show/hide for the main view.\n\t\t\tthis.pict.views['PP-Main'].toggleUIBehavior('visible');\n\t\t}\n\t}\n}\n\n/**\n * Auto-inject into a running pict app when the script is loaded via eval/script tag.\n *\n * When hotloaded (e.g. via fetch+eval or a script tag), this detects the global\n * _Pict instance, registers PictPanel as a provider, and shows the panel.\n *\n * Simple console one-liner to inject from CDN:\n *   fetch('https://cdn.jsdelivr.net/npm/pict-panel/dist/pict-panel.js').then(r=>r.text()).then(eval).then(()=>PictPanel.inject())\n *\n * Or from a local dev server:\n *   fetch('http://localhost:9998/pict-panel.js').then(r=>r.text()).then(eval).then(()=>PictPanel.inject())\n */\nPictPanel.inject = function(pPictInstance)\n{\n\tlet tmpPict = pPictInstance || (typeof(_Pict) !== 'undefined' ? _Pict : null);\n\n\tif (!tmpPict)\n\t{\n\t\tconsole.error('PictPanel.inject: No Pict instance found. Pass one as PictPanel.inject(myPictInstance) or ensure _Pict is global.');\n\t\treturn;\n\t}\n\n\tif (!tmpPict.providers.PictPanel)\n\t{\n\t\ttmpPict.addProvider('PictPanel', {}, PictPanel);\n\t}\n\ttmpPict.providers.PictPanel.show();\n};\n\nmodule.exports = PictPanel;\nmodule.exports.default_configuration = _DefaultProviderConfiguration;\n},{\"./providers/PP-CSS-Hotloader.js\":19,\"./providers/PP-ConfigStorage.js\":20,\"./providers/PP-Router.js\":21,\"./providers/PP-TemplateOverrideStorage.js\":22,\"./views/PP-Container.js\":23,\"./views/PP-Main.js\":24,\"./views/PP-Navigation.js\":25,\"./views/PP-View-AppDataBrowser.js\":26,\"./views/PP-View-ProviderBrowser.js\":27,\"./views/PP-View-TemplateBrowser.js\":28,\"./views/PP-View-TemplateOverrides.js\":29,\"./views/PP-View-ViewBrowser.js\":30,\"pict-provider\":4}],10:[function(require,module,exports){\nmodule.exports = { CSS: /*CSS*/`\n\n/* AppData Browser */\n\n.pp_adb_container {\n\tpadding: 4px;\n}\n\n.pp_adb_header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 4px 8px;\n\tborder-bottom: 2px solid var(--pal-acc);\n\tmargin-bottom: 4px;\n}\n\n.pp_adb_header_label {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.9rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-pri);\n}\n\n.pp_adb_header_actions {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 6px;\n}\n\n.pp_adb_action_btn {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.7rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tcursor: pointer;\n\tpadding: 1px 4px;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.pp_adb_action_btn:hover {\n\tcolor: var(--pal-acc-bri);\n\tbackground: rgba(0,0,0,0.05);\n}\n\n/* Editor */\n.pp_adb_editor {\n\tpadding: 4px 8px;\n\tborder-bottom: 1px solid rgba(0,48,73, 0.15);\n\tmargin-bottom: 4px;\n}\n\n.pp_adb_editor_textarea {\n\twidth: 100%;\n\tmin-height: 200px;\n\tmax-height: 60vh;\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tline-height: 1.3;\n\tpadding: 4px;\n\tborder: 1px solid var(--pal-pri);\n\tborder-radius: 3px;\n\tbackground: #fff;\n\tcolor: var(--pal-pri);\n\tresize: vertical;\n\tbox-sizing: border-box;\n\ttab-size: 4;\n}\n\n.pp_adb_editor_textarea:focus {\n\toutline: 2px solid var(--pal-acc-bri);\n\toutline-offset: -1px;\n}\n\n.pp_adb_editor_textarea.pp_adb_editor_error {\n\toutline: 2px solid #c1121f;\n\tbackground: #fff1f1;\n}\n\n.pp_adb_editor_actions {\n\tdisplay: flex;\n\tgap: 8px;\n\tjustify-content: flex-end;\n\tmargin-top: 4px;\n}\n\n.pp_adb_editor_save {\n\tcolor: #067d17 !important;\n}\n\n.pp_adb_editor_cancel {\n\tcolor: var(--pal-acc) !important;\n}\n\n/* Tree entries */\n.pp_adb_entry {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tline-height: 1.4;\n}\n\n.pp_adb_leaf .pp_adb_datarow {\n\tdisplay: flex;\n\talign-items: baseline;\n\tpadding: 1px 4px 1px 8px;\n\tborder-left: 2px solid transparent;\n}\n\n.pp_adb_leaf .pp_adb_datarow:hover {\n\tbackground: rgba(0,48,73, 0.06);\n\tborder-left-color: var(--pal-pri);\n}\n\n.pp_adb_branch > .pp_adb_datarow {\n\tdisplay: flex;\n\talign-items: baseline;\n\tpadding: 2px 4px;\n\tcursor: pointer;\n\tborder-left: 2px solid transparent;\n\tuser-select: none;\n}\n\n.pp_adb_branch > .pp_adb_datarow:hover {\n\tbackground: rgba(0,48,73, 0.08);\n\tborder-left-color: var(--pal-acc-bri);\n}\n\n.pp_adb_record_metadata {\n\tdisplay: flex;\n\talign-items: baseline;\n\tgap: 4px;\n\tflex-shrink: 0;\n}\n\n.pp_adb_record_data {\n\tmargin-left: 4px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tflex: 1;\n\tmin-width: 0;\n}\n\n.pp_adb_key {\n\tcolor: var(--pal-acc);\n\tfont-weight: bold;\n}\n\n.pp_adb_leaf .pp_adb_key::after {\n\tcontent: ':';\n\tcolor: var(--pal-pri);\n}\n\n.pp_adb_type {\n\tfont-size: 0.7rem;\n\tfont-style: italic;\n\tcolor: #888;\n}\n\n.pp_adb_count {\n\tfont-size: 0.7rem;\n\tcolor: #888;\n}\n\n/* Leaf value styling by type */\n.pp_adb_value {\n\tcolor: var(--pal-pri);\n}\n\n.pp_adb_value_string {\n\tcolor: #067d17;\n}\n\n.pp_adb_value_string::before {\n\tcontent: '\"';\n\tcolor: #888;\n}\n\n.pp_adb_value_string::after {\n\tcontent: '\"';\n\tcolor: #888;\n}\n\n.pp_adb_value_number {\n\tcolor: #1750eb;\n}\n\n.pp_adb_value_boolean {\n\tcolor: #9c27b0;\n\tfont-weight: bold;\n}\n\n.pp_adb_value_null,\n.pp_adb_value_undefined {\n\tcolor: #888;\n\tfont-style: italic;\n}\n\n/* Expand/collapse icon */\n.pp_adb_expand_icon {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 14px;\n\theight: 14px;\n\ttransition: transform 0.15s ease;\n\tflex-shrink: 0;\n}\n\n.pp_adb_expand_icon.pp_adb_collapsed {\n\ttransform: rotate(0deg);\n}\n\n.pp_adb_expand_icon.pp_adb_expanded {\n\ttransform: rotate(90deg);\n}\n\n.pp_adb_expand_icon svg {\n\tcolor: var(--pal-pri);\n}\n\n/* Child container indentation */\n.pp_adb_children {\n\tmargin-left: 12px;\n\tborder-left: 1px solid rgba(0,48,73, 0.15);\n}\n\n.pp_adb_scalar_value {\n\tpadding: 4px 8px;\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tcolor: var(--pal-pri);\n}\n\n`};\n\n},{}],11:[function(require,module,exports){\nmodule.exports = {CSS: /*CSS*/`\n\n/* Logo SVG Colors */\n.pplg_earth path { display: block; fill: #b48d49; stroke-width: 0; }\n.pplg_sky path { display: block; fill: #d19ac4; stroke-width: 0; }\n.pplg_border_outer { display: block; fill: #312514; stroke-width: 0; }\n.pplg_border_inner { display: block; fill: #dcd6c1; stroke-width: 0; }\n.pplg_mtn { display: block; fill: #8a847b; stroke-width: 0; }\n.pplg_star { display: block; fill: #f6f6f6; stroke-width: 0; }\n.pplg_ceres { display: block; fill: #b5b597; stroke-width: 0; }\n.pplg_crater { display: block; fill: #e8e5dd; stroke-width: 0; fill-opacity: 0.55; }\n\n`};\n},{}],12:[function(require,module,exports){\nmodule.exports = { CSS: /*CSS*/`\n\n/* CSS Color Palettes .. for bein' modern? */\n\n/*\nrgb(255, 252, 64),\nrgb(250, 186, 97),\nrgb(255, 129, 114),\nrgb(255, 47, 169),\nrgb(58, 87, 154),\nrgb(54, 36, 79)\n\n#fffc40\n#faba61\n#ff8172\n#ff2fa9\n#3a579a\n#36244f\n*/\n\n:root { \n\t--pal-bg: #fdf0d5;\n    --pal-pri: #003049;\n\t--pal-pri-brt: #669bbc;\n    --pal-acc: #780000;\n    --pal-acc-bri: #c1121f;\n\n\t--win-bg: var(--pal-bg);\n\t--win-fg: var(--pal-pri);\n\t--win-border: var(--pal-acc);\n\n\t--hd-bg: var(--win-bg);\n\t--hd-logotext: var(--pal-acc);\n\n\t--hd-sz-con: rgba(210,210,210, 0.2);\n\t--hd-sz-con-border: rgba(235,235,235, 0.4);\n\t--hd-sz-con-hover: rgba(210,210,210, 0.9);\n\t--hd-sz-con-border-hover: var(--pal-acc-bri);\n}\n\n/* Dark mode overrides */\n#Pict-Panel.pp_dark_mode {\n\t--pal-bg: #1e1e2e;\n\t--pal-pri: #cdd6f4;\n\t--pal-pri-brt: #89b4fa;\n\t--pal-acc: #f38ba8;\n\t--pal-acc-bri: #eba0ac;\n\n\t--win-bg: var(--pal-bg);\n\t--win-fg: var(--pal-pri);\n\t--win-border: var(--pal-acc);\n\n\t--hd-bg: var(--win-bg);\n\t--hd-logotext: var(--pal-acc);\n\n\t--hd-sz-con: rgba(80,80,80, 0.3);\n\t--hd-sz-con-border: rgba(100,100,100, 0.4);\n\t--hd-sz-con-hover: rgba(80,80,80, 0.8);\n\t--hd-sz-con-border-hover: var(--pal-acc-bri);\n}\n\n#Pict-Panel.pp_dark_mode .pp_adb_value_string {\n\tcolor: #a6e3a1;\n}\n\n#Pict-Panel.pp_dark_mode .pp_adb_value_number {\n\tcolor: #89b4fa;\n}\n\n#Pict-Panel.pp_dark_mode .pp_adb_value_boolean {\n\tcolor: #cba6f7;\n}\n\n#Pict-Panel.pp_dark_mode .pp_adb_editor_textarea {\n\tbackground: #313244;\n\tcolor: #cdd6f4;\n\tborder-color: #585b70;\n}\n\n#Pict-Panel.pp_dark_mode .pp_adb_editor_save {\n\tcolor: #a6e3a1 !important;\n}\n\n`};\n},{}],13:[function(require,module,exports){\nmodule.exports = { CSS: /*CSS*/`\n\n/* Panel Styling */\n\n#Pict-Panel {\n\tz-index: 900;\n\tposition: fixed;\n\ttop: 15px;\n\tright: 15px;\n\n\tmin-height: 24px;\n\tmax-height: 98%;\n\tmin-width: 300px;\n\tmax-width: 98%;\n\n\twidth: 300px;\n\n\toverflow: hidden;\n\tresize: both;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\tcolor: var(--win-fg);\n\tbackground: var(--win-bg);\n\tborder: 3px double var(--win-border);\n\tborder-radius: 5px;\n}\n\n.pp_content {\n\tflex: 1;\n\toverflow: auto;\n\tmin-height: 0;\n}\n\n#Pict-Panel.pp_no_resize {\n\tresize: none;\n}\n\n/* Tab mode: collapse to just the logo */\n#Pict-Panel.pp_tab_mode {\n\ttop: -3px;\n\tright: 60px;\n\tleft: auto;\n\twidth: auto;\n\tmin-width: 0;\n\tmax-width: none;\n\theight: auto;\n\tmin-height: 0;\n\tmax-height: none;\n\tresize: none;\n\toverflow: visible;\n\tpadding: 0;\n}\n\n#Pict-Panel.pp_tab_mode .pp_hd {\n\tdisplay: block;\n\tpadding: 2px;\n}\n\n#Pict-Panel.pp_tab_mode .pp_hd_pict,\n#Pict-Panel.pp_tab_mode .pp_hd_control,\n#Pict-Panel.pp_tab_mode .pp_nav,\n#Pict-Panel.pp_tab_mode .pp_content {\n\tdisplay: none !important;\n}\n\n#Pict-Panel.pp_tab_mode .pp_hd_logo {\n\tcursor: grab;\n}\n\n#Pict-Panel.pp_tab_mode .pp_hd_logo:active {\n\tcursor: grabbing;\n}\n\n#Pict-Panel.pp_tab_mode .pp_hd_logo svg {\n\twidth: 36px;\n\theight: 36px;\n\tdisplay: block;\n}\n\n#Pict-Panel-Drag {\n\tz-index: 910;\n\tcursor: move;\n}\n\n.pp_hd {\n\tdisplay: grid;\n\tgrid-template-columns: 70px 1fr 70px;\n\tgrid-template-areas: \"logo title controls\";\n\talign-content: stretch;\n\n\tpadding: 4px;\n\tfill: var(--hd-bg);\n}\n\n.pp_hd_logo {\n\tgrid-area: logo;\n}\n\n.pp_hd_pict {\n\tgrid-area: title;\n\tfont-family: Verdana;\n\tfont-size: 48px;\n\tfont-weight: bold;\n\tcolor: --hd-logotext;\n\tuser-select: none;\n}\n\n.pp_hd_control {\n\tgrid-area: controls;\n\tjustify-self: end;\n}\n\n\n/* UI size/etc. toggle Controls */\n.pp_sz_con {\n\tdisplay: grid;\n\tgrid-template-columns: 20px 20px 20px;\n\tgrid-template-rows: 20px 20px 20px;\n\talign-content: stretch;\n\n\ttext-align: right;\n}\n\n.pp_sz_con > div {\n\tbackground-color: var(--hd-sz-con);\n\tborder-color: var(--hd-sz-con-border);\n\tborder-style: dotted;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\toverflow: hidden;\n}\n\n.pp_sz_con > div:hover {\n\tbackground-color: var(--hd-sz-con-hover);\n\tborder-color: var(--hd-sz-con-border-hover);\n\tborder-style: solid;\n}\n\n.pp_sz_con svg\n{\n\twidth: 16px;\n\theight: 16px;\n\tcolor: var(--pal-pri);\n\tfill: var(--pal-pri);\n}\n\n.pp_sz_con > div:hover svg\n{\n\tcolor: var(--pal-acc-bri);\n\tfill: var(--pal-acc-bri);\n}\n\n/* Toggle icon visibility: unchecked shows .off, checked shows .on */\n.pp_sz_con .checked .off,\n.pp_sz_con .checked .hover_on\n{\n\tdisplay: none !important;\n}\n.pp_sz_con .unchecked .on,\n.pp_sz_con .unchecked .hover_off\n{\n\tdisplay: none !important;\n}\n.pp_sz_con .checked .on,\n.pp_sz_con .checked .hover_off\n{\n\tdisplay: inline-flex !important;\n}\n.pp_sz_con .unchecked .off,\n.pp_sz_con .unchecked .hover_on\n{\n\tdisplay: inline-flex !important;\n}\n\n/* Navigation */\n.pp_nav {\n\tpadding: 2px 8px;\n\tborder-bottom: 1px solid var(--pal-acc);\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n}\n\n.pp_nav a {\n\tcolor: var(--pal-acc);\n\ttext-decoration: none;\n}\n\n.pp_nav a:hover {\n\tcolor: var(--pal-acc-bri);\n}\n\n.pp_nav_short {\n\tfont-weight: 800;\n\tletter-spacing: -0.5px;\n\ttext-transform: uppercase;\n\tfont-style: normal;\n}\n\n.pp_nav_long {\n\tfont-weight: 400;\n\tfont-style: normal;\n\tdisplay: none;\n}\n\n.pp_nav_active .pp_nav_short {\n\tdisplay: none;\n}\n\n.pp_nav_active .pp_nav_long {\n\tdisplay: inline;\n\topacity: 0.6;\n}\n\n`};\n},{}],14:[function(require,module,exports){\nmodule.exports = { CSS: /*CSS*/`\n\n/* Shared Service Browser (Views + Providers) */\n\n.pp_sb_container {\n\tpadding: 4px;\n}\n\n/* List entries */\n.pp_sb_entry {\n\tpadding: 3px 8px;\n\tborder-left: 2px solid transparent;\n}\n\n.pp_sb_entry:hover {\n\tbackground: rgba(0,48,73, 0.06);\n\tborder-left-color: var(--pal-pri);\n}\n\n.pp_sb_entry_row {\n\tdisplay: flex;\n\talign-items: baseline;\n\tgap: 6px;\n\tposition: relative;\n}\n\n.pp_sb_entry_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n\ttext-decoration: none;\n\tflex-shrink: 0;\n\tcursor: pointer;\n}\n\n.pp_sb_entry_hash:hover {\n\tcolor: var(--pal-acc-bri);\n}\n\n.pp_sb_entry_info {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.65rem;\n\tcolor: #999;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tflex: 1;\n\tmin-width: 0;\n}\n\n/* Action icons (render/renderAsync) in list */\n.pp_sb_action_icon {\n\tdisplay: none;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 18px;\n\theight: 18px;\n\tpadding: 2px;\n\tborder-radius: 3px;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tcursor: pointer;\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\tbackground: var(--win-bg);\n}\n\n.pp_sb_action_icon + .pp_sb_action_icon {\n\tright: 20px;\n}\n\n.pp_sb_entry:hover .pp_sb_action_icon {\n\tdisplay: inline-flex;\n}\n\n.pp_sb_action_icon:hover {\n\tcolor: var(--pal-acc-bri);\n\tbackground: rgba(0,0,0,0.05);\n}\n\n.pp_sb_action_icon svg {\n\twidth: 12px;\n\theight: 12px;\n}\n\n/* Detail view */\n.pp_sb_detail {\n\tpadding: 0 4px;\n}\n\n.pp_sb_detail_header {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 6px;\n\tpadding: 4px 4px 6px;\n\tborder-bottom: 2px solid var(--pal-acc);\n\tmargin-bottom: 4px;\n}\n\n.pp_sb_back_btn {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 18px;\n\theight: 18px;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tborder-radius: 3px;\n\tflex-shrink: 0;\n}\n\n.pp_sb_back_btn:hover {\n\tcolor: var(--pal-acc-bri);\n\tbackground: rgba(0,0,0,0.05);\n}\n\n.pp_sb_back_btn svg {\n\twidth: 14px;\n\theight: 14px;\n}\n\n.pp_sb_detail_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.9rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n}\n\n/* Vitals */\n.pp_sb_vitals {\n\tpadding: 2px 8px;\n}\n\n.pp_sb_vital_row {\n\tdisplay: flex;\n\talign-items: baseline;\n\tgap: 6px;\n\tpadding: 1px 0;\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tline-height: 1.4;\n}\n\n.pp_sb_vital_key {\n\tcolor: var(--pal-acc);\n\tfont-weight: bold;\n\tflex-shrink: 0;\n\tmin-width: 90px;\n}\n\n.pp_sb_vital_key::after {\n\tcontent: ':';\n\tcolor: var(--pal-pri);\n}\n\n.pp_sb_vital_val {\n\tcolor: var(--pal-pri);\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tflex: 1;\n\tmin-width: 0;\n}\n\n/* Action buttons in detail view */\n.pp_sb_detail_actions {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 4px;\n\tpadding: 6px 8px;\n\tborder-top: 1px solid rgba(0,48,73, 0.1);\n\tborder-bottom: 1px solid rgba(0,48,73, 0.1);\n\tmargin: 4px 0;\n}\n\n.pp_sb_detail_action_btn {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.7rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tcursor: pointer;\n\tpadding: 2px 6px;\n\tborder: 1px solid var(--pal-pri);\n\tborder-radius: 3px;\n}\n\n.pp_sb_detail_action_btn:hover {\n\tcolor: var(--pal-acc-bri);\n\tborder-color: var(--pal-acc-bri);\n\tbackground: rgba(0,0,0,0.05);\n}\n\n/* Section labels */\n.pp_sb_detail_section_label {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-pri);\n\tpadding: 4px 8px 2px;\n\topacity: 0.6;\n}\n\n/* Template entries in detail */\n.pp_sb_detail_tpl_entry {\n\tpadding: 2px 8px;\n\tborder-left: 2px solid transparent;\n}\n\n.pp_sb_detail_tpl_entry:hover {\n\tbackground: rgba(0,48,73, 0.04);\n\tborder-left-color: var(--pal-pri-brt);\n}\n\n.pp_sb_detail_tpl_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n}\n\n.pp_sb_detail_tpl_preview {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.65rem;\n\tcolor: var(--pal-pri);\n\topacity: 0.5;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tpadding-left: 8px;\n}\n\n/* Options list in provider detail */\n.pp_sb_detail_opts_list {\n\tpadding: 2px 8px;\n}\n\n`};\n\n},{}],15:[function(require,module,exports){\nmodule.exports = { CSS: /*CSS*/`\n\n/* Template Browser */\n\n.pp_tb_container {\n\tpadding: 4px;\n}\n\n.pp_tb_filter {\n\tpadding: 2px 8px 4px;\n}\n\n.pp_tb_filter_input {\n\twidth: 100%;\n\tbox-sizing: border-box;\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tpadding: 3px 6px;\n\tborder: 1px solid var(--pal-pri);\n\tborder-radius: 3px;\n\tbackground: transparent;\n\tcolor: var(--pal-pri);\n}\n\n.pp_tb_filter_input:focus {\n\toutline: 2px solid var(--pal-acc-bri);\n\toutline-offset: -1px;\n}\n\n.pp_tb_filter_input::placeholder {\n\tcolor: #999;\n}\n\n/* Editor area */\n.pp_tb_editor {\n\tpadding: 4px 8px;\n\tborder-bottom: 1px solid rgba(0,48,73, 0.15);\n\tmargin-bottom: 4px;\n}\n\n.pp_tb_editor_header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 4px;\n}\n\n.pp_tb_editor_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n}\n\n.pp_tb_editor_textarea {\n\tmin-height: 120px;\n}\n\n/* Template list */\n.pp_tb_entry {\n\tpadding: 3px 8px;\n\tborder-left: 2px solid transparent;\n}\n\n.pp_tb_entry:hover {\n\tbackground: rgba(0,48,73, 0.06);\n\tborder-left-color: var(--pal-pri);\n}\n\n.pp_tb_entry_row {\n\tdisplay: flex;\n\talign-items: baseline;\n\tgap: 6px;\n}\n\n.pp_tb_entry_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n\tflex-shrink: 0;\n}\n\n.pp_tb_entry_source {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.65rem;\n\tcolor: #999;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tflex: 1;\n\tmin-width: 0;\n}\n\n.pp_tb_entry_preview {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.7rem;\n\tcolor: var(--pal-pri);\n\topacity: 0.6;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tpadding-left: 8px;\n}\n\n.pp_tb_empty {\n\tpadding: 8px;\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tcolor: #999;\n\tfont-style: italic;\n}\n\n`};\n\n},{}],16:[function(require,module,exports){\nmodule.exports = { CSS: /*CSS*/`\n\n/* Template Overrides View */\n\n.pp_to_container {\n\tpadding: 4px;\n}\n\n.pp_to_entry {\n\tpadding: 3px 8px;\n\tborder-left: 2px solid transparent;\n}\n\n.pp_to_entry:hover {\n\tbackground: rgba(0,48,73, 0.06);\n}\n\n.pp_to_active {\n\tborder-left-color: var(--pal-acc);\n}\n\n.pp_to_inactive {\n\tborder-left-color: transparent;\n\topacity: 0.6;\n}\n\n.pp_to_entry_row {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 6px;\n}\n\n.pp_to_toggle {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 16px;\n\theight: 16px;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tcursor: pointer;\n\tflex-shrink: 0;\n}\n\n.pp_to_toggle:hover {\n\tcolor: var(--pal-acc-bri);\n}\n\n.pp_to_entry_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tflex: 1;\n\tmin-width: 0;\n}\n\n.pp_to_remove {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 16px;\n\theight: 16px;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tcursor: pointer;\n\tflex-shrink: 0;\n\topacity: 0;\n}\n\n.pp_to_entry:hover .pp_to_remove {\n\topacity: 1;\n}\n\n.pp_to_remove:hover {\n\tcolor: #c44;\n}\n\n.pp_to_empty {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tcolor: var(--pal-pri);\n\topacity: 0.5;\n\tpadding: 8px;\n}\n\n`};\n\n},{}],17:[function(require,module,exports){\nmodule.exports = { HTML:/*html*/`\n\n\t\t<div id=\"Pict-Panel\">\n\t\t\t<div class=\"pp_hd\">\n\t\t\t\t<div class=\"pp_hd_logo\" id=\"Pict-Panel-Drag\">\n\t\t\t\t\t<svg version=\"1.1\" style=\"display: block\" viewBox=\"0 0 62.3 63\" width=\"62.3\" height=\"63\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" > <g class=\"pplg_border\" transform=\"translate(-0.926,-0.465)\"> <ellipse cx=\"32.1\" cy=\"32\" rx=\"31.1\" ry=\"31.5\" class=\"pplg_border_outer\" /> <ellipse cx=\"32.1\" cy=\"32\" rx=\"29.3\" ry=\"29.6\" class=\"pplg_border_inner\" /> </g> <g class=\"pplg_earth\" transform=\"translate(-0.926,-0.465)\"> <path d=\"m 24.1,58.6 c 5.6,0 11.3,-0.1 16.9,0 -1,0.8 -3,0.8 -4.3,1.2 -4.3,1 -8.7,0.2 -12.8,-0.9 -0.7,-0.3 -0.2,-0.2 0.2,-0.3 z\" /> <path d=\"m 16.8,55.1 c 10.3,0 20.5,0.1 30.8,0 -0.9,0.8 -1.9,1.8 -3,1.9 C 39.7,56.8 34.8,57 29.9,56.9 26.8,57 23.6,56.8 20.4,57 19,57.4 18,56 16.8,55.4 c 0,-0.1 0,-0.2 0,-0.3 z\" /> <path d=\"m 12.9,51.7 c 12.9,-0.1 25.7,0 38.6,0 -0.7,1.7 -2.3,2.1 -4,1.9 -10.6,0 -21.2,0.1 -31.8,0.1 -1.2,0.1 -2.8,-0.9 -2.8,-2 z\" /> <path d=\"m 10,48.2 c 10.4,-0.1 20.8,0 31.1,0 4.5,0 8.9,0 13.3,0 0.3,0.8 -1.2,2.2 -2.2,1.8 -13.5,0 -27,0.1 -40.4,0.1 C 10.9,50 10.1,49 10,48.2 Z\" /> <path d=\"m 55.9,44.3 c 2.3,-0.4 0.4,2.7 -1,2.4 -6.3,-0.5 -12.6,-0.1 -19,-0.2 -8.9,0 -17.8,0.1 -26.64,0 -0.87,-0.1 -2.54,-2.4 -1.01,-2.1 1.3,0 2.35,0.5 3.75,0.3 14,0 28,0 42,0 0.4,-0.5 1.3,-0.3 1.9,-0.4 z\" /> </g> <g style=\"display: block\" transform=\"translate(-0.926,-0.465)\"> <path d=\"m 32,18.9 h 0.3 c 3.5,3.9 0,0 6.2,6.2 0.1,0.2 0.3,0.3 0.4,0.4 0.4,0.5 0.9,0.9 1.3,1.2 h 0.5 c 0.2,-0.3 0.5,-0.6 0.7,-0.9 l 0.5,0.2 c 0.2,0.2 0.2,0.2 0.5,0.6 1.8,2.2 7.5,7 14.7,14.3 0,0 0,0.6 -0.3,1.1 -0.3,0.5 -1.9,1.4 -2.8,1.4 C 46.8,43.1 45,42.9 37.7,43 30.4,43.1 17.7,43.2 10.4,43.4 8.45,43.5 7.45,41.1 7.77,40.8 11.2,37.4 14.9,34.2 18.5,31 21.6,28.3 31,20 32,18.9 Z m 0,2.7 c -7.6,6.3 -15,12.6 -22.2,19.3 -0.34,0.4 0.4,0.8 0.8,0.8 0.4,0 5.2,0.4 18.4,0.4 12.9,-0.2 12.4,-0.3 25.3,-0.5 0.8,-0.2 0.2,-0.6 0,-0.9 C 51,36.2 46,32.8 42.2,28.6 c -0.5,-0.4 -0.8,-0.6 -1.4,0 -3.8,4 -8.2,7.3 -11.9,11.4 -0.1,0.2 -0.5,0.8 -0.7,1 -0.6,0.1 -1.2,0.1 -1.8,0.1 -0.1,0 -0.4,-0.4 -0.1,-0.8 0.1,-0.1 2.1,-1.9 2.7,-2.4 7,-6.5 7.5,-6.7 10,-9.6 l -0.1,-0.5 c -2,-2.1 -4.2,-4.1 -6.3,-6.1 -0.2,-0.1 -0.3,-0.3 -0.6,-0.1 z\" class=\"pplg_mtn\" /> </g> <g class=\"pplg_sky\" transform=\"translate(-0.926,-0.465)\"> <path d=\"m 55.9,25.2 c 1,-0.4 1.7,0.8 1.1,1.5 -3.7,0.3 -7.4,0.3 -11.1,0.3 -0.9,-2 2.6,-1.1 3.7,-1.5 2.1,-0.1 4.2,-0.2 6.3,-0.3 z\" /> <path d=\"m 7.57,25.4 c 3.63,-0.1 7.23,0.2 10.83,0.4 1,1.5 -0.8,1.8 -1.9,1.4 -3,-0.3 -6,-0.3 -9.04,-0.4 -0.24,-0.3 -0.2,-1.1 0.11,-1.4 z\" /> <path d=\"m 54.5,19.1 c 0.7,-0.1 1.1,0.8 0.8,1.3 -2.4,1.2 -5.1,1.8 -7.5,2.9 -0.9,0.4 -3.2,1.4 -2.8,-0.5 3.2,-1.3 6.4,-2.3 9.5,-3.7 z\" /> <path d=\"m 9.58,19.1 c 2.22,0.7 4.32,1.6 6.52,2.4 1.1,0.7 2.4,0.9 3.4,1.6 0.1,0.9 -0.6,1.3 -1.3,0.8 -3,-1.3 -6.1,-2.3 -9.07,-3.6 0,-0.4 0.16,-0.8 0.45,-1.2 z\" /> <path d=\"m 51,14.8 c 2.3,1.1 -0.9,2.2 -1.8,3 -1.8,1.2 -3.6,2.4 -5.3,3.7 -1.3,0.3 -1.1,-1.8 0.2,-1.9 2.3,-1.6 4.6,-3.2 6.9,-4.8 z\" /> <path d=\"m 13.3,14.9 c 1.4,0.3 2.4,1.7 3.7,2.3 1.5,1.3 3.5,2.1 4.7,3.5 -0.2,1.7 -2.1,0 -2.7,-0.4 -2.2,-1.5 -4.3,-3 -6.4,-4.4 0,-0.4 0.3,-0.8 0.7,-1 z\" /> <path d=\"m 46.8,11.5 c 1.8,0.1 1.1,1.7 -0.1,2.3 -2.1,1.7 -3.6,4.1 -5.7,5.8 -1.7,-1 0.9,-2.2 1.4,-3.2 1.4,-1.6 3,-3.2 4.4,-4.9 z\" /> <path d=\"m 17.2,11.4 c 1.4,0.8 2.3,2.4 3.5,3.5 1.1,1.3 2.3,2.5 3.4,3.8 -0.4,1.3 -1.6,0.4 -2.1,-0.4 -1.9,-2 -3.8,-4 -5.6,-6.1 0.2,-0.3 0.5,-0.5 0.8,-0.8 z\" /> <path d=\"m 47.8,28.9 c 2.3,0.7 4.4,1.9 6.7,2.7 1.6,-0.2 1.3,2.4 -0.1,1.6 -2.2,-1.2 -4.7,-1.9 -6.9,-3 -0.1,-0.5 0,-0.9 0.3,-1.3 z\" /> <path d=\"m 15.6,29.3 c 1.6,-0.4 1.2,1.7 -0.2,1.5 -2,0.8 -4,1.5 -6.05,2.2 -0.79,-0.2 -0.95,-1.7 0,-1.6 2.15,-0.5 4.15,-1.4 6.25,-2.1 z\" /> </g> <g class=\"pplg_stars\" transform=\"translate(-0.926,-0.465)\"> <circle class=\"pplg_ceres\" cx=\"32.1\" cy=\"12.7\" r=\"7.19\" /> <path d=\"m 28.6,16.1 c 0.4,0 0.9,-0.2 1.2,0.2 0.3,0.3 0.3,0.9 -0.1,1.1 -0.3,0.3 -0.8,0.4 -1.2,0.1 -0.3,-0.2 -0.3,-0.6 -0.2,-1 0.1,-0.2 0.2,-0.3 0.3,-0.4 z\" class=\"pplg_crater\" /> <path d=\"m 28.2,11.9 c 0.4,-0.1 0.8,-0.1 1.1,0.2 0.3,0.2 0.7,0.6 0.6,1.1 0,0.3 -0.1,0.7 -0.3,1 -0.2,0.2 -0.6,0.4 -0.9,0.4 -0.6,0 -1.1,-0.4 -1.3,-0.9 -0.3,-0.4 -0.2,-0.9 0.2,-1.3 0.1,-0.2 0.3,-0.4 0.6,-0.5 z\" class=\"pplg_crater\" /> <path d=\"m 28.4,8.19 c 0.5,0 1.1,0.15 1.3,0.66 0.2,0.37 0.1,0.83 -0.2,1.08 -0.4,0.47 -1.2,0.37 -1.6,0 C 27.6,9.59 27.6,9.09 27.8,8.77 28,8.56 28.1,8.28 28.4,8.19 Z\" class=\"pplg_crater\" /> <path d=\"m 41.5,8.78 0.3,0.96 c 0.2,0.15 0.8,0.11 1,0.26 l -1,0.4 c -0.1,0.3 -0.2,0.8 -0.3,1 C 41.4,11.1 41.3,10.7 41.1,10.3 41,10.2 40.4,10.2 40.2,10.1 40.5,10 40.9,9.84 41.1,9.73 L 41.2,9.46 C 41.3,9.23 41.4,9 41.5,8.78 Z\" class=\"pplg_star\" /> </g> </svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"pp_hd_pict\">\n\t\t\t\t\t<span class=\"pp_hd_p_p\">P</span><span class=\"pp_hd_p_i\">I</span><span class=\"pp_hd_p_c\">C</span><span class=\"pp_hd_p_i\">T</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"pp_hd_control\">\n\t\t\t\t\t<div class=\"pp_sz_con\">\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"lock_position\">\n\t\t\t\t\t\t\t<div class=\"pp_sz_icon off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-unlock\"><rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect><path d=\"M7 11V7a5 5 0 0 1 9.9-1\"></path></svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"pp_sz_icon on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-lock\"><rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect><path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path></svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"pin_top\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M112 328l144-144 144 144\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M112 244l144-144 144 144M256 120v292\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"maximize_mode\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-minimize\"><path d=\"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3\"></path></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"tab_mode\">\n\t\t\t\t\t\t\t<span class=\"off hover_on on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M160 256a16 16 0 0116-16h144V136c0-32-33.79-56-64-56H104a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h160a56.06 56.06 0 0056-56V272H176a16 16 0 01-16-16zM459.31 244.69l-80-80a16 16 0 00-22.62 22.62L409.37 240H320v32h89.37l-52.68 52.69a16 16 0 1022.62 22.62l80-80a16 16 0 000-22.62z\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"night_mode\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M264 480A232 232 0 0132 248c0-94 54-178.28 137.61-214.67a16 16 0 0121.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200 31.34 0 59.57-5.07 81.61-14.67a16 16 0 0121.06 21.06C442.28 426 358 480 264 480z\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M256 118a22 22 0 01-22-22V48a22 22 0 0144 0v48a22 22 0 01-22 22zM256 486a22 22 0 01-22-22v-48a22 22 0 0144 0v48a22 22 0 01-22 22zM369.14 164.86a22 22 0 01-15.56-37.55l33.94-33.94a22 22 0 0131.11 31.11l-33.94 33.94a21.93 21.93 0 01-15.55 6.44zM108.92 425.08a22 22 0 01-15.55-37.56l33.94-33.94a22 22 0 1131.11 31.11l-33.94 33.94a21.94 21.94 0 01-15.56 6.45zM464 278h-48a22 22 0 010-44h48a22 22 0 010 44zM96 278H48a22 22 0 010-44h48a22 22 0 010 44zM403.08 425.08a21.94 21.94 0 01-15.56-6.45l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.55 37.56zM142.86 164.86a21.89 21.89 0 01-15.55-6.44l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.56 37.55zM256 358a102 102 0 11102-102 102.12 102.12 0 01-102 102z\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"pin_right\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M184 112l144 144-144 144\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M268 112l144 144-144 144M392 256H100\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"resize_handle\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M304 96l112 112M421.8 421.77L90.2 90.23\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M176 112l80-80 80 80M255.98 32l.02 448M176 400l80 80 80-80M400 176l80 80-80 80M112 176l-80 80 80 80M32 256h448\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"show_ui\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M400 256H112\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M64 164v244a56 56 0 0056 56h272a56 56 0 0056-56V164a4 4 0 00-4-4H68a4 4 0 00-4 4zm267 151.63l-63.69 63.68a16 16 0 01-22.62 0L181 315.63c-6.09-6.09-6.65-16-.85-22.38a16 16 0 0123.16-.56L240 329.37V224.45c0-8.61 6.62-16 15.23-16.43A16 16 0 01272 224v105.37l36.69-36.68a16 16 0 0123.16.56c5.8 6.37 5.24 16.29-.85 22.38z\"/><rect x=\"32\" y=\"48\" width=\"448\" height=\"80\" rx=\"32\" ry=\"32\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"show_navigation\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><circle cx=\"256\" cy=\"256\" r=\"48\"/><circle cx=\"256\" cy=\"416\" r=\"48\"/><circle cx=\"256\" cy=\"96\" r=\"48\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"48\" d=\"M88 152h336M88 256h336M88 360h336\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"pp_nav\">\n\t\t\t\t<div class=\"pp_nav_elements\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"pp_content\">\n\t\t\t</div>\n\t\t</div>\n\n`};\n},{}],18:[function(require,module,exports){\nmodule.exports = { HTML:/*html*/`\n\n<div>\n\t<span data-nav=\"PP-ADB\"><a href=\"#\" onclick=\"_Pict.providers['PP-Router'].navigateTo('PP-ADB');\"><b class=\"pp_nav_short\">Ad</b><em class=\"pp_nav_long\">AppData</em></a></span>\n\t<span data-nav=\"PP-TB\"><a href=\"#\" onclick=\"_Pict.providers['PP-Router'].navigateTo('PP-TB');\"><b class=\"pp_nav_short\">Tp</b><em class=\"pp_nav_long\">Templates</em></a></span>\n\t<span data-nav=\"PP-VB\"><a href=\"#\" onclick=\"_Pict.providers['PP-Router'].navigateTo('PP-VB');\"><b class=\"pp_nav_short\">Vw</b><em class=\"pp_nav_long\">Views</em></a></span>\n\t<span data-nav=\"PP-PB\"><a href=\"#\" onclick=\"_Pict.providers['PP-Router'].navigateTo('PP-PB');\"><b class=\"pp_nav_short\">Pr</b><em class=\"pp_nav_long\">Providers</em></a></span>\n\t<span data-nav=\"PP-TO\"><a href=\"#\" onclick=\"_Pict.providers['PP-Router'].navigateTo('PP-TO');\"><b class=\"pp_nav_short\">Ov</b><em class=\"pp_nav_long\">Overrides</em></a></span>\n</div>\n\n`};\n\n},{}],19:[function(require,module,exports){\nconst libPictProvider = require('pict-provider');\n\nconst _DEFAULT_PROVIDER_CONFIGURATION = \n{\n\tProviderIdentifier: 'PP-CSS-Hotloader',\n\tAutoInitialize: false,\n\tAutoSolveWithApp: false,\n\n\tCustomPanelCSS: \n\t\t// Not great but cute.\n\t\t// The order of these matter.\n\t\t// And this is still simpler to work with than slow-ass sass or less.\n\t\trequire('../css/PP-Palette-CSS.js').CSS\n\t\t+ require('../css/PP-Panel-CSS.js').CSS \n\t\t+ require('../css/PP-Logo-CSS.js').CSS\n\t\t+ require('../css/PP-AppDataBrowser-CSS.js').CSS\n\t\t+ require('../css/PP-TemplateBrowser-CSS.js').CSS\n\t\t+ require('../css/PP-ServiceBrowser-CSS.js').CSS\n\t\t+ require('../css/PP-TemplateOverrides-CSS.js').CSS\n}\n\nclass PictPanelCSSHotloader extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpOptions = Object.assign({}, _DEFAULT_PROVIDER_CONFIGURATION, pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\n\t\tthis.injectedCSS = false;\n\t}\n\n\t// TODO: This seems useful outside of the panel app ... maybe a core provider?\n\thotloadCSS()\n\t{\n\t\tif (this.injectedCSS) return;\n\n\t\t// Load the custom CSS for the container into its own style tag\n\t\tlet tmpCSSContainer = this.pict.ContentAssignment.getElement('#Pict-Panel-Container-CSS');\n\t\t// This does not use the PICT CSS functionality because we don't want to pollute whatever the normal app is doing with it.\n\t\tif (!Array.isArray(tmpCSSContainer) || tmpCSSContainer.length === 0)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tlet tmpCSS = document.createElement('style');\n\t\t\t\ttmpCSS.id = 'Pict-Panel-Container-CSS';\n\t\t\t\ttmpCSS.innerHTML = this.options.CustomPanelCSS;\n\t\t\t\tdocument.head.appendChild(tmpCSS);\n\t\t\t}\n\t\t\tcatch (pError)\n\t\t\t{\n\t\t\t\tconsole.error('Error adding custom CSS to head in Pict-Panel onBeforeRender:', pError);\n\t\t\t}\n\t\t}\n\t\tthis.injectedCSS = true;\n\n\t\treturn true;\n\t}\n}\n\nmodule.exports = PictPanelCSSHotloader;\nmodule.exports.default_configuration = _DEFAULT_PROVIDER_CONFIGURATION;\n},{\"../css/PP-AppDataBrowser-CSS.js\":10,\"../css/PP-Logo-CSS.js\":11,\"../css/PP-Palette-CSS.js\":12,\"../css/PP-Panel-CSS.js\":13,\"../css/PP-ServiceBrowser-CSS.js\":14,\"../css/PP-TemplateBrowser-CSS.js\":15,\"../css/PP-TemplateOverrides-CSS.js\":16,\"pict-provider\":4}],20:[function(require,module,exports){\nconst libPictProvider = require('pict-provider');\n\nconst _DEFAULT_PROVIDER_CONFIGURATION =\n{\n\tProviderIdentifier: 'PP-ConfigStorage',\n\tAutoInitialize: false,\n\tAutoSolveWithApp: false,\n\n\tStorageKey: 'PictPanel'\n};\n\nclass PictPanelConfigStorage extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpOptions = Object.assign({}, _DEFAULT_PROVIDER_CONFIGURATION, pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\t}\n\n\tsave(pUIState)\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet tmpConfig = {\n\t\t\t\tBehaviors: Object.assign({}, pUIState.Behaviors),\n\t\t\t\tManualTop: pUIState.ManualTop,\n\t\t\t\tManualLeft: pUIState.ManualLeft,\n\t\t\t\tManualWidth: pUIState.ManualWidth\n\t\t\t};\n\n\t\t\t// Also save current panel element position/size if available\n\t\t\tlet tmpPanelElement = document.getElementById('Pict-Panel');\n\t\t\tif (tmpPanelElement)\n\t\t\t{\n\t\t\t\ttmpConfig.PanelStyle = {\n\t\t\t\t\ttop: tmpPanelElement.style.top,\n\t\t\t\t\tleft: tmpPanelElement.style.left,\n\t\t\t\t\tright: tmpPanelElement.style.right,\n\t\t\t\t\twidth: tmpPanelElement.style.width,\n\t\t\t\t\theight: tmpPanelElement.style.height\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Save the active navigation view hash\n\t\t\tif (this.pict.providers['PP-Router'] && this.pict.providers['PP-Router'].activeView)\n\t\t\t{\n\t\t\t\ttmpConfig.ActiveView = this.pict.providers['PP-Router'].activeView;\n\t\t\t}\n\n\t\t\tlocalStorage.setItem(this.options.StorageKey, JSON.stringify(tmpConfig));\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('PP-ConfigStorage failed to save: ' + pError.message);\n\t\t}\n\t}\n\n\tload()\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet tmpRaw = localStorage.getItem(this.options.StorageKey);\n\t\t\tif (!tmpRaw) return false;\n\n\t\t\tlet tmpConfig = JSON.parse(tmpRaw);\n\t\t\treturn tmpConfig;\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('PP-ConfigStorage failed to load: ' + pError.message);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tclear()\n\t{\n\t\ttry\n\t\t{\n\t\t\tlocalStorage.removeItem(this.options.StorageKey);\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('PP-ConfigStorage failed to clear: ' + pError.message);\n\t\t}\n\t}\n\n\tapplyConfig(pMainView)\n\t{\n\t\tlet tmpConfig = this.load();\n\t\tif (!tmpConfig) return false;\n\n\t\t// Apply saved behaviors\n\t\tif (tmpConfig.Behaviors)\n\t\t{\n\t\t\tlet tmpKeys = Object.keys(tmpConfig.Behaviors);\n\t\t\tfor (let i = 0; i < tmpKeys.length; i++)\n\t\t\t{\n\t\t\t\tif (tmpKeys[i] in pMainView.uiState.Behaviors)\n\t\t\t\t{\n\t\t\t\t\tpMainView.uiState.Behaviors[tmpKeys[i]] = tmpConfig.Behaviors[tmpKeys[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Apply saved manual position values\n\t\tif ('ManualTop' in tmpConfig) pMainView.uiState.ManualTop = tmpConfig.ManualTop;\n\t\tif ('ManualLeft' in tmpConfig) pMainView.uiState.ManualLeft = tmpConfig.ManualLeft;\n\t\tif ('ManualWidth' in tmpConfig) pMainView.uiState.ManualWidth = tmpConfig.ManualWidth;\n\n\t\t// Apply saved panel element styles after render\n\t\tif (tmpConfig.PanelStyle)\n\t\t{\n\t\t\tlet tmpPanelElement = document.getElementById('Pict-Panel');\n\t\t\tif (tmpPanelElement)\n\t\t\t{\n\t\t\t\tif (tmpConfig.PanelStyle.top) tmpPanelElement.style.top = tmpConfig.PanelStyle.top;\n\t\t\t\tif (tmpConfig.PanelStyle.left) tmpPanelElement.style.left = tmpConfig.PanelStyle.left;\n\t\t\t\tif (tmpConfig.PanelStyle.right) tmpPanelElement.style.right = tmpConfig.PanelStyle.right;\n\t\t\t\tif (tmpConfig.PanelStyle.width) tmpPanelElement.style.width = tmpConfig.PanelStyle.width;\n\t\t\t\tif (tmpConfig.PanelStyle.height) tmpPanelElement.style.height = tmpConfig.PanelStyle.height;\n\t\t\t}\n\t\t}\n\n\t\t// Apply behavior-driven UI state\n\t\tlet tmpPanelElement = document.getElementById('Pict-Panel');\n\t\tif (tmpPanelElement)\n\t\t{\n\t\t\t// Tab mode\n\t\t\tif (pMainView.uiState.Behaviors.tab_mode)\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.add('pp_tab_mode');\n\t\t\t}\n\n\t\t\t// Night mode class\n\t\t\tif (pMainView.uiState.Behaviors.night_mode)\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.add('pp_dark_mode');\n\t\t\t}\n\n\t\t\t// Resize handle lock\n\t\t\tif (!pMainView.uiState.Behaviors.resize_handle)\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.add('pp_no_resize');\n\t\t\t}\n\n\t\t\t// Pin right\n\t\t\tif (pMainView.uiState.Behaviors.pin_right)\n\t\t\t{\n\t\t\t\ttmpPanelElement.style.left = '';\n\t\t\t\ttmpPanelElement.style.right = '-3px';\n\t\t\t}\n\n\t\t\t// Pin top\n\t\t\tif (pMainView.uiState.Behaviors.pin_top)\n\t\t\t{\n\t\t\t\ttmpPanelElement.style.top = '-3px';\n\t\t\t}\n\n\t\t\t// show_ui hides nav + content\n\t\t\tif (!pMainView.uiState.Behaviors.show_ui)\n\t\t\t{\n\t\t\t\tlet tmpNavElement = tmpPanelElement.querySelector('.pp_nav');\n\t\t\t\tlet tmpContentElement = tmpPanelElement.querySelector('.pp_content');\n\t\t\t\tif (tmpNavElement) tmpNavElement.style.display = 'none';\n\t\t\t\tif (tmpContentElement) tmpContentElement.style.display = 'none';\n\t\t\t}\n\n\t\t\t// show_navigation hides nav\n\t\t\tif (!pMainView.uiState.Behaviors.show_navigation)\n\t\t\t{\n\t\t\t\tlet tmpNavElement = tmpPanelElement.querySelector('.pp_nav');\n\t\t\t\tif (tmpNavElement) tmpNavElement.style.display = 'none';\n\t\t\t}\n\t\t}\n\n\t\t// Update all toggle icon displays\n\t\tpMainView.initializePanelIcons();\n\n\t\t// Restore the active navigation view\n\t\tif (tmpConfig.ActiveView && this.pict.providers['PP-Router'])\n\t\t{\n\t\t\tthis.pict.providers['PP-Router'].navigateTo(tmpConfig.ActiveView);\n\t\t}\n\n\t\treturn tmpConfig;\n\t}\n}\n\nmodule.exports = PictPanelConfigStorage;\nmodule.exports.default_configuration = _DEFAULT_PROVIDER_CONFIGURATION;\n\n},{\"pict-provider\":4}],21:[function(require,module,exports){\nconst libPictProvider = require('pict-provider');\n\nconst _DEFAULT_PROVIDER_CONFIGURATION = \n{\n\tProviderIdentifier: 'PP-Router',\n\tAutoInitialize: false,\n\tAutoSolveWithApp: false\n}\n\nclass PictPanelRouter extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpOptions = Object.assign({}, _DEFAULT_PROVIDER_CONFIGURATION, pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\n\t\tthis.activeView = false;\n\t}\n\n\tnavigateTo(pViewHash)\n\t{\n\t\tif (this.activeView === pViewHash)\n\t\t{\n\t\t\t// TODO: Allow for subtlety in views reloading versus rendering\n\t\t\treturn false;\n\t\t}\n\n\t\tif (pViewHash in this.pict.views)\n\t\t{\n\t\t\tthis.activeView = pViewHash;\n\t\t\tthis.pict.views[pViewHash].render();\n\n\t\t\t// Update the active nav highlight\n\t\t\tlet tmpNavItems = document.querySelectorAll('#Pict-Panel .pp_nav span[data-nav]');\n\t\t\tfor (let i = 0; i < tmpNavItems.length; i++)\n\t\t\t{\n\t\t\t\tif (tmpNavItems[i].getAttribute('data-nav') === pViewHash)\n\t\t\t\t{\n\t\t\t\t\ttmpNavItems[i].classList.add('pp_nav_active');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpNavItems[i].classList.remove('pp_nav_active');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Persist the active view selection\n\t\t\tif (this.pict.providers['PP-ConfigStorage'] && this.pict.views['PP-Main'])\n\t\t\t{\n\t\t\t\tthis.pict.providers['PP-ConfigStorage'].save(this.pict.views['PP-Main'].uiState);\n\t\t\t}\n\t\t}\n\t}\n}\n\nmodule.exports = PictPanelRouter;\nmodule.exports.default_configuration = _DEFAULT_PROVIDER_CONFIGURATION;\n},{\"pict-provider\":4}],22:[function(require,module,exports){\nconst libPictProvider = require('pict-provider');\n\nconst _DEFAULT_PROVIDER_CONFIGURATION =\n{\n\tProviderIdentifier: 'PP-TemplateOverrideStorage',\n\tAutoInitialize: false,\n\tAutoSolveWithApp: false,\n\n\tStorageKey: 'PictPanel-TemplateOverrides'\n};\n\nclass PictPanelTemplateOverrideStorage extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpOptions = Object.assign({}, _DEFAULT_PROVIDER_CONFIGURATION, pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\t}\n\n\t/**\n\t * Load all overrides from localStorage.\n\t * @returns {Object} Map of { TemplateHash: { Original, Override, Active } }\n\t */\n\tloadOverrides()\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet tmpRaw = localStorage.getItem(this.options.StorageKey);\n\t\t\tif (!tmpRaw) return {};\n\t\t\treturn JSON.parse(tmpRaw);\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('PP-TemplateOverrideStorage failed to load: ' + pError.message);\n\t\t\treturn {};\n\t\t}\n\t}\n\n\t/**\n\t * Persist the full overrides map to localStorage.\n\t */\n\t_persist(pOverrides)\n\t{\n\t\ttry\n\t\t{\n\t\t\tlocalStorage.setItem(this.options.StorageKey, JSON.stringify(pOverrides));\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('PP-TemplateOverrideStorage failed to save: ' + pError.message);\n\t\t}\n\t}\n\n\t/**\n\t * Save (or update) an override entry.\n\t * If this hash already has an override, only the Override content is updated.\n\t */\n\tsaveOverride(pHash, pOriginal, pOverride)\n\t{\n\t\tlet tmpOverrides = this.loadOverrides();\n\n\t\tif (tmpOverrides[pHash])\n\t\t{\n\t\t\t// Already have an original snapshot -- just update the override content\n\t\t\ttmpOverrides[pHash].Override = pOverride;\n\t\t\ttmpOverrides[pHash].Active = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOverrides[pHash] = {\n\t\t\t\tOriginal: pOriginal,\n\t\t\t\tOverride: pOverride,\n\t\t\t\tActive: true\n\t\t\t};\n\t\t}\n\n\t\tthis._persist(tmpOverrides);\n\t\tthis.log.trace(`Override saved for template [${pHash}]`);\n\t}\n\n\t/**\n\t * Remove an override entry and restore the original template.\n\t */\n\tremoveOverride(pHash)\n\t{\n\t\tlet tmpOverrides = this.loadOverrides();\n\t\tif (!tmpOverrides[pHash]) return;\n\n\t\t// Restore the original template before removing the entry\n\t\tlet tmpOriginal = tmpOverrides[pHash].Original;\n\t\tthis.pict.TemplateProvider.addTemplate(pHash, tmpOriginal);\n\n\t\tdelete tmpOverrides[pHash];\n\t\tthis._persist(tmpOverrides);\n\t\tthis.log.trace(`Override removed for template [${pHash}]`);\n\t}\n\n\t/**\n\t * Toggle a single override on or off.\n\t */\n\ttoggleOverride(pHash, pActive)\n\t{\n\t\tlet tmpOverrides = this.loadOverrides();\n\t\tif (!tmpOverrides[pHash]) return;\n\n\t\ttmpOverrides[pHash].Active = pActive;\n\t\tthis._persist(tmpOverrides);\n\n\t\tif (pActive)\n\t\t{\n\t\t\tthis.pict.TemplateProvider.addTemplate(pHash, tmpOverrides[pHash].Override);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.pict.TemplateProvider.addTemplate(pHash, tmpOverrides[pHash].Original);\n\t\t}\n\n\t\tthis.log.trace(`Override for [${pHash}] set to ${pActive ? 'active' : 'inactive'}`);\n\t}\n\n\t/**\n\t * Toggle all overrides on or off.\n\t */\n\ttoggleAll(pActive)\n\t{\n\t\tlet tmpOverrides = this.loadOverrides();\n\t\tlet tmpHashes = Object.keys(tmpOverrides);\n\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\ttmpOverrides[tmpHash].Active = pActive;\n\n\t\t\tif (pActive)\n\t\t\t{\n\t\t\t\tthis.pict.TemplateProvider.addTemplate(tmpHash, tmpOverrides[tmpHash].Override);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.pict.TemplateProvider.addTemplate(tmpHash, tmpOverrides[tmpHash].Original);\n\t\t\t}\n\t\t}\n\n\t\tthis._persist(tmpOverrides);\n\t\tthis.log.trace(`All overrides set to ${pActive ? 'active' : 'inactive'}`);\n\t}\n\n\t/**\n\t * Apply all active overrides. Called on panel init after page reload.\n\t */\n\tapplyOverrides()\n\t{\n\t\tlet tmpOverrides = this.loadOverrides();\n\t\tlet tmpHashes = Object.keys(tmpOverrides);\n\t\tlet tmpApplied = 0;\n\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tif (tmpOverrides[tmpHash].Active)\n\t\t\t{\n\t\t\t\tthis.pict.TemplateProvider.addTemplate(tmpHash, tmpOverrides[tmpHash].Override);\n\t\t\t\ttmpApplied++;\n\t\t\t}\n\t\t}\n\n\t\tif (tmpApplied > 0)\n\t\t{\n\t\t\tthis.log.info(`Applied ${tmpApplied} template override(s)`);\n\t\t}\n\t}\n}\n\nmodule.exports = PictPanelTemplateOverrideStorage;\nmodule.exports.default_configuration = _DEFAULT_PROVIDER_CONFIGURATION;\n\n},{\"pict-provider\":4}],23:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"PP-Panel\",\n\n\t\tDefaultRenderable: \"Pict-Panel-Container\",\n\t\tDefaultDestinationAddress: \"body\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"Pict-Panel-Container\",\n\t\t\t\tTemplate: /*html*/`<div id=\"Pict-Panel-Container\"></div>`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"Pict-Panel-Container\",\n\t\t\t\tTemplateHash: \"Pict-Panel-Container\",\n\t\t\t\tContentDestinationAddress: \"body\",\n\t\t\t\tRenderMethod: \"append_once\",\n\t\t\t\tTestAddress: \"#Pict-Panel-Container\"\n\t\t\t}]\n\t});\n\nclass PictPanelContainer extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonBeforeRender()\n\t{\n\t\tthis.pict.providers['PP-CSS-Hotloader'].hotloadCSS();\n\t}\n\n\tonAfterRender()\n\t{\n\t\tthis.pict.views['PP-Main'].render();\n\t\treturn super.onAfterRender();\n\t}\n}\n\nmodule.exports = PictPanelContainer;\nmodule.exports.default_configuration = _ViewConfiguration;\n},{\"pict-view\":8}],24:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"PP-Main\",\n\n\t\tDefaultRenderable: \"PP-Main\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel-Container\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-Main\",\n\t\t\t\tTemplate: require('../html/PP-Main-HTML.js').HTML,\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-Main\",\n\t\t\t\tTemplateHash: \"PP-Main\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel-Container\"\n\t\t\t}]\n\t});\n\nclass PictPanelMain extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis.uiState = {\n\t\t\tWired: false,\n\n\t\t\tBehaviors:\n\t\t\t{\n\t\t\t\t// Put the panel in tab mode\n\t\t\t\ttab_mode: false,\n\t\t\t\t// Make the panel header big or small\n\t\t\t\tmaximize_mode: false,\n\t\t\t\t// Lock the position of the panel.\n\t\t\t\tlock_position: false,\n\t\t\t\t// Pin current top location to the top of the screen.\n\t\t\t\tpin_top: false,\n\t\t\t\t// Pin current right location to the right side of the screen.\n\t\t\t\tpin_right: false,\n\t\t\t\tnight_mode: false,\n\t\t\t\tresize_handle: true,\n\t\t\t\tshow_ui: true,\n\t\t\t\tshow_navigation: true,\n\t\t\t\tvisible: true\n\t\t\t},\n\n\t\t\tManualTop: 0,\n\t\t\tManualLeft: 0,\n\t\t\tManualWidth: 300,\n\n\t\t\t// Saved position/size before maximize\n\t\t\tSavedPosition: false,\n\t\t\t// Saved position/size before tab mode\n\t\t\tSavedTabPosition: false\n\t\t};\n\t}\n\n\tonAfterRender()\n\t{\n\t\t// After rendering the panel, wire up the drag events.\n\t\tthis.wireDragEvents();\n\n\t\t// Render the navigation\n\t\tthis.pict.views['PP-Nav'].render();\n\n\t\treturn super.onAfterRender();\n\t}\n\n\tupdateUIBehaviorDisplay(pBehaviorHash)\n\t{\n\t\tlet tmpBehaviorToggleElementAddress = `#Pict-Panel [data-i-toggle=${pBehaviorHash}]`;\n\t\tlet tmpBehaviorToggleElement = this.pict.ContentAssignment.getElement(tmpBehaviorToggleElementAddress);\n\t\tif (!tmpBehaviorToggleElement) return;\n\n\t\tlet tmpBehaviorState = this.uiState.Behaviors[pBehaviorHash];\n\t\tif (tmpBehaviorState)\n\t\t{\n\t\t\tif (this.pict.ContentAssignment.hasClass(tmpBehaviorToggleElementAddress, \"unchecked\"))\n\t\t\t{\n\t\t\t\tthis.pict.ContentAssignment.removeClass(tmpBehaviorToggleElementAddress, \"unchecked\")\n\t\t\t}\n\t\t\tif (!this.pict.ContentAssignment.hasClass(tmpBehaviorToggleElementAddress, \"checked\"))\n\t\t\t{\n\t\t\t\tthis.pict.ContentAssignment.addClass(tmpBehaviorToggleElementAddress, \"checked\")\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.pict.ContentAssignment.hasClass(tmpBehaviorToggleElementAddress, \"checked\"))\n\t\t\t{\n\t\t\t\tthis.pict.ContentAssignment.removeClass(tmpBehaviorToggleElementAddress, \"checked\")\n\t\t\t}\n\t\t\tif (!this.pict.ContentAssignment.hasClass(tmpBehaviorToggleElementAddress, \"unchecked\"))\n\t\t\t{\n\t\t\t\tthis.pict.ContentAssignment.addClass(tmpBehaviorToggleElementAddress, \"unchecked\")\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggleUIBehavior(pBehaviorHash)\n\t{\n\t\tthis.log.trace(`Toggling behavior ${pBehaviorHash} ...`);\n\t\tthis.uiState.Behaviors[pBehaviorHash] = !this.uiState.Behaviors[pBehaviorHash];\n\t\tthis.updateUIBehaviorDisplay(pBehaviorHash);\n\n\t\tlet tmpPanelElement = document.getElementById('Pict-Panel');\n\t\tif (!tmpPanelElement) return;\n\n\t\tif (pBehaviorHash === 'maximize_mode')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.maximize_mode)\n\t\t\t{\n\t\t\t\t// Save current position and size before maximizing\n\t\t\t\tthis.uiState.SavedPosition = {\n\t\t\t\t\ttop: tmpPanelElement.style.top,\n\t\t\t\t\tleft: tmpPanelElement.style.left,\n\t\t\t\t\tright: tmpPanelElement.style.right,\n\t\t\t\t\twidth: tmpPanelElement.style.width,\n\t\t\t\t\tminWidth: tmpPanelElement.style.minWidth,\n\t\t\t\t\tmaxWidth: tmpPanelElement.style.maxWidth,\n\t\t\t\t\theight: tmpPanelElement.style.height,\n\t\t\t\t\tmaxHeight: tmpPanelElement.style.maxHeight\n\t\t\t\t};\n\n\t\t\t\t// Maximize with 15px padding on all sides\n\t\t\t\ttmpPanelElement.style.top = '15px';\n\t\t\t\ttmpPanelElement.style.left = '15px';\n\t\t\t\ttmpPanelElement.style.right = '15px';\n\t\t\t\ttmpPanelElement.style.width = 'calc(100vw - 30px)';\n\t\t\t\ttmpPanelElement.style.minWidth = '0';\n\t\t\t\ttmpPanelElement.style.maxWidth = 'none';\n\t\t\t\ttmpPanelElement.style.height = 'calc(100vh - 30px)';\n\t\t\t\ttmpPanelElement.style.maxHeight = 'none';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Restore saved position and size\n\t\t\t\tif (this.uiState.SavedPosition)\n\t\t\t\t{\n\t\t\t\t\ttmpPanelElement.style.top = this.uiState.SavedPosition.top;\n\t\t\t\t\ttmpPanelElement.style.left = this.uiState.SavedPosition.left;\n\t\t\t\t\ttmpPanelElement.style.right = this.uiState.SavedPosition.right;\n\t\t\t\t\ttmpPanelElement.style.width = this.uiState.SavedPosition.width;\n\t\t\t\t\ttmpPanelElement.style.minWidth = this.uiState.SavedPosition.minWidth;\n\t\t\t\t\ttmpPanelElement.style.maxWidth = this.uiState.SavedPosition.maxWidth;\n\t\t\t\t\ttmpPanelElement.style.height = this.uiState.SavedPosition.height;\n\t\t\t\t\ttmpPanelElement.style.maxHeight = this.uiState.SavedPosition.maxHeight;\n\t\t\t\t\tthis.uiState.SavedPosition = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// No saved position -- reset to defaults\n\t\t\t\t\ttmpPanelElement.style.top = '';\n\t\t\t\t\ttmpPanelElement.style.left = '';\n\t\t\t\t\ttmpPanelElement.style.right = '';\n\t\t\t\t\ttmpPanelElement.style.width = '';\n\t\t\t\t\ttmpPanelElement.style.minWidth = '';\n\t\t\t\t\ttmpPanelElement.style.maxWidth = '';\n\t\t\t\t\ttmpPanelElement.style.height = '';\n\t\t\t\t\ttmpPanelElement.style.maxHeight = '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'tab_mode')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.tab_mode)\n\t\t\t{\n\t\t\t\t// Save current position/size before collapsing\n\t\t\t\tthis.uiState.SavedTabPosition = {\n\t\t\t\t\ttop: tmpPanelElement.style.top,\n\t\t\t\t\tleft: tmpPanelElement.style.left,\n\t\t\t\t\tright: tmpPanelElement.style.right,\n\t\t\t\t\twidth: tmpPanelElement.style.width,\n\t\t\t\t\tminWidth: tmpPanelElement.style.minWidth,\n\t\t\t\t\tmaxWidth: tmpPanelElement.style.maxWidth,\n\t\t\t\t\theight: tmpPanelElement.style.height,\n\t\t\t\t\tmaxHeight: tmpPanelElement.style.maxHeight\n\t\t\t\t};\n\t\t\t\t// Clear inline styles so the CSS class takes effect\n\t\t\t\ttmpPanelElement.style.top = '';\n\t\t\t\ttmpPanelElement.style.left = '';\n\t\t\t\ttmpPanelElement.style.right = '';\n\t\t\t\ttmpPanelElement.style.width = '';\n\t\t\t\ttmpPanelElement.style.minWidth = '';\n\t\t\t\ttmpPanelElement.style.maxWidth = '';\n\t\t\t\ttmpPanelElement.style.height = '';\n\t\t\t\ttmpPanelElement.style.maxHeight = '';\n\t\t\t\ttmpPanelElement.classList.add('pp_tab_mode');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.remove('pp_tab_mode');\n\t\t\t\t// Restore saved position/size\n\t\t\t\tif (this.uiState.SavedTabPosition)\n\t\t\t\t{\n\t\t\t\t\ttmpPanelElement.style.top = this.uiState.SavedTabPosition.top;\n\t\t\t\t\ttmpPanelElement.style.left = this.uiState.SavedTabPosition.left;\n\t\t\t\t\ttmpPanelElement.style.right = this.uiState.SavedTabPosition.right;\n\t\t\t\t\ttmpPanelElement.style.width = this.uiState.SavedTabPosition.width;\n\t\t\t\t\ttmpPanelElement.style.minWidth = this.uiState.SavedTabPosition.minWidth;\n\t\t\t\t\ttmpPanelElement.style.maxWidth = this.uiState.SavedTabPosition.maxWidth;\n\t\t\t\t\ttmpPanelElement.style.height = this.uiState.SavedTabPosition.height;\n\t\t\t\t\ttmpPanelElement.style.maxHeight = this.uiState.SavedTabPosition.maxHeight;\n\t\t\t\t\tthis.uiState.SavedTabPosition = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'resize_handle')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.resize_handle)\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.remove('pp_no_resize');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.add('pp_no_resize');\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'pin_right')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.pin_right)\n\t\t\t{\n\t\t\t\ttmpPanelElement.style.left = '';\n\t\t\t\ttmpPanelElement.style.right = '-3px';\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'pin_top')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.pin_top)\n\t\t\t{\n\t\t\t\ttmpPanelElement.style.top = '-3px';\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'show_ui')\n\t\t{\n\t\t\tlet tmpNavElement = tmpPanelElement.querySelector('.pp_nav');\n\t\t\tlet tmpContentElement = tmpPanelElement.querySelector('.pp_content');\n\t\t\tlet tmpDisplay = this.uiState.Behaviors.show_ui ? '' : 'none';\n\t\t\tif (tmpNavElement)\n\t\t\t{\n\t\t\t\ttmpNavElement.style.display = tmpDisplay;\n\t\t\t}\n\t\t\tif (tmpContentElement)\n\t\t\t{\n\t\t\t\ttmpContentElement.style.display = tmpDisplay;\n\t\t\t}\n\t\t\t// When maximized, collapse height to just the header bar\n\t\t\tif (this.uiState.Behaviors.maximize_mode)\n\t\t\t{\n\t\t\t\tif (!this.uiState.Behaviors.show_ui)\n\t\t\t\t{\n\t\t\t\t\ttmpPanelElement.style.height = 'auto';\n\t\t\t\t\ttmpPanelElement.style.maxHeight = 'none';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpPanelElement.style.height = 'calc(100vh - 30px)';\n\t\t\t\t\ttmpPanelElement.style.maxHeight = 'none';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'show_navigation')\n\t\t{\n\t\t\tlet tmpNavElement = tmpPanelElement.querySelector('.pp_nav');\n\t\t\tif (tmpNavElement)\n\t\t\t{\n\t\t\t\ttmpNavElement.style.display = (this.uiState.Behaviors.show_navigation && this.uiState.Behaviors.show_ui) ? '' : 'none';\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'night_mode')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.night_mode)\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.add('pp_dark_mode');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.remove('pp_dark_mode');\n\t\t\t}\n\t\t}\n\n\t\t// Persist config after every toggle\n\t\tif (this.pict.providers['PP-ConfigStorage'])\n\t\t{\n\t\t\tthis.pict.providers['PP-ConfigStorage'].save(this.uiState);\n\t\t}\n\t}\n\n\tinitializePanelIcons()\n\t{\n\t\tlet tmpBehaviors = Object.keys(this.uiState.Behaviors);\n\t\tfor (let i = 0; i < tmpBehaviors.length; i++)\n\t\t{\n\t\t\tthis.updateUIBehaviorDisplay(tmpBehaviors[i]);\n\t\t}\n\t}\n\n\twireDragEvents()\n\t{\n\t\tif (this.uiState.Wired) return;\n\n\t\tlet __View = this;\n\n\t\t// Setup the draggable behavior for the window\n\t\tlet tmpPanelElement = document.getElementById('Pict-Panel');\n\t\tlet tmpPanelDragElement = document.getElementById('Pict-Panel-Drag');\n\t\tif (!tmpPanelElement) return;\n\t\tif (!tmpPanelDragElement) return;\n\n\t\ttmpPanelDragElement.addEventListener('mousedown',\n\t\t\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t\t\t * BEGIN of browser event code block\n\t\t\t *\n\t\t\t * The below code is meant to run in response to a browser event.\n\t\t\t * --> Therefore the \"this\" context is the element that fired the event.\n\t\t\t * --> There is passed in a \"__View\" reference to this view.\n\t\t\t * --> Happy trails.\n\t\t\t */\n\t\t\tfunction (pEvent)\n\t\t\t{\n\t\t\t\tpEvent.preventDefault();\n\t\t\t\tlet tmpOffsetX = pEvent.offsetX + tmpPanelDragElement.clientLeft;\n\t\t\t\tlet tmpOffsetY = pEvent.offsetY + tmpPanelDragElement.clientTop;\n\t\t\t\tfunction dragHandler(pEvent)\n\t\t\t\t{\n\t\t\t\t\tpEvent.preventDefault();\n\t\t\t\t\tpEvent.stopPropagation();\n\n\t\t\t\t\tif (__View.uiState.Behaviors.tab_mode)\n\t\t\t\t\t{\n\t\t\t\t\t\t// In tab mode, only allow horizontal drag along the top\n\t\t\t\t\t\t// Must set right to 'auto' to override the CSS class rule\n\t\t\t\t\t\ttmpPanelElement.style.right = 'auto';\n\t\t\t\t\t\ttmpPanelElement.style.left = (pEvent.clientX - tmpOffsetX) + 'px';\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (__View.uiState.Behaviors.lock_position) return;\n\n\t\t\t\t\tif (!__View.uiState.Behaviors.pin_right)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpPanelElement.style.right = '';\n\t\t\t\t\t\ttmpPanelElement.style.left = (pEvent.clientX - tmpOffsetX) + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tif (!__View.uiState.Behaviors.pin_top)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpPanelElement.style.top = (pEvent.clientY - tmpOffsetY) + 'px';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction dragStop(pEvent)\n\t\t\t\t{\n\t\t\t\t\twindow.removeEventListener('pointermove', dragHandler);\n\t\t\t\t\twindow.removeEventListener('pointerup', dragStop);\n\t\t\t\t\t// Persist position after drag\n\t\t\t\t\tif (__View.pict.providers['PP-ConfigStorage'])\n\t\t\t\t\t{\n\t\t\t\t\t\t__View.pict.providers['PP-ConfigStorage'].save(__View.uiState);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twindow.addEventListener('pointermove', dragHandler);\n\t\t\t\twindow.addEventListener('pointerup', dragStop);\n\t\t\t});\n\t\t\t/*\n\t\t\t * END of browser event code block\n\t\t\t * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n\t\t// Double-click on drag handle expands panel from tab mode\n\t\ttmpPanelDragElement.addEventListener('dblclick',\n\t\t\tfunction (pEvent)\n\t\t\t{\n\t\t\t\tif (__View.uiState.Behaviors.tab_mode)\n\t\t\t\t{\n\t\t\t\t\t__View.toggleUIBehavior('tab_mode');\n\t\t\t\t}\n\t\t\t});\n\n\t\tlet tmpUIBehaviorIcons = this.pict.ContentAssignment.getElement('#Pict-Panel .pp_sz_con div');\n\t\tfor (let i = 0; i < tmpUIBehaviorIcons.length; i++)\n\t\t{\n\t\t\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t\t\t * START of browser event code block\n\t\t\t *\n\t\t\t * Same same as above.\n\t\t\t */\n\t\t\ttmpUIBehaviorIcons[i].addEventListener('click',\n\t\t\t\tfunction (pEvent)\n\t\t\t\t{\n\t\t\t\t\tif (('currentTarget' in pEvent) && ('attributes' in pEvent.currentTarget))\n\t\t\t\t\t{\n\t\t\t\t\t\tlet tmpToggleProperty = pEvent.currentTarget.attributes['data-i-toggle'];\n\t\t\t\t\t\t__View.toggleUIBehavior(tmpToggleProperty.value);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t__View.log.error(`Pict-Panel toggleUIBehavior handler received an invalid event object.`)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t/*\n\t\t\t * END of browser event code block\n\t\t\t * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\t\t}\n\n\t\tthis.initializePanelIcons();\n\n\t\tthis.uiState.Wired = true;\n\t}\n}\n\nmodule.exports = PictPanelMain;\nmodule.exports.default_configuration = _ViewConfiguration;\n},{\"../html/PP-Main-HTML.js\":17,\"pict-view\":8}],25:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-Nav\",\n\n\t\tDefaultRenderable: \"PP-Nav\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_nav_elements\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-Nav\",\n\t\t\t\tTemplate: require('../html/PP-Nav-HTML.js').HTML\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-Nav\",\n\t\t\t\tTemplateHash: \"PP-Nav\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_nav_elements\"\n\t\t\t}]\n\t});\n\nclass PictPanelNav extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender()\n\t{\n\t\t// Show the last view we had loaded\n\t\tthis.pict.views['PP-ADB'].render();\n\t}\n}\n\nmodule.exports = PictPanelNav;\nmodule.exports.default_configuration = _ViewConfiguration;\n},{\"../html/PP-Nav-HTML.js\":18,\"pict-view\":8}],26:[function(require,module,exports){\nconst libPictView = require('pict-view');\nconst libPictTemplate = require('pict-template');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-AppDataBrowser\",\n\n\t\tDefaultRenderable: \"PP-AppDataBrowser\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_content\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-AppDataBrowser\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_adb_container\">\n\t\t\t\t\t<div class=\"pp_adb_header\">\n\t\t\t\t\t\t<span class=\"pp_adb_header_label\">AppData</span>\n\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-ADB'].downloadAppData(); return false;\" title=\"Download AppData as JSON\">dl</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-ADB'].editAppData(); return false;\" title=\"Edit AppData JSON\">ed</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_refresh_btn\" onclick=\"_Pict.views['PP-ADB'].render(); return false;\" title=\"Refresh\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M320 146s24.36-12-64-12a160 160 0 10160 160\"/><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M256 58l80 80-80 80\"/></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_adb_editor\" id=\"pp_adb_editor\" style=\"display:none;\">\n\t\t\t\t\t\t<textarea class=\"pp_adb_editor_textarea\" id=\"pp_adb_editor_textarea\"></textarea>\n\t\t\t\t\t\t<div class=\"pp_adb_editor_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_editor_save\" onclick=\"_Pict.views['PP-ADB'].saveAppData(); return false;\">save</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_editor_cancel\" onclick=\"_Pict.views['PP-ADB'].closeEditor(); return false;\">cancel</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_adb_root pp_adb_target\" data-i-objectpath=\"{~D:Context[0].rootAddress~}\" data-i-parentpath=\"\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-AppDataEntry-Leaf\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_adb_entry pp_adb_leaf\">\n\t\t\t\t\t<div class=\"pp_adb_datarow\">\n\t\t\t\t\t\t<div class=\"pp_adb_record_metadata\">\n\t\t\t\t\t\t\t<span class=\"pp_adb_key\">{~D:Record.Key~}</span>\n\t\t\t\t\t\t\t<span class=\"pp_adb_type\">{~D:Record.DataType~}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"pp_adb_record_data\">\n\t\t\t\t\t\t\t<span class=\"pp_adb_value pp_adb_value_{~D:Record.DataType~}\">{~D:Record.Value~}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-AppDataEntry-Branch\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_adb_entry pp_adb_branch\">\n\t\t\t\t\t<div class=\"pp_adb_datarow pp_adb_expandable\" onclick=\"_Pict.views['PP-ADB'].toggleChildTree('{~D:Record.ParentPath~}','{~D:Record.ObjectPath~}','{~D:Record.Key~}'); return false;\">\n\t\t\t\t\t\t<div class=\"pp_adb_record_metadata\">\n\t\t\t\t\t\t\t<span class=\"pp_adb_expand_icon pp_adb_collapsed\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"12\" height=\"12\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M184 112l144 144-144 144\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"pp_adb_key\">{~D:Record.Key~}</span>\n\t\t\t\t\t\t\t<span class=\"pp_adb_type\">{~D:Record.DataType~}</span>\n\t\t\t\t\t\t\t<span class=\"pp_adb_count\">{~D:Record.ChildCount~}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_adb_children pp_adb_target\" data-i-objectpath=\"{~D:Record.ObjectPath~}\" data-i-parentpath=\"{~D:Record.ParentPath~}\" style=\"display:none;\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-AppDataBrowser\",\n\t\t\t\tTemplateHash: \"PP-AppDataBrowser\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_content\"\n\t\t\t}]\n\t});\n\nclass PictPanelAppDataBrowser extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis.prototypeTemplate = new libPictTemplate(this.pict, libPictTemplate.default_configuration);\n\n\t\tthis.rootAddress = 'AppData';\n\t}\n\n\tonAfterRender()\n\t{\n\t\treturn this.renderChildTree('', this.rootAddress, '');\n\t}\n\n\tdownloadAppData()\n\t{\n\t\tlet tmpData = JSON.stringify(this.pict.AppData, null, '\\t');\n\t\tlet tmpBlob = new Blob([tmpData], { type: 'application/json' });\n\t\tlet tmpURL = URL.createObjectURL(tmpBlob);\n\t\tlet tmpLink = document.createElement('a');\n\t\ttmpLink.href = tmpURL;\n\t\ttmpLink.download = 'AppData.json';\n\t\tdocument.body.appendChild(tmpLink);\n\t\ttmpLink.click();\n\t\tdocument.body.removeChild(tmpLink);\n\t\tURL.revokeObjectURL(tmpURL);\n\t}\n\n\teditAppData()\n\t{\n\t\tlet tmpEditor = document.getElementById('pp_adb_editor');\n\t\tlet tmpTextarea = document.getElementById('pp_adb_editor_textarea');\n\t\tif (!tmpEditor || !tmpTextarea) return;\n\n\t\ttmpTextarea.value = JSON.stringify(this.pict.AppData, null, '\\t');\n\t\ttmpEditor.style.display = 'block';\n\t\ttmpTextarea.focus();\n\t}\n\n\tsaveAppData()\n\t{\n\t\tlet tmpTextarea = document.getElementById('pp_adb_editor_textarea');\n\t\tif (!tmpTextarea) return;\n\n\t\ttry\n\t\t{\n\t\t\tlet tmpNewData = JSON.parse(tmpTextarea.value);\n\t\t\t// Replace AppData contents\n\t\t\tlet tmpKeys = Object.keys(this.pict.AppData);\n\t\t\tfor (let i = 0; i < tmpKeys.length; i++)\n\t\t\t{\n\t\t\t\tdelete this.pict.AppData[tmpKeys[i]];\n\t\t\t}\n\t\t\tObject.assign(this.pict.AppData, tmpNewData);\n\t\t\tthis.closeEditor();\n\t\t\tthis.render();\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('Invalid JSON: ' + pError.message);\n\t\t\ttmpTextarea.classList.add('pp_adb_editor_error');\n\t\t\tsetTimeout(() => { tmpTextarea.classList.remove('pp_adb_editor_error'); }, 1500);\n\t\t}\n\t}\n\n\tcloseEditor()\n\t{\n\t\tlet tmpEditor = document.getElementById('pp_adb_editor');\n\t\tif (tmpEditor) tmpEditor.style.display = 'none';\n\t}\n\n\tgetValueSummary(pValue)\n\t{\n\t\tif (pValue === null)\n\t\t{\n\t\t\treturn 'null';\n\t\t}\n\t\tif (pValue === undefined)\n\t\t{\n\t\t\treturn 'undefined';\n\t\t}\n\t\tif (Array.isArray(pValue))\n\t\t{\n\t\t\treturn `Array(${pValue.length})`;\n\t\t}\n\t\tif (typeof(pValue) === 'object')\n\t\t{\n\t\t\tlet tmpKeys = Object.keys(pValue);\n\t\t\treturn `{${tmpKeys.length} keys}`;\n\t\t}\n\t\tlet tmpStr = String(pValue);\n\t\tif (tmpStr.length > 80)\n\t\t{\n\t\t\treturn tmpStr.substring(0, 77) + '...';\n\t\t}\n\t\treturn tmpStr;\n\t}\n\n\tisExpandable(pValue)\n\t{\n\t\tif (pValue === null || pValue === undefined)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t\tif (Array.isArray(pValue))\n\t\t{\n\t\t\treturn pValue.length > 0;\n\t\t}\n\t\tif (typeof(pValue) === 'object')\n\t\t{\n\t\t\treturn Object.keys(pValue).length > 0;\n\t\t}\n\t\treturn false;\n\t}\n\n\tgetDataType(pValue)\n\t{\n\t\tif (pValue === null)\n\t\t{\n\t\t\treturn 'null';\n\t\t}\n\t\tif (Array.isArray(pValue))\n\t\t{\n\t\t\treturn 'array';\n\t\t}\n\t\treturn typeof(pValue);\n\t}\n\n\tgetChildCount(pValue)\n\t{\n\t\tif (Array.isArray(pValue))\n\t\t{\n\t\t\treturn `[${pValue.length}]`;\n\t\t}\n\t\tif (typeof(pValue) === 'object' && pValue !== null)\n\t\t{\n\t\t\treturn `{${Object.keys(pValue).length}}`;\n\t\t}\n\t\treturn '';\n\t}\n\n\ttoggleChildTree(pParentPath, pObjectPath, pKey)\n\t{\n\t\tlet tmpTargetElementAddress = `#Pict-Panel div.pp_adb_target[data-i-parentpath=\"${pParentPath}\"][data-i-objectpath=\"${pObjectPath}\"]`;\n\t\tlet tmpTargetElement = this.pict.ContentAssignment.getElement(tmpTargetElementAddress);\n\n\t\tif (!tmpTargetElement || !tmpTargetElement.length)\n\t\t{\n\t\t\tthis.log.error(`PP ADB could not find target element for Parent[${pParentPath}] Object[${pObjectPath}] key [${pKey}].`);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet tmpElement = tmpTargetElement[0];\n\t\tlet tmpParentEntry = tmpElement.closest('.pp_adb_branch');\n\t\tlet tmpExpandIcon = tmpParentEntry ? tmpParentEntry.querySelector('.pp_adb_expand_icon') : null;\n\n\t\tif (tmpElement.style.display === 'none')\n\t\t{\n\t\t\t// Expand: render children if not yet populated\n\t\t\tif (tmpElement.innerHTML.trim() === '')\n\t\t\t{\n\t\t\t\tthis.renderChildTree(pParentPath, pObjectPath, pKey);\n\t\t\t}\n\t\t\ttmpElement.style.display = 'block';\n\t\t\tif (tmpExpandIcon)\n\t\t\t{\n\t\t\t\ttmpExpandIcon.classList.remove('pp_adb_collapsed');\n\t\t\t\ttmpExpandIcon.classList.add('pp_adb_expanded');\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Collapse\n\t\t\ttmpElement.style.display = 'none';\n\t\t\tif (tmpExpandIcon)\n\t\t\t{\n\t\t\t\ttmpExpandIcon.classList.remove('pp_adb_expanded');\n\t\t\t\ttmpExpandIcon.classList.add('pp_adb_collapsed');\n\t\t\t}\n\t\t}\n\t}\n\n\trenderChildTree(pParentPath, pObjectPath, pKey)\n\t{\n\t\tlet tmpTargetElementAddress = `#Pict-Panel div.pp_adb_target[data-i-parentpath=\"${pParentPath}\"][data-i-objectpath=\"${pObjectPath}\"]`;\n\t\tlet tmpTargetElement = this.pict.ContentAssignment.getElement(tmpTargetElementAddress);\n\n\t\tif (!tmpTargetElement)\n\t\t{\n\t\t\tthis.log.error(`PP ADB could not find target element to render to for Parent[${pParentPath}] Object[${pObjectPath}] key [${pKey}].`);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet tmpObject = this.prototypeTemplate.resolveStateFromAddress(pObjectPath);\n\n\t\tlet tmpLeaves = [];\n\t\tlet tmpBranches = [];\n\n\t\tif (Array.isArray(tmpObject))\n\t\t{\n\t\t\tfor (let i = 0; i < tmpObject.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpValue = tmpObject[i];\n\t\t\t\tlet tmpEntry = (\n\t\t\t\t\t{\n\t\t\t\t\t\tKey: i,\n\t\t\t\t\t\tValue: this.getValueSummary(tmpValue),\n\t\t\t\t\t\tParentPath: pObjectPath,\n\t\t\t\t\t\tObjectPath: `${pObjectPath}[${i}]`,\n\t\t\t\t\t\tDataType: this.getDataType(tmpValue),\n\t\t\t\t\t\tChildCount: this.getChildCount(tmpValue)\n\t\t\t\t\t});\n\n\t\t\t\tif (this.isExpandable(tmpValue))\n\t\t\t\t{\n\t\t\t\t\ttmpBranches.push(tmpEntry);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpLeaves.push(tmpEntry);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (typeof(tmpObject) === 'object' && tmpObject !== null)\n\t\t{\n\t\t\tlet tmpObjectEntries = Object.keys(tmpObject);\n\t\t\tfor (let i = 0; i < tmpObjectEntries.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpValueKey = tmpObjectEntries[i];\n\t\t\t\tlet tmpValue = tmpObject[tmpValueKey];\n\n\t\t\t\tlet tmpEntry = (\n\t\t\t\t\t{\n\t\t\t\t\t\tKey: tmpValueKey,\n\t\t\t\t\t\tValue: this.getValueSummary(tmpValue),\n\t\t\t\t\t\tParentPath: pObjectPath,\n\t\t\t\t\t\tObjectPath: `${pObjectPath}.${tmpValueKey}`,\n\t\t\t\t\t\tDataType: this.getDataType(tmpValue),\n\t\t\t\t\t\tChildCount: this.getChildCount(tmpValue)\n\t\t\t\t\t});\n\n\t\t\t\tif (this.isExpandable(tmpValue))\n\t\t\t\t{\n\t\t\t\t\ttmpBranches.push(tmpEntry);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpLeaves.push(tmpEntry);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Scalar value at root -- show it directly\n\t\t\tlet tmpOutput = `<div class=\"pp_adb_scalar_value\">${this.getValueSummary(tmpObject)}</div>`;\n\t\t\tthis.pict.ContentAssignment.assignContent(tmpTargetElementAddress, tmpOutput);\n\t\t\treturn tmpOutput;\n\t\t}\n\n\t\t// Render leaves first (simple values), then branches (expandable)\n\t\tlet tmpOutput = '';\n\t\tif (tmpLeaves.length > 0)\n\t\t{\n\t\t\ttmpOutput += this.pict.parseTemplateSetByHash('PP-AppDataEntry-Leaf', tmpLeaves, null, [this]);\n\t\t}\n\t\tif (tmpBranches.length > 0)\n\t\t{\n\t\t\ttmpOutput += this.pict.parseTemplateSetByHash('PP-AppDataEntry-Branch', tmpBranches, null, [this]);\n\t\t}\n\n\t\tthis.pict.ContentAssignment.assignContent(tmpTargetElementAddress, tmpOutput);\n\n\t\treturn tmpOutput;\n\t}\n}\n\nmodule.exports = PictPanelAppDataBrowser;\nmodule.exports.default_configuration = _ViewConfiguration;\n},{\"pict-template\":6,\"pict-view\":8}],27:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-ProviderBrowser\",\n\n\t\tDefaultRenderable: \"PP-ProviderBrowser\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_content\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-ProviderBrowser\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_container\" id=\"pp_pb_container\">\n\t\t\t\t\t<div class=\"pp_adb_header\">\n\t\t\t\t\t\t<span class=\"pp_adb_header_label\">Providers</span>\n\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_refresh_btn\" onclick=\"_Pict.views['PP-PB'].showList(); return false;\" title=\"Refresh\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M320 146s24.36-12-64-12a160 160 0 10160 160\"/><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M256 58l80 80-80 80\"/></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_body\" id=\"pp_pb_body\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-ProviderEntry\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_entry\">\n\t\t\t\t\t<div class=\"pp_sb_entry_row\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_entry_hash\" onclick=\"_Pict.views['PP-PB'].showDetail('{~D:Record.Hash~}'); return false;\">{~D:Record.Hash~}</a>\n\t\t\t\t\t\t<span class=\"pp_sb_entry_info\">{~D:Record.Info~}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-ProviderDetail\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_detail\">\n\t\t\t\t\t<div class=\"pp_sb_detail_header\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_back_btn\" onclick=\"_Pict.views['PP-PB'].showList(); return false;\" title=\"Back to list\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M328 112L184 256l144 144\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<span class=\"pp_sb_detail_hash\">{~D:Record.Hash~}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_vitals\">\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">UUID</span><span class=\"pp_sb_vital_val\">{~D:Record.UUID~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">AutoInitialize</span><span class=\"pp_sb_vital_val\">{~D:Record.AutoInit~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">AutoSolve</span><span class=\"pp_sb_vital_val\">{~D:Record.AutoSolve~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Initialized</span><span class=\"pp_sb_vital_val\">{~D:Record.InitTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Last Solve</span><span class=\"pp_sb_vital_val\">{~D:Record.SolveTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Templates</span><span class=\"pp_sb_vital_val\">{~D:Record.TemplateCount~}</span></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_actions\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-PB'].execProviderAction('{~D:Record.Hash~}','solve'); return false;\" title=\"solve()\">solve</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_section_label\">Options</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_options\" id=\"pp_pb_detail_options\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-ProviderBrowser\",\n\t\t\t\tTemplateHash: \"PP-ProviderBrowser\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_content\"\n\t\t\t}]\n\t});\n\nclass PictPanelProviderBrowser extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis.detailHash = false;\n\t}\n\n\tonAfterRender()\n\t{\n\t\tthis.showList();\n\t}\n\n\tgetProviderEntries()\n\t{\n\t\tlet tmpProviders = this.pict.providers;\n\t\tlet tmpHashes = Object.keys(tmpProviders);\n\t\tlet tmpEntries = [];\n\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tlet tmpProvider = tmpProviders[tmpHash];\n\n\t\t\tlet tmpInfo = tmpProvider.serviceType || '';\n\n\t\t\ttmpEntries.push({ Hash: tmpHash, Info: tmpInfo });\n\t\t}\n\n\t\ttmpEntries.sort(function(a, b) { return a.Hash.localeCompare(b.Hash); });\n\t\treturn tmpEntries;\n\t}\n\n\tshowList()\n\t{\n\t\tthis.detailHash = false;\n\t\tlet tmpEntries = this.getProviderEntries();\n\t\tlet tmpOutput = '';\n\t\tif (tmpEntries.length > 0)\n\t\t{\n\t\t\ttmpOutput = this.pict.parseTemplateSetByHash('PP-ProviderEntry', tmpEntries, null, [this]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOutput = '<div class=\"pp_tb_empty\">No providers registered.</div>';\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#pp_pb_body', tmpOutput);\n\t}\n\n\tformatTimestamp(pTimestamp)\n\t{\n\t\tif (!pTimestamp) return '--';\n\t\tlet tmpDate = new Date(pTimestamp);\n\t\treturn tmpDate.toLocaleTimeString();\n\t}\n\n\tshowDetail(pHash)\n\t{\n\t\tlet tmpProvider = this.pict.providers[pHash];\n\t\tif (!tmpProvider) return;\n\n\t\tthis.detailHash = pHash;\n\n\t\tlet tmpTemplateCount = 0;\n\t\tif (tmpProvider.options && tmpProvider.options.Templates)\n\t\t{\n\t\t\ttmpTemplateCount = tmpProvider.options.Templates.length;\n\t\t}\n\n\t\tlet tmpRecord = [\n\t\t\t{\n\t\t\t\tHash: pHash,\n\t\t\t\tUUID: tmpProvider.UUID || '--',\n\t\t\t\tAutoInit: (tmpProvider.options && tmpProvider.options.AutoInitialize) ? 'true' : 'false',\n\t\t\t\tAutoSolve: (tmpProvider.options && tmpProvider.options.AutoSolveWithApp) ? 'true' : 'false',\n\t\t\t\tInitTS: this.formatTimestamp(tmpProvider.initializeTimestamp),\n\t\t\t\tSolveTS: this.formatTimestamp(tmpProvider.lastSolvedTimestamp),\n\t\t\t\tTemplateCount: tmpTemplateCount\n\t\t\t}];\n\n\t\tlet tmpOutput = this.pict.parseTemplateSetByHash('PP-ProviderDetail', tmpRecord, null, [this]);\n\t\tthis.pict.ContentAssignment.assignContent('#pp_pb_body', tmpOutput);\n\n\t\t// Show a summary of options (non-function, non-template keys)\n\t\tthis.renderDetailOptions(tmpProvider);\n\t}\n\n\trenderDetailOptions(pProvider)\n\t{\n\t\tif (!pProvider.options) return;\n\n\t\tlet tmpKeys = Object.keys(pProvider.options);\n\t\tlet tmpOutput = '<div class=\"pp_sb_detail_opts_list\">';\n\n\t\tfor (let i = 0; i < tmpKeys.length; i++)\n\t\t{\n\t\t\tlet tmpKey = tmpKeys[i];\n\t\t\tlet tmpVal = pProvider.options[tmpKey];\n\n\t\t\t// Skip large objects and arrays (Templates, Manifests, etc.)\n\t\t\tif (tmpKey === 'Templates' || tmpKey === 'DefaultTemplates' || tmpKey === 'Manifests') continue;\n\t\t\tif (typeof(tmpVal) === 'function') continue;\n\n\t\t\tlet tmpDisplayVal = '';\n\t\t\tif (tmpVal === null)\n\t\t\t{\n\t\t\t\ttmpDisplayVal = '<span class=\"pp_adb_value_null\">null</span>';\n\t\t\t}\n\t\t\telse if (typeof(tmpVal) === 'object')\n\t\t\t{\n\t\t\t\ttmpDisplayVal = JSON.stringify(tmpVal).substring(0, 80);\n\t\t\t\ttmpDisplayVal = tmpDisplayVal.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\t\t\t}\n\t\t\telse if (typeof(tmpVal) === 'boolean')\n\t\t\t{\n\t\t\t\ttmpDisplayVal = '<span class=\"pp_adb_value_boolean\">' + String(tmpVal) + '</span>';\n\t\t\t}\n\t\t\telse if (typeof(tmpVal) === 'number')\n\t\t\t{\n\t\t\t\ttmpDisplayVal = '<span class=\"pp_adb_value_number\">' + tmpVal + '</span>';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet tmpStr = String(tmpVal);\n\t\t\t\tif (tmpStr.length > 60)\n\t\t\t\t{\n\t\t\t\t\ttmpStr = tmpStr.substring(0, 57) + '...';\n\t\t\t\t}\n\t\t\t\ttmpDisplayVal = tmpStr.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\t\t\t}\n\n\t\t\ttmpOutput += '<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">' + tmpKey + '</span><span class=\"pp_sb_vital_val\">' + tmpDisplayVal + '</span></div>';\n\t\t}\n\n\t\ttmpOutput += '</div>';\n\t\tthis.pict.ContentAssignment.assignContent('#pp_pb_detail_options', tmpOutput);\n\t}\n\n\texecProviderAction(pHash, pAction)\n\t{\n\t\tlet tmpProvider = this.pict.providers[pHash];\n\t\tif (!tmpProvider) return;\n\n\t\tthis.log.info(`Executing ${pAction}() on provider [${pHash}]`);\n\n\t\tif (typeof(tmpProvider[pAction]) === 'function')\n\t\t{\n\t\t\ttmpProvider[pAction]();\n\t\t}\n\n\t\t// Refresh the detail view to show updated timestamps\n\t\tlet __View = this;\n\t\tsetTimeout(function() { if (__View.detailHash === pHash) __View.showDetail(pHash); }, 250);\n\t}\n}\n\nmodule.exports = PictPanelProviderBrowser;\nmodule.exports.default_configuration = _ViewConfiguration;\n\n},{\"pict-view\":8}],28:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-TemplateBrowser\",\n\n\t\tDefaultRenderable: \"PP-TemplateBrowser\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_content\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-TemplateBrowser\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_tb_container\">\n\t\t\t\t\t<div class=\"pp_adb_header\">\n\t\t\t\t\t\t<span class=\"pp_adb_header_label\">Templates</span>\n\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_refresh_btn\" onclick=\"_Pict.views['PP-TB'].render(); return false;\" title=\"Refresh\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M320 146s24.36-12-64-12a160 160 0 10160 160\"/><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M256 58l80 80-80 80\"/></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_tb_filter\">\n\t\t\t\t\t\t<input type=\"text\" class=\"pp_tb_filter_input\" id=\"pp_tb_filter_input\" placeholder=\"filter templates...\" oninput=\"_Pict.views['PP-TB'].filterTemplates(this.value);\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_tb_editor\" id=\"pp_tb_editor\" style=\"display:none;\">\n\t\t\t\t\t\t<div class=\"pp_tb_editor_header\">\n\t\t\t\t\t\t\t<span class=\"pp_tb_editor_hash\" id=\"pp_tb_editor_hash\"></span>\n\t\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_editor_save\" onclick=\"_Pict.views['PP-TB'].saveTemplate(); return false;\">save</a>\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_editor_cancel\" onclick=\"_Pict.views['PP-TB'].closeEditor(); return false;\">cancel</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<textarea class=\"pp_adb_editor_textarea pp_tb_editor_textarea\" id=\"pp_tb_editor_textarea\"></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_tb_list\" id=\"pp_tb_list\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-TemplateEntry\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_tb_entry\" data-i-hash=\"{~D:Record.Hash~}\">\n\t\t\t\t\t<div class=\"pp_tb_entry_row\">\n\t\t\t\t\t\t<span class=\"pp_tb_entry_hash\">{~D:Record.Hash~}</span>\n\t\t\t\t\t\t<span class=\"pp_tb_entry_source\">{~D:Record.Source~}</span>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TB'].editTemplate('{~D:Record.Hash~}'); return false;\" title=\"Edit template\">ed</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_tb_entry_preview\">{~D:Record.Preview~}</div>\n\t\t\t\t</div>\n`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-TemplateBrowser\",\n\t\t\t\tTemplateHash: \"PP-TemplateBrowser\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_content\"\n\t\t\t}]\n\t});\n\nclass PictPanelTemplateBrowser extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis.currentFilter = '';\n\t\tthis.editingHash = false;\n\t}\n\n\tonAfterRender()\n\t{\n\t\tthis.renderTemplateList();\n\t}\n\n\tgetTemplateEntries()\n\t{\n\t\tlet tmpTemplates = this.pict.TemplateProvider.templates;\n\t\tlet tmpSources = this.pict.TemplateProvider.templateSources;\n\t\tlet tmpHashes = Object.keys(tmpTemplates);\n\n\t\tlet tmpEntries = [];\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tlet tmpTemplate = tmpTemplates[tmpHash];\n\t\t\tlet tmpSource = tmpSources[tmpHash] || '';\n\n\t\t\t// Build a one-line preview\n\t\t\tlet tmpPreview = '';\n\t\t\tif (typeof(tmpTemplate) === 'string')\n\t\t\t{\n\t\t\t\ttmpPreview = tmpTemplate.replace(/[\\t\\n\\r]+/g, ' ').trim();\n\t\t\t\tif (tmpPreview.length > 120)\n\t\t\t\t{\n\t\t\t\t\ttmpPreview = tmpPreview.substring(0, 117) + '...';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Escape HTML in preview so it renders as text\n\t\t\ttmpPreview = tmpPreview.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n\t\t\ttmpEntries.push(\n\t\t\t\t{\n\t\t\t\t\tHash: tmpHash,\n\t\t\t\t\tSource: tmpSource,\n\t\t\t\t\tPreview: tmpPreview\n\t\t\t\t});\n\t\t}\n\n\t\t// Sort alphabetically by hash\n\t\ttmpEntries.sort(function(a, b) { return a.Hash.localeCompare(b.Hash); });\n\n\t\treturn tmpEntries;\n\t}\n\n\trenderTemplateList()\n\t{\n\t\tlet tmpEntries = this.getTemplateEntries();\n\n\t\t// Apply filter\n\t\tif (this.currentFilter)\n\t\t{\n\t\t\tlet tmpFilterLower = this.currentFilter.toLowerCase();\n\t\t\ttmpEntries = tmpEntries.filter(function(pEntry)\n\t\t\t{\n\t\t\t\treturn pEntry.Hash.toLowerCase().indexOf(tmpFilterLower) >= 0\n\t\t\t\t\t|| pEntry.Source.toLowerCase().indexOf(tmpFilterLower) >= 0\n\t\t\t\t\t|| pEntry.Preview.toLowerCase().indexOf(tmpFilterLower) >= 0;\n\t\t\t});\n\t\t}\n\n\t\tlet tmpOutput = '';\n\t\tif (tmpEntries.length > 0)\n\t\t{\n\t\t\ttmpOutput = this.pict.parseTemplateSetByHash('PP-TemplateEntry', tmpEntries, null, [this]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOutput = '<div class=\"pp_tb_empty\">No templates match filter.</div>';\n\t\t}\n\n\t\tthis.pict.ContentAssignment.assignContent('#pp_tb_list', tmpOutput);\n\t}\n\n\tfilterTemplates(pFilterText)\n\t{\n\t\tthis.currentFilter = pFilterText;\n\t\tthis.renderTemplateList();\n\t}\n\n\teditTemplate(pHash)\n\t{\n\t\tlet tmpTemplate = this.pict.TemplateProvider.getTemplate(pHash);\n\t\tif (tmpTemplate === null)\n\t\t{\n\t\t\tthis.log.error(`Template [${pHash}] not found.`);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.editingHash = pHash;\n\n\t\tlet tmpEditor = document.getElementById('pp_tb_editor');\n\t\tlet tmpTextarea = document.getElementById('pp_tb_editor_textarea');\n\t\tlet tmpHashLabel = document.getElementById('pp_tb_editor_hash');\n\t\tif (!tmpEditor || !tmpTextarea) return;\n\n\t\ttmpHashLabel.textContent = pHash;\n\t\ttmpTextarea.value = tmpTemplate;\n\t\ttmpEditor.style.display = 'block';\n\t\ttmpTextarea.focus();\n\t}\n\n\tsaveTemplate()\n\t{\n\t\tif (!this.editingHash) return;\n\n\t\tlet tmpTextarea = document.getElementById('pp_tb_editor_textarea');\n\t\tif (!tmpTextarea) return;\n\n\t\tlet tmpNewContent = tmpTextarea.value;\n\n\t\t// Snapshot the original and persist the override\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (tmpOverrideStorage)\n\t\t{\n\t\t\tlet tmpOriginal = this.pict.TemplateProvider.getTemplate(this.editingHash);\n\t\t\ttmpOverrideStorage.saveOverride(this.editingHash, tmpOriginal, tmpNewContent);\n\t\t}\n\n\t\tthis.pict.TemplateProvider.addTemplate(this.editingHash, tmpNewContent);\n\t\tthis.log.info(`Template [${this.editingHash}] updated.`);\n\n\t\tthis.closeEditor();\n\t\tthis.renderTemplateList();\n\t}\n\n\tcloseEditor()\n\t{\n\t\tlet tmpEditor = document.getElementById('pp_tb_editor');\n\t\tif (tmpEditor) tmpEditor.style.display = 'none';\n\t\tthis.editingHash = false;\n\t}\n}\n\nmodule.exports = PictPanelTemplateBrowser;\nmodule.exports.default_configuration = _ViewConfiguration;\n\n},{\"pict-view\":8}],29:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-TemplateOverrides\",\n\n\t\tDefaultRenderable: \"PP-TemplateOverrides\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_content\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-TemplateOverrides\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_to_container\">\n\t\t\t\t\t<div class=\"pp_adb_header\">\n\t\t\t\t\t\t<span class=\"pp_adb_header_label\">Overrides</span>\n\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TO'].exportOverrides(); return false;\" title=\"Export active overrides as JSON\">json</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TO'].exportOverridesJS(); return false;\" title=\"Export active overrides as JS\">js</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TO'].toggleAll(true); return false;\" title=\"Activate all overrides\">all on</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TO'].toggleAll(false); return false;\" title=\"Deactivate all overrides\">all off</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_refresh_btn\" onclick=\"_Pict.views['PP-TO'].render(); return false;\" title=\"Refresh\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M320 146s24.36-12-64-12a160 160 0 10160 160\"/><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M256 58l80 80-80 80\"/></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_to_list\" id=\"pp_to_list\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-TemplateOverrideEntry\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_to_entry {~D:Record.ActiveClass~}\">\n\t\t\t\t\t<div class=\"pp_to_entry_row\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_to_toggle\" onclick=\"_Pict.views['PP-TO'].toggleOverride('{~D:Record.Hash~}'); return false;\" title=\"{~D:Record.ToggleTitle~}\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"12\" height=\"12\"><circle cx=\"256\" cy=\"256\" r=\"192\" fill=\"{~D:Record.DotColor~}\" stroke=\"currentColor\" stroke-width=\"32\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<span class=\"pp_to_entry_hash\">{~D:Record.Hash~}</span>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_to_remove\" onclick=\"_Pict.views['PP-TO'].removeOverride('{~D:Record.Hash~}'); return false;\" title=\"Remove override\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"12\" height=\"12\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M368 368L144 144M368 144L144 368\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-TemplateOverrides\",\n\t\t\t\tTemplateHash: \"PP-TemplateOverrides\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_content\"\n\t\t\t}]\n\t});\n\nclass PictPanelTemplateOverrides extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender()\n\t{\n\t\tthis.renderOverrideList();\n\t}\n\n\tgetOverrideEntries()\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return [];\n\n\t\tlet tmpOverrides = tmpOverrideStorage.loadOverrides();\n\t\tlet tmpHashes = Object.keys(tmpOverrides);\n\n\t\tlet tmpEntries = [];\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tlet tmpEntry = tmpOverrides[tmpHash];\n\n\t\t\ttmpEntries.push(\n\t\t\t\t{\n\t\t\t\t\tHash: tmpHash,\n\t\t\t\t\tActive: tmpEntry.Active,\n\t\t\t\t\tActiveClass: tmpEntry.Active ? 'pp_to_active' : 'pp_to_inactive',\n\t\t\t\t\tDotColor: tmpEntry.Active ? 'var(--pal-acc)' : 'none',\n\t\t\t\t\tToggleTitle: tmpEntry.Active ? 'Deactivate (restore original)' : 'Activate (apply override)'\n\t\t\t\t});\n\t\t}\n\n\t\ttmpEntries.sort(function(a, b) { return a.Hash.localeCompare(b.Hash); });\n\n\t\treturn tmpEntries;\n\t}\n\n\trenderOverrideList()\n\t{\n\t\tlet tmpEntries = this.getOverrideEntries();\n\n\t\tlet tmpOutput = '';\n\t\tif (tmpEntries.length > 0)\n\t\t{\n\t\t\ttmpOutput = this.pict.parseTemplateSetByHash('PP-TemplateOverrideEntry', tmpEntries, null, [this]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOutput = '<div class=\"pp_to_empty\">No template overrides stored.</div>';\n\t\t}\n\n\t\tthis.pict.ContentAssignment.assignContent('#pp_to_list', tmpOutput);\n\t}\n\n\ttoggleOverride(pHash)\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return;\n\n\t\tlet tmpOverrides = tmpOverrideStorage.loadOverrides();\n\t\tif (!tmpOverrides[pHash]) return;\n\n\t\ttmpOverrideStorage.toggleOverride(pHash, !tmpOverrides[pHash].Active);\n\t\tthis.renderOverrideList();\n\t}\n\n\ttoggleAll(pActive)\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return;\n\n\t\ttmpOverrideStorage.toggleAll(pActive);\n\t\tthis.renderOverrideList();\n\t}\n\n\tremoveOverride(pHash)\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return;\n\n\t\ttmpOverrideStorage.removeOverride(pHash);\n\t\tthis.renderOverrideList();\n\t}\n\n\texportOverrides()\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return;\n\n\t\tlet tmpOverrides = tmpOverrideStorage.loadOverrides();\n\t\tlet tmpHashes = Object.keys(tmpOverrides);\n\n\t\t// Build export array from active overrides only\n\t\tlet tmpExport = [];\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tif (tmpOverrides[tmpHash].Active)\n\t\t\t{\n\t\t\t\ttmpExport.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tHash: tmpHash,\n\t\t\t\t\t\tTemplate: tmpOverrides[tmpHash].Override\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (tmpExport.length === 0)\n\t\t{\n\t\t\tthis.log.warn('No active overrides to export.');\n\t\t\treturn;\n\t\t}\n\n\t\t// Build a site hash from the current hostname\n\t\tlet tmpSiteHash = window.location.hostname.replace(/[^a-zA-Z0-9]/g, '_');\n\n\t\tlet tmpJSON = JSON.stringify(tmpExport, null, '\\t');\n\t\tlet tmpBlob = new Blob([tmpJSON], { type: 'application/json' });\n\t\tlet tmpURL = URL.createObjectURL(tmpBlob);\n\n\t\tlet tmpLink = document.createElement('a');\n\t\ttmpLink.href = tmpURL;\n\t\ttmpLink.download = 'PictTemplates-' + tmpSiteHash + '.json';\n\t\tdocument.body.appendChild(tmpLink);\n\t\ttmpLink.click();\n\t\tdocument.body.removeChild(tmpLink);\n\t\tURL.revokeObjectURL(tmpURL);\n\n\t\tthis.log.info(`Exported ${tmpExport.length} template override(s) as JSON`);\n\t}\n\n\texportOverridesJS()\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return;\n\n\t\tlet tmpOverrides = tmpOverrideStorage.loadOverrides();\n\t\tlet tmpHashes = Object.keys(tmpOverrides);\n\n\t\t// Build entries from active overrides only\n\t\tlet tmpEntries = [];\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tif (tmpOverrides[tmpHash].Active)\n\t\t\t{\n\t\t\t\ttmpEntries.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tHash: tmpHash,\n\t\t\t\t\t\tTemplate: tmpOverrides[tmpHash].Override\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (tmpEntries.length === 0)\n\t\t{\n\t\t\tthis.log.warn('No active overrides to export.');\n\t\t\treturn;\n\t\t}\n\n\t\t// Format as JS source with backtick-quoted template strings\n\t\tlet tmpLines = [];\n\t\ttmpLines.push('[\\n');\n\t\tfor (let i = 0; i < tmpEntries.length; i++)\n\t\t{\n\t\t\tlet tmpEntry = tmpEntries[i];\n\t\t\ttmpLines.push('\\t\\t{\\n');\n\t\t\ttmpLines.push('Hash: \"' + tmpEntry.Hash.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"') + '\",\\n');\n\t\t\ttmpLines.push('Template: /*html*/`\\n');\n\t\t\ttmpLines.push(tmpEntry.Template);\n\t\t\tif (!tmpEntry.Template.endsWith('\\n'))\n\t\t\t{\n\t\t\t\ttmpLines.push('\\n');\n\t\t\t}\n\t\t\ttmpLines.push('`\\n');\n\t\t\ttmpLines.push('\\t\\t}');\n\t\t\tif (i < tmpEntries.length - 1)\n\t\t\t{\n\t\t\t\ttmpLines.push(',');\n\t\t\t}\n\t\t\ttmpLines.push('\\n');\n\t\t}\n\t\ttmpLines.push('\\t]\\n');\n\n\t\tlet tmpSiteHash = window.location.hostname.replace(/[^a-zA-Z0-9]/g, '_');\n\n\t\tlet tmpContent = tmpLines.join('');\n\t\tlet tmpBlob = new Blob([tmpContent], { type: 'application/javascript' });\n\t\tlet tmpURL = URL.createObjectURL(tmpBlob);\n\n\t\tlet tmpLink = document.createElement('a');\n\t\ttmpLink.href = tmpURL;\n\t\ttmpLink.download = 'PictTemplates-' + tmpSiteHash + '.js';\n\t\tdocument.body.appendChild(tmpLink);\n\t\ttmpLink.click();\n\t\tdocument.body.removeChild(tmpLink);\n\t\tURL.revokeObjectURL(tmpURL);\n\n\t\tthis.log.info(`Exported ${tmpEntries.length} template override(s) as JS`);\n\t}\n}\n\nmodule.exports = PictPanelTemplateOverrides;\nmodule.exports.default_configuration = _ViewConfiguration;\n\n},{\"pict-view\":8}],30:[function(require,module,exports){\nconst libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-ViewBrowser\",\n\n\t\tDefaultRenderable: \"PP-ViewBrowser\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_content\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-ViewBrowser\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_container\" id=\"pp_vb_container\">\n\t\t\t\t\t<div class=\"pp_adb_header\">\n\t\t\t\t\t\t<span class=\"pp_adb_header_label\">Views</span>\n\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_refresh_btn\" onclick=\"_Pict.views['PP-VB'].showList(); return false;\" title=\"Refresh\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M320 146s24.36-12-64-12a160 160 0 10160 160\"/><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M256 58l80 80-80 80\"/></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_body\" id=\"pp_vb_body\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-ViewEntry\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_entry\">\n\t\t\t\t\t<div class=\"pp_sb_entry_row\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_entry_hash\" onclick=\"_Pict.views['PP-VB'].showDetail('{~D:Record.Hash~}'); return false;\">{~D:Record.Hash~}</a>\n\t\t\t\t\t\t<span class=\"pp_sb_entry_info\">{~D:Record.Info~}</span>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_action_icon\" onclick=\"_Pict.views['{~D:Record.Hash~}'].render(); return false;\" title=\"Render (sync)\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"12\" height=\"12\"><path d=\"M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z\" fill=\"currentColor\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_action_icon\" onclick=\"_Pict.views['{~D:Record.Hash~}'].renderAsync(function(){}); return false;\" title=\"Render (async)\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"12\" height=\"12\"><path fill=\"none\" stroke=\"currentColor\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48z\"/><path fill=\"currentColor\" d=\"M200 168v176l144-88-144-88z\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-ViewDetail\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_detail\">\n\t\t\t\t\t<div class=\"pp_sb_detail_header\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_back_btn\" onclick=\"_Pict.views['PP-VB'].showList(); return false;\" title=\"Back to list\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M328 112L184 256l144 144\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<span class=\"pp_sb_detail_hash\">{~D:Record.Hash~}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_vitals\">\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">UUID</span><span class=\"pp_sb_vital_val\">{~D:Record.UUID~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Destination</span><span class=\"pp_sb_vital_val\">{~D:Record.DefaultDestination~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Renderable</span><span class=\"pp_sb_vital_val\">{~D:Record.DefaultRenderable~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">AutoRender</span><span class=\"pp_sb_vital_val\">{~D:Record.AutoRender~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">AutoSolve</span><span class=\"pp_sb_vital_val\">{~D:Record.AutoSolve~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Initialized</span><span class=\"pp_sb_vital_val\">{~D:Record.InitTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Last Render</span><span class=\"pp_sb_vital_val\">{~D:Record.RenderTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Last Solve</span><span class=\"pp_sb_vital_val\">{~D:Record.SolveTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Last Marshal To</span><span class=\"pp_sb_vital_val\">{~D:Record.MarshalToTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Last Marshal From</span><span class=\"pp_sb_vital_val\">{~D:Record.MarshalFromTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Renderables</span><span class=\"pp_sb_vital_val\">{~D:Record.RenderableCount~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Templates</span><span class=\"pp_sb_vital_val\">{~D:Record.TemplateCount~}</span></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_actions\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-VB'].execViewAction('{~D:Record.Hash~}','solve'); return false;\" title=\"solve()\">solve</a>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-VB'].execViewAction('{~D:Record.Hash~}','render'); return false;\" title=\"render()\">render</a>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-VB'].execViewAction('{~D:Record.Hash~}','renderAsync'); return false;\" title=\"renderAsync()\">renderAsync</a>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-VB'].execViewAction('{~D:Record.Hash~}','marshalToView'); return false;\" title=\"marshalToView()\">marshalTo</a>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-VB'].execViewAction('{~D:Record.Hash~}','marshalFromView'); return false;\" title=\"marshalFromView()\">marshalFrom</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_section_label\">Templates</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_templates\" id=\"pp_vb_detail_templates\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-ViewDetailTemplate\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_detail_tpl_entry\">\n\t\t\t\t\t<span class=\"pp_sb_detail_tpl_hash\">{~D:Record.Hash~}</span>\n\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TB'].editTemplate('{~D:Record.Hash~}'); _Pict.providers['PP-Router'].navigateTo('PP-TB'); return false;\" title=\"Edit in Template Browser\">ed</a>\n\t\t\t\t\t<div class=\"pp_sb_detail_tpl_preview\">{~D:Record.Preview~}</div>\n\t\t\t\t</div>\n`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-ViewBrowser\",\n\t\t\t\tTemplateHash: \"PP-ViewBrowser\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_content\"\n\t\t\t}]\n\t});\n\nclass PictPanelViewBrowser extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis.detailHash = false;\n\t}\n\n\tonAfterRender()\n\t{\n\t\tthis.showList();\n\t}\n\n\tgetViewEntries()\n\t{\n\t\tlet tmpViews = this.pict.views;\n\t\tlet tmpHashes = Object.keys(tmpViews);\n\t\tlet tmpEntries = [];\n\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tlet tmpView = tmpViews[tmpHash];\n\n\t\t\tlet tmpInfo = '';\n\t\t\tif (tmpView.options && tmpView.options.DefaultDestinationAddress)\n\t\t\t{\n\t\t\t\ttmpInfo = tmpView.options.DefaultDestinationAddress;\n\t\t\t}\n\n\t\t\ttmpEntries.push({ Hash: tmpHash, Info: tmpInfo });\n\t\t}\n\n\t\ttmpEntries.sort(function(a, b) { return a.Hash.localeCompare(b.Hash); });\n\t\treturn tmpEntries;\n\t}\n\n\tshowList()\n\t{\n\t\tthis.detailHash = false;\n\t\tlet tmpEntries = this.getViewEntries();\n\t\tlet tmpOutput = '';\n\t\tif (tmpEntries.length > 0)\n\t\t{\n\t\t\ttmpOutput = this.pict.parseTemplateSetByHash('PP-ViewEntry', tmpEntries, null, [this]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOutput = '<div class=\"pp_tb_empty\">No views registered.</div>';\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#pp_vb_body', tmpOutput);\n\t}\n\n\tformatTimestamp(pTimestamp)\n\t{\n\t\tif (!pTimestamp) return '--';\n\t\tlet tmpDate = new Date(pTimestamp);\n\t\treturn tmpDate.toLocaleTimeString();\n\t}\n\n\tshowDetail(pHash)\n\t{\n\t\tlet tmpView = this.pict.views[pHash];\n\t\tif (!tmpView) return;\n\n\t\tthis.detailHash = pHash;\n\n\t\tlet tmpTemplateCount = 0;\n\t\tif (tmpView.options && tmpView.options.Templates)\n\t\t{\n\t\t\ttmpTemplateCount = tmpView.options.Templates.length;\n\t\t}\n\n\t\tlet tmpRenderableCount = 0;\n\t\tif (tmpView.renderables)\n\t\t{\n\t\t\ttmpRenderableCount = Object.keys(tmpView.renderables).length;\n\t\t}\n\n\t\tlet tmpRecord = [\n\t\t\t{\n\t\t\t\tHash: pHash,\n\t\t\t\tUUID: tmpView.UUID || '--',\n\t\t\t\tDefaultDestination: (tmpView.options && tmpView.options.DefaultDestinationAddress) || '--',\n\t\t\t\tDefaultRenderable: (tmpView.options && tmpView.options.DefaultRenderable) || '--',\n\t\t\t\tAutoRender: (tmpView.options && tmpView.options.AutoRender) ? 'true' : 'false',\n\t\t\t\tAutoSolve: (tmpView.options && tmpView.options.AutoSolveWithApp) ? 'true' : 'false',\n\t\t\t\tInitTS: this.formatTimestamp(tmpView.initializeTimestamp),\n\t\t\t\tRenderTS: this.formatTimestamp(tmpView.lastRenderedTimestamp),\n\t\t\t\tSolveTS: this.formatTimestamp(tmpView.lastSolvedTimestamp),\n\t\t\t\tMarshalToTS: this.formatTimestamp(tmpView.lastMarshalToViewTimestamp),\n\t\t\t\tMarshalFromTS: this.formatTimestamp(tmpView.lastMarshalFromViewTimestamp),\n\t\t\t\tRenderableCount: tmpRenderableCount,\n\t\t\t\tTemplateCount: tmpTemplateCount\n\t\t\t}];\n\n\t\tlet tmpOutput = this.pict.parseTemplateSetByHash('PP-ViewDetail', tmpRecord, null, [this]);\n\t\tthis.pict.ContentAssignment.assignContent('#pp_vb_body', tmpOutput);\n\n\t\t// Render the template list for this view\n\t\tthis.renderDetailTemplates(tmpView);\n\t}\n\n\trenderDetailTemplates(pView)\n\t{\n\t\tlet tmpTemplates = [];\n\t\tif (pView.options && pView.options.Templates)\n\t\t{\n\t\t\tfor (let i = 0; i < pView.options.Templates.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpTpl = pView.options.Templates[i];\n\t\t\t\tlet tmpContent = this.pict.TemplateProvider.getTemplate(tmpTpl.Hash) || '';\n\t\t\t\tlet tmpPreview = '';\n\t\t\t\tif (typeof(tmpContent) === 'string')\n\t\t\t\t{\n\t\t\t\t\ttmpPreview = tmpContent.replace(/[\\t\\n\\r]+/g, ' ').trim();\n\t\t\t\t\tif (tmpPreview.length > 100)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpPreview = tmpPreview.substring(0, 97) + '...';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttmpPreview = tmpPreview.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n\t\t\t\ttmpTemplates.push({ Hash: tmpTpl.Hash, Preview: tmpPreview });\n\t\t\t}\n\t\t}\n\n\t\tlet tmpOutput = '';\n\t\tif (tmpTemplates.length > 0)\n\t\t{\n\t\t\ttmpOutput = this.pict.parseTemplateSetByHash('PP-ViewDetailTemplate', tmpTemplates, null, [this]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOutput = '<div class=\"pp_tb_empty\">No templates.</div>';\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#pp_vb_detail_templates', tmpOutput);\n\t}\n\n\texecViewAction(pHash, pAction)\n\t{\n\t\tlet tmpView = this.pict.views[pHash];\n\t\tif (!tmpView) return;\n\n\t\tthis.log.info(`Executing ${pAction}() on view [${pHash}]`);\n\n\t\tif (pAction === 'renderAsync')\n\t\t{\n\t\t\ttmpView.renderAsync(function() {});\n\t\t}\n\t\telse if (typeof(tmpView[pAction]) === 'function')\n\t\t{\n\t\t\ttmpView[pAction]();\n\t\t}\n\n\t\t// Refresh the detail view to show updated timestamps\n\t\tlet __View = this;\n\t\tsetTimeout(function() { if (__View.detailHash === pHash) __View.showDetail(pHash); }, 250);\n\t}\n}\n\nmodule.exports = PictPanelViewBrowser;\nmodule.exports.default_configuration = _ViewConfiguration;\n\n},{\"pict-view\":8}]},{},[9])(9)\n});\n\n","(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","module.exports={\n    \"name\": \"fable-serviceproviderbase\",\n    \"version\": \"3.0.18\",\n    \"description\": \"Simple base classes for fable services.\",\n    \"main\": \"source/Fable-ServiceProviderBase.js\",\n    \"scripts\": {\n        \"start\": \"node source/Fable-ServiceProviderBase.js\",\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\",\n        \"types\": \"tsc -p ./tsconfig.build.json\",\n        \"check\": \"tsc -p . --noEmit\"\n    },\n    \"types\": \"types/source/Fable-ServiceProviderBase.d.ts\",\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"https://github.com/stevenvelozo/fable-serviceproviderbase.git\"\n    },\n    \"keywords\": [\n        \"entity\",\n        \"behavior\"\n    ],\n    \"author\": \"Steven Velozo <steven@velozo.com> (http://velozo.com/)\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/fable-serviceproviderbase/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/fable-serviceproviderbase\",\n    \"devDependencies\": {\n        \"@types/mocha\": \"^10.0.10\",\n        \"fable\": \"^3.1.55\",\n        \"quackage\": \"^1.0.51\",\n        \"typescript\": \"^5.9.3\"\n    }\n}\n","/**\n* Fable Service Base\n* @author <steven@velozo.com>\n*/\n\nconst libPackage = require('../package.json');\n\nclass FableServiceProviderBase\n{\n\t/**\n\t * The constructor can be used in two ways:\n\t * 1) With a fable, options object and service hash (the options object and service hash are optional)a\n\t * 2) With an object or nothing as the first parameter, where it will be treated as the options object\n\t *\n\t * @param {import('fable')|Record<string, any>} [pFable] - (optional) The fable instance, or the options object if there is no fable\n\t * @param {Record<string, any>|string} [pOptions] - (optional) The options object, or the service hash if there is no fable\n\t * @param {string} [pServiceHash] - (optional) The service hash to identify this service instance\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t/** @type {import('fable')} */\n\t\tthis.fable;\n\t\t/** @type {string} */\n\t\tthis.UUID;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.options;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.services;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.servicesMap;\n\n\t\t// Check if a fable was passed in; connect it if so\n\t\tif ((typeof(pFable) === 'object') && pFable.isFable)\n\t\t{\n\t\t\tthis.connectFable(pFable);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.fable = false;\n\t\t}\n\n\t\t// Initialize the services map if it wasn't passed in\n\t\t/** @type {Record<string, any>} */\n\t\tthis._PackageFableServiceProvider = libPackage;\n\n\t\t// initialize options and UUID based on whether the fable was passed in or not.\n\t\tif (this.fable)\n\t\t{\n\t\t\tthis.UUID = pFable.getUUID();\n\t\t\tthis.options = (typeof(pOptions) === 'object') ? pOptions\n\t\t\t\t\t\t\t: {};\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// With no fable, check to see if there was an object passed into either of the first two\n\t\t\t// Parameters, and if so, treat it as the options object\n\t\t\tthis.options = ((typeof(pFable) === 'object') && !pFable.isFable) ? pFable\n\t\t\t\t\t\t\t: (typeof(pOptions) === 'object') ? pOptions\n\t\t\t\t\t\t\t: {};\n\t\t\tthis.UUID = `CORE-SVC-${Math.floor((Math.random() * (99999 - 10000)) + 10000)}`\n\t\t}\n\n\t\t// It's expected that the deriving class will set this\n\t\tthis.serviceType = `Unknown-${this.UUID}`;\n\n\t\t// The service hash is used to identify the specific instantiation of the service in the services map\n\t\tthis.Hash = (typeof(pServiceHash) === 'string') ? pServiceHash \n\t\t\t\t\t: (!this.fable && (typeof(pOptions) === 'string')) ? pOptions\n\t\t\t\t\t: `${this.UUID}`;\n\t}\n\n\t/**\n\t * @param {import('fable')} pFable\n\t */\n\tconnectFable(pFable)\n\t{\n\t\tif ((typeof(pFable) !== 'object') || (!pFable.isFable))\n\t\t{\n\t\t\tlet tmpErrorMessage = `Fable Service Provider Base: Cannot connect to Fable, invalid Fable object passed in.  The pFable parameter was a [${typeof(pFable)}].}`;\n\t\t\tconsole.log(tmpErrorMessage);\n\t\t\treturn new Error(tmpErrorMessage);\n\t\t}\n\n\t\tif (!this.fable)\n\t\t{\n\t\t\tthis.fable = pFable;\n\t\t}\n\n\t\tif (!this.log)\n\t\t{\n\t\t\tthis.log = this.fable.Logging;\n\t\t}\n\t\tif (!this.services)\n\t\t{\n\t\t\tthis.services = this.fable.services;\n\t\t}\n\n\t\tif (!this.servicesMap)\n\t\t{\n\t\t\tthis.servicesMap = this.fable.servicesMap;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tstatic isFableService = true;\n}\n\nmodule.exports = FableServiceProviderBase;\n\n// This is left here in case we want to go back to having different code/base class for \"core\" services\nmodule.exports.CoreServiceProviderBase = FableServiceProviderBase;\n","module.exports={\n    \"name\": \"pict-provider\",\n    \"version\": \"1.0.10\",\n    \"description\": \"Pict Provider Base Class\",\n    \"main\": \"source/Pict-Provider.js\",\n    \"scripts\": {\n        \"start\": \"node source/Pict-Provider.js\",\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\",\n        \"docker-dev-build\": \"docker build ./ -f Dockerfile_LUXURYCode -t pict-provider-image:local\",\n        \"docker-dev-run\": \"docker run -it -d --name pict-provider-dev -p 24125:8080 -p 30027:8086 -v \\\"$PWD/.config:/home/coder/.config\\\"  -v \\\"$PWD:/home/coder/pict-provider\\\" -u \\\"$(id -u):$(id -g)\\\" -e \\\"DOCKER_USER=$USER\\\" pict-provider-image:local\",\n        \"docker-dev-shell\": \"docker exec -it pict-provider-dev /bin/bash\",\n        \"lint\": \"eslint source/**\",\n        \"types\": \"tsc -p .\"\n    },\n    \"types\": \"types/source/Pict-Provider.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-provider.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-provider/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-provider#readme\",\n    \"devDependencies\": {\n        \"@eslint/js\": \"^9.39.1\",\n        \"eslint\": \"^9.39.1\",\n        \"pict\": \"^1.0.348\",\n        \"quackage\": \"^1.0.51\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"dependencies\": {\n        \"fable-serviceproviderbase\": \"^3.0.18\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    }\n}\n","const libFableServiceBase = require('fable-serviceproviderbase');\n\nconst libPackage = require('../package.json');\n\nconst defaultPictProviderSettings = (\n\t{\n\t\tProviderIdentifier: false,\n\n\t\t// If this is set to true, when the App initializes this will.\n\t\t// After the App initializes, initialize will be called as soon as it's added.\n\t\tAutoInitialize: true,\n\t\tAutoInitializeOrdinal: 0,\n\n\t\tAutoLoadDataWithApp: true,\n\n\t\tAutoSolveWithApp: true,\n\t\tAutoSolveOrdinal: 0,\n\n\t\tManifests: {},\n\n\t\tTemplates: []\n\t});\n\nclass PictProvider extends libFableServiceBase\n{\n\t/**\n\t * @param {import('fable')} pFable - The Fable instance.\n\t * @param {Record<string, any>} [pOptions] - The options for the provider.\n\t * @param {string} [pServiceHash] - The service hash for the provider.\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t// Intersect default options, parent constructor, service information\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(defaultPictProviderSettings)), pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\n\t\t/** @type {import('fable') & import('pict') & { instantiateServiceProviderWithoutRegistration(pServiceType: string, pOptions?: Record<string, any>, pCustomServiceHash?: string): any }} */\n\t\tthis.fable;\n\t\t/** @type {import('fable') & import('pict') & { instantiateServiceProviderWithoutRegistration(pServiceType: string, pOptions?: Record<string, any>, pCustomServiceHash?: string): any }} */\n\t\tthis.pict;\n\t\t/** @type {any} */\n\t\tthis.log;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.options;\n\t\t/** @type {string} */\n\t\tthis.UUID;\n\t\t/** @type {string} */\n\t\tthis.Hash;\n\n\t\tif (!this.options.ProviderIdentifier)\n\t\t{\n\t\t\tthis.options.ProviderIdentifier = `AutoProviderID-${this.fable.getUUID()}`;\n\t\t}\n\n\t\tthis.serviceType = 'PictProvider';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\n\t\t// Convenience and consistency naming\n\t\tthis.pict = this.fable;\n\n\t\t// Wire in the essential Pict application state\n\t\t/** @type {Record<string, any>} */\n\t\tthis.AppData = this.pict.AppData;\n\t\t/** @type {Record<string, any>} */\n\t\tthis.Bundle = this.pict.Bundle;\n\n\t\tthis.initializeTimestamp = false;\n\t\tthis.lastSolvedTimestamp = false;\n\n\t\tfor (let i = 0; i < this.options.Templates.length; i++)\n\t\t{\n\t\t\tlet tmpDefaultTemplate = this.options.Templates[i];\n\n\t\t\tif (!tmpDefaultTemplate.hasOwnProperty('Postfix') || !tmpDefaultTemplate.hasOwnProperty('Template'))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} could not load Default Template ${i} in the options array.`, tmpDefaultTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpDefaultTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpDefaultTemplate.Source = `PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addDefaultTemplate(tmpDefaultTemplate.Prefix, tmpDefaultTemplate.Postfix, tmpDefaultTemplate.Template, tmpDefaultTemplate.Source);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                        Code Section: Initialization                        */\n\t/* -------------------------------------------------------------------------- */\n\tonBeforeInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onBeforeInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-pinitialization.\n\t *\n\t * @return {void}\n\t */\n\tonBeforeInitializeAsync(fCallback)\n\t{\n\t\tthis.onBeforeInitialize();\n\t\treturn fCallback();\n\t}\n\n\tonInitialize()\n\t{\n\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tonInitializeAsync(fCallback)\n\t{\n\t\tthis.onInitialize();\n\t\treturn fCallback();\n\t}\n\n\tinitialize()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow PROVIDER [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialize:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tthis.onBeforeInitialize();\n\t\t\tthis.onInitialize();\n\t\t\tthis.onAfterInitialize();\n\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialize called but initialization is already completed.  Aborting.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tinitializeAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow PROVIDER [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initializeAsync:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.info(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} beginning initialization...`);\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onBeforeInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onAfterInitializeAsync.bind(this));\n\n\t\t\ttmpAnticipate.wait(\n\t\t\t\t(pError) =>\n\t\t\t\t{\n\t\t\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialization failed: ${pError.message || pError}`, { Stack: pError.stack });\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.pict.LogNoisiness > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.info(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} initialization complete.`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fCallback();\n\t\t\t\t})\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} async initialize called but initialization is already completed.  Aborting.`);\n\t\t\t// TODO: Should this be an error?\n\t\t\treturn fCallback();\n\t\t}\n\t}\n\n\tonAfterInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onAfterInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after initialization.\n\t *\n\t * @return {void}\n\t */\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\tthis.onAfterInitialize();\n\t\treturn fCallback();\n\t}\n\n\tonPreRender()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onPreRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-render.\n\t *\n\t * @return {void}\n\t */\n\tonPreRenderAsync(fCallback)\n\t{\n\t\tthis.onPreRender();\n\t\treturn fCallback();\n\t}\n\n\trender()\n\t{\n\t\treturn this.onPreRender();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after render.\n\t *\n\t * @return {void}\n\t */\n\trenderAsync(fCallback)\n\t{\n\t\tthis.onPreRender();\n\t\treturn fCallback();\n\t}\n\n\tonPreSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onPreSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after pre-solve.\n\t *\n\t * @return {void}\n\t */\n\tonPreSolveAsync(fCallback)\n\t{\n\t\tthis.onPreSolve();\n\t\treturn fCallback();\n\t}\n\n\tsolve()\n\t{\n\t\treturn this.onPreSolve();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after solve.\n\t *\n\t * @return {void}\n\t */\n\tsolveAsync(fCallback)\n\t{\n\t\tthis.onPreSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data pre-load.\n\t */\n\tonBeforeLoadDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Hook to allow the provider to load data during application data load.\n\t *\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data load.\n\t */\n\tonLoadDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onLoadDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data post-load.\n\t */\n\tonAfterLoadDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data pre-load.\n\t *\n\t * @return {void}\n\t */\n\tonBeforeSaveDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Hook to allow the provider to load data during application data load.\n\t *\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data load.\n\t *\n\t * @return {void}\n\t */\n\tonSaveDataAsync(fCallback)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictProvider [${this.UUID}]::[${this.Hash}] ${this.options.ProviderIdentifier} onSaveDataAsync:`);\n\t\t}\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * @param {(pError?: Error) => void} fCallback - The callback to call after the data post-load.\n\t *\n\t * @return {void}\n\t */\n\tonAfterSaveDataAsync(fCallback)\n\t{\n\t\treturn fCallback();\n\t}\n}\n\nmodule.exports = PictProvider;\n","module.exports={\n    \"name\": \"pict-template\",\n    \"version\": \"1.0.14\",\n    \"description\": \"Pict Template Base Class\",\n    \"main\": \"source/Pict-Template.js\",\n    \"scripts\": {\n        \"start\": \"node source/Pict-Template.js\",\n        \"test\": \"npx mocha -u tdd -R spec\",\n        \"tests\": \"npx mocha -u tdd --exit -R spec --grep\",\n        \"coverage\": \"npx nyc --reporter=lcov --reporter=text-lcov npx mocha -- -u tdd -R spec\",\n        \"build\": \"npx quack build\",\n        \"types\": \"tsc -p .\"\n    },\n    \"types\": \"types/source/Pict-Template.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-view.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-view/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-view#readme\",\n    \"devDependencies\": {\n        \"pict\": \"^1.0.348\",\n        \"quackage\": \"^1.0.51\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"dependencies\": {\n        \"fable-serviceproviderbase\": \"^3.0.18\"\n    }\n}\n","const libFableServiceBase = require('fable-serviceproviderbase');\n\nconst libPackage = require('../package.json');\n\n/** @typedef {import('pict') & {\n *     [key: string]: any, // represent services for now as a workaround\n * }} Pict */\n/**\n * @class PictTemplateExpression\n * @classdesc The PictTemplateExpression class is a service provider for the pict anti-framework that provides template rendering services.\n */\nclass PictTemplateExpression extends libFableServiceBase\n{\n\t/**\n\t * @param {Pict} pFable - The Fable Framework instance\n\t * @param {Record<string, any>} [pOptions] - The options for the service\n\t * @param {string} [pServiceHash] - The hash of the service\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\t/** @type {Pict} */\n\t\tthis.fable;\n\n\t\t/** @type {Pict} */\n\t\tthis.pict = this.fable;\n\n\t\tthis.serviceType = 'PictTemplate';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\t}\n\n\t/**\n\t * Render a template expression, returning a string with the resulting content.\n\t *\n\t * @param {string} pTemplateHash - The hash contents of the template (what's between the template start and stop tags)\n\t * @param {any} pRecord - The json object to be used as the Record for the template render\n\t * @param {Array<any>} pContextArray - An array of context objects accessible from the template; safe to leave empty\n\t * @param {any} [pScope] - A sticky scope that can be used to carry state and simplify template\n\t * @param {any} [pState] - A catchall state object for plumbing data through template processing.\n\t *\n\t * @return {string} The rendered template\n\t */\n\trender(pTemplateHash, pRecord, pContextArray, pScope, pState)\n\t{\n\t\treturn '';\n\t}\n\n\t/**\n\t * Render a template expression, deliver a string with the resulting content to a callback function.\n\t *\n\t * @param {string} pTemplateHash - The hash contents of the template (what's between the template start and stop tags)\n\t * @param {any} pRecord - The json object to be used as the Record for the template render\n\t * @param {(error?: Error, content?: String) => void} fCallback - callback function invoked with the rendered template, or an error\n\t * @param {Array<any>} pContextArray - An array of context objects accessible from the template; safe to leave empty\n\t * @param {any} [pScope] - A sticky scope that can be used to carry state and simplify template\n\t * @param {any} [pState] - A catchall state object for plumbing data through template processing.\n\t *\n\t * @return {void}\n\t */\n\trenderAsync(pTemplateHash, pRecord, fCallback, pContextArray, pScope, pState)\n\t{\n\t\treturn fCallback(null, this.render(pTemplateHash, pRecord, pContextArray, pScope, pState));\n\t}\n\n\t/**\n\t * Provide a match criteria for a template expression.  Anything between these two values is returned as the template hash.\n\t *\n\t * @param {string} pMatchStart - The string pattern to start a match in the template trie\n\t * @param {string} pMatchEnd  - The string pattern to stop a match in the trie acyclic graph\n\t *\n\t * @return {void}\n\t */\n\taddPattern(pMatchStart, pMatchEnd)\n\t{\n\t\treturn this.pict.MetaTemplate.addPatternBoth(pMatchStart, pMatchEnd, this.render, this.renderAsync, this);\n\t}\n\n\t/**\n\t * Read a value from a nested object using a dot notation string.\n\t *\n\t * @param {string} pAddress - The address to resolve\n\t * @param {Record<string, any>} pRecord - The record to resolve\n\t * @param {Array<any>} [pContextArray] - The context array to resolve (optional)\n\t * @param {Record<string, any>} [pRootDataObject] - The root data object to resolve (optional)\n\t * @param {any} [pScope] - A sticky scope that can be used to carry state and simplify template\n\t * @param {any} [pState] - A catchall state object for plumbing data through template processing.\n\t *\n\t * @return {any} The value at the given address, or undefined\n\t */\n\tresolveStateFromAddress(pAddress, pRecord, pContextArray, pRootDataObject, pScope, pState)\n\t{\n\t\treturn this.pict.resolveStateFromAddress(pAddress, pRecord, pContextArray, pRootDataObject, pScope, pState);\n\t}\n}\n\nmodule.exports = PictTemplateExpression;\nmodule.exports.template_hash = 'Default';\n","module.exports={\n    \"name\": \"pict-view\",\n    \"version\": \"1.0.66\",\n    \"description\": \"Pict View Base Class\",\n    \"main\": \"source/Pict-View.js\",\n    \"scripts\": {\n        \"test\": \"mocha -u tdd -R spec\",\n        \"tests\": \"mocha -u tdd -R spec -g\",\n        \"start\": \"node source/Pict-View.js\",\n        \"coverage\": \"nyc --reporter=lcov --reporter=text-lcov npm test\",\n        \"build\": \"npx quack build\",\n        \"docker-dev-build\": \"docker build ./ -f Dockerfile_LUXURYCode -t pict-view-image:local\",\n        \"docker-dev-run\": \"docker run -it -d --name pict-view-dev -p 30001:8080 -p 38086:8086 -v \\\"$PWD/.config:/home/coder/.config\\\"  -v \\\"$PWD:/home/coder/pict-view\\\" -u \\\"$(id -u):$(id -g)\\\" -e \\\"DOCKER_USER=$USER\\\" pict-view-image:local\",\n        \"docker-dev-shell\": \"docker exec -it pict-view-dev /bin/bash\",\n        \"types\": \"tsc -p .\",\n        \"lint\": \"eslint source/**\"\n    },\n    \"types\": \"types/source/Pict-View.d.ts\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"git+https://github.com/stevenvelozo/pict-view.git\"\n    },\n    \"author\": \"steven velozo <steven@velozo.com>\",\n    \"license\": \"MIT\",\n    \"bugs\": {\n        \"url\": \"https://github.com/stevenvelozo/pict-view/issues\"\n    },\n    \"homepage\": \"https://github.com/stevenvelozo/pict-view#readme\",\n    \"devDependencies\": {\n        \"@eslint/js\": \"^9.39.1\",\n        \"browser-env\": \"^3.3.0\",\n        \"eslint\": \"^9.39.1\",\n        \"pict\": \"^1.0.348\",\n        \"quackage\": \"^1.0.51\",\n        \"typescript\": \"^5.9.3\"\n    },\n    \"mocha\": {\n        \"diff\": true,\n        \"extension\": [\n            \"js\"\n        ],\n        \"package\": \"./package.json\",\n        \"reporter\": \"spec\",\n        \"slow\": \"75\",\n        \"timeout\": \"5000\",\n        \"ui\": \"tdd\",\n        \"watch-files\": [\n            \"source/**/*.js\",\n            \"test/**/*.js\"\n        ],\n        \"watch-ignore\": [\n            \"lib/vendor\"\n        ]\n    },\n    \"dependencies\": {\n        \"fable\": \"^3.1.57\",\n        \"fable-serviceproviderbase\": \"^3.0.18\"\n    }\n}\n","\nconst libFableServiceBase = require('fable-serviceproviderbase');\n\nconst libPackage = require('../package.json');\n\nconst defaultPictViewSettings = (\n\t{\n\t\tDefaultRenderable: false,\n\t\tDefaultDestinationAddress: false,\n\t\tDefaultTemplateRecordAddress: false,\n\n\t\tViewIdentifier: false,\n\n\t\t// If this is set to true, when the App initializes this will.\n\t\t// After the App initializes, initialize will be called as soon as it's added.\n\t\tAutoInitialize: true,\n\t\tAutoInitializeOrdinal: 0,\n\n\t\t// If this is set to true, when the App autorenders (on load) this will.\n\t\t// After the App initializes, render will be called as soon as it's added.\n\t\tAutoRender: true,\n\t\tAutoRenderOrdinal: 0,\n\n\t\tAutoSolveWithApp: true,\n\t\tAutoSolveOrdinal: 0,\n\n\t\tCSSHash: false,\n\t\tCSS: false,\n\t\tCSSProvider: false,\n\t\tCSSPriority: 500,\n\n\t\tTemplates: [],\n\n\t\tDefaultTemplates: [],\n\n\t\tRenderables: [],\n\n\t\tManifests: {}\n\t});\n\n/** @typedef {(error?: Error) => void} ErrorCallback */\n/** @typedef {number | boolean} PictTimestamp */\n\n/**\n * @typedef {'replace' | 'append' | 'prepend' | 'append_once' | 'virtual-assignment'} RenderMethod\n */\n/**\n * @typedef {Object} Renderable\n *\n * @property {string} RenderableHash - A unique hash for the renderable.\n * @property {string} TemplateHash - The hash of the template to use for rendering this renderable.\n * @property {string} [DefaultTemplateRecordAddress] - The default address for resolving the data record for this renderable.\n * @property {string} [ContentDestinationAddress] - The default address (DOM CSS selector) for rendering the content of this renderable.\n * @property {RenderMethod} [RenderMethod=replace] - The method to use when projecting the renderable to the DOM ('replace', 'append', 'prepend', 'append_once', 'virtual-assignment').\n * @property {string} [TestAddress] - The address to use for testing the renderable.\n * @property {string} [TransactionHash] - The transaction hash for the root renderable.\n * @property {string} [RootRenderableViewHash] - The hash of the root renderable.\n * @property {string} [Content] - The rendered content for this renderable, if applicable.\n */\n\n/**\n * Represents a view in the Pict ecosystem.\n */\nclass PictView extends libFableServiceBase\n{\n\t/**\n\t * @param {any} pFable - The Fable object that this service is attached to.\n\t * @param {any} [pOptions] - (optional) The options for this service.\n\t * @param {string} [pServiceHash] - (optional) The hash of the service.\n\t */\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\t// Intersect default options, parent constructor, service information\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(defaultPictViewSettings)), pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\t\t//FIXME: add types to fable and ancillaries\n\t\t/** @type {any} */\n\t\tthis.fable;\n\t\t/** @type {any} */\n\t\tthis.options;\n\t\t/** @type {String} */\n\t\tthis.UUID;\n\t\t/** @type {String} */\n\t\tthis.Hash;\n\t\t/** @type {any} */\n\t\tthis.log;\n\n\t\tconst tmpHashIsUUID = this.Hash === this.UUID;\n\t\t//NOTE: since many places are using the view UUID as the HTML element ID, we prefix it to avoid starting with a number\n\t\tthis.UUID = `V-${this.UUID}`;\n\t\tif (tmpHashIsUUID)\n\t\t{\n\t\t\tthis.Hash = this.UUID;\n\t\t}\n\n\t\tif (!this.options.ViewIdentifier)\n\t\t{\n\t\t\tthis.options.ViewIdentifier = `AutoViewID-${this.fable.getUUID()}`;\n\t\t}\n\t\tthis.serviceType = 'PictView';\n\t\t/** @type {Record<string, any>} */\n\t\tthis._Package = libPackage;\n\t\t// Convenience and consistency naming\n\t\t/** @type {import('pict') & { log: any, instantiateServiceProviderWithoutRegistration: (hash: String) => any, instantiateServiceProviderIfNotExists: (hash: string) => any, TransactionTracking: import('pict/types/source/services/Fable-Service-TransactionTracking') }} */\n\t\tthis.pict = this.fable;\n\t\t// Wire in the essential Pict application state\n\t\tthis.AppData = this.pict.AppData;\n\t\tthis.Bundle = this.pict.Bundle;\n\n\t\t/** @type {PictTimestamp} */\n\t\tthis.initializeTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastSolvedTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastRenderedTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastMarshalFromViewTimestamp = false;\n\t\t/** @type {PictTimestamp} */\n\t\tthis.lastMarshalToViewTimestamp = false;\n\n\t\tthis.pict.instantiateServiceProviderIfNotExists('TransactionTracking');\n\n\t\t// Load all templates from the array in the options\n\t\t// Templates are in the form of {Hash:'Some-Template-Hash',Template:'Template content',Source:'TemplateSource'}\n\t\tfor (let i = 0; i < this.options.Templates.length; i++)\n\t\t{\n\t\t\tlet tmpTemplate = this.options.Templates[i];\n\n\t\t\tif (!('Hash' in tmpTemplate) || !('Template' in tmpTemplate))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Template ${i} in the options array.`, tmpTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpTemplate.Source = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addTemplate(tmpTemplate.Hash, tmpTemplate.Template, tmpTemplate.Source);\n\t\t\t}\n\t\t}\n\n\t\t// Load all default templates from the array in the options\n\t\t// Templates are in the form of {Prefix:'',Postfix:'-List-Row',Template:'Template content',Source:'TemplateSourceString'}\n\t\tfor (let i = 0; i < this.options.DefaultTemplates.length; i++)\n\t\t{\n\t\t\tlet tmpDefaultTemplate = this.options.DefaultTemplates[i];\n\n\t\t\tif (!('Postfix' in tmpDefaultTemplate) || !('Template' in tmpDefaultTemplate))\n\t\t\t{\n\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Default Template ${i} in the options array.`, tmpDefaultTemplate);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (!tmpDefaultTemplate.Source)\n\t\t\t\t{\n\t\t\t\t\ttmpDefaultTemplate.Source = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} options object.`;\n\t\t\t\t}\n\t\t\t\tthis.pict.TemplateProvider.addDefaultTemplate(tmpDefaultTemplate.Prefix, tmpDefaultTemplate.Postfix, tmpDefaultTemplate.Template, tmpDefaultTemplate.Source);\n\t\t\t}\n\t\t}\n\n\t\t// Load the CSS if it's available\n\t\tif (this.options.CSS)\n\t\t{\n\t\t\tlet tmpCSSHash = this.options.CSSHash ? this.options.CSSHash : `View-${this.options.ViewIdentifier}`;\n\t\t\tlet tmpCSSProvider = this.options.CSSProvider ? this.options.CSSProvider : tmpCSSHash;\n\t\t\tthis.pict.CSSMap.addCSS(tmpCSSHash, this.options.CSS, tmpCSSProvider, this.options.CSSPriority);\n\t\t}\n\n\t\t// Load all renderables\n\t\t// Renderables are launchable renderable instructions with templates\n\t\t// They look as such: {Identifier:'ContentEntry', TemplateHash:'Content-Entry-Section-Main', ContentDestinationAddress:'#ContentSection', RecordAddress:'AppData.Content.DefaultText', ManifestTransformation:'ManyfestHash', ManifestDestinationAddress:'AppData.Content.DataToTransformContent'}\n\t\t// The only parts that are necessary are Identifier and Template\n\t\t// A developer can then do render('ContentEntry') and it just kinda works.  Or they can override the ContentDestinationAddress\n\t\t/** @type {Record<String, Renderable>} */\n\t\tthis.renderables = {};\n\t\tfor (let i = 0; i < this.options.Renderables.length; i++)\n\t\t{\n\t\t\t/** @type {Renderable} */\n\t\t\tlet tmpRenderable = this.options.Renderables[i];\n\t\t\tthis.addRenderable(tmpRenderable);\n\t\t}\n\t}\n\n\t/**\n\t * Adds a renderable to the view.\n\t *\n\t * @param {string | Renderable} pRenderableHash - The hash of the renderable, or a renderable object.\n\t * @param {string} [pTemplateHash] - (optional) The hash of the template for the renderable.\n\t * @param {string} [pDefaultTemplateRecordAddress] - (optional) The default data address for the template.\n\t * @param {string} [pDefaultDestinationAddress] - (optional) The default destination address for the renderable.\n\t * @param {RenderMethod} [pRenderMethod=replace] - (optional) The method to use when rendering the renderable (ex. 'replace').\n\t */\n\taddRenderable(pRenderableHash, pTemplateHash, pDefaultTemplateRecordAddress, pDefaultDestinationAddress, pRenderMethod)\n\t{\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\n\t\tif (typeof(pRenderableHash) == 'object')\n\t\t{\n\t\t\t// The developer passed in the renderable as an object.\n\t\t\t// Use theirs instead!\n\t\t\ttmpRenderable = pRenderableHash;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t/** @type {RenderMethod} */\n\t\t\tlet tmpRenderMethod = (typeof(pRenderMethod) !== 'string') ? pRenderMethod : 'replace';\n\t\t\ttmpRenderable = (\n\t\t\t\t{\n\t\t\t\t\tRenderableHash: pRenderableHash,\n\t\t\t\t\tTemplateHash: pTemplateHash,\n\t\t\t\t\tDefaultTemplateRecordAddress: pDefaultTemplateRecordAddress,\n\t\t\t\t\tContentDestinationAddress: pDefaultDestinationAddress,\n\t\t\t\t\tRenderMethod: tmpRenderMethod\n\t\t\t\t});\n\t\t}\n\n\t\tif ((typeof(tmpRenderable.RenderableHash) != 'string') || (typeof(tmpRenderable.TemplateHash) != 'string'))\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not load Renderable; RenderableHash or TemplateHash are invalid.`, tmpRenderable);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} adding renderable [${tmpRenderable.RenderableHash}] pointed to template ${tmpRenderable.TemplateHash}.`);\n\t\t\t}\n\n\t\t\tthis.renderables[tmpRenderable.RenderableHash] = tmpRenderable;\n\t\t}\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                        Code Section: Initialization                        */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is initialized.\n\t */\n\tonBeforeInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeInitializeAsync(fCallback)\n\t{\n\t\tthis.onBeforeInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is initialized.\n\t */\n\tonInitialize()\n\t{\n\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonInitializeAsync(fCallback)\n\t{\n\t\tthis.onInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Performs view initialization.\n\t */\n\tinitialize()\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialize:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tthis.onBeforeInitialize();\n\t\t\tthis.onInitialize();\n\t\t\tthis.onAfterInitialize();\n\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialize called but initialization is already completed.  Aborting.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Performs view initialization (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tinitializeAsync(fCallback)\n\t{\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initializeAsync:`);\n\t\t}\n\n\t\tif (!this.initializeTimestamp)\n\t\t{\n\t\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t{\n\t\t\t\tthis.log.info(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} beginning initialization...`);\n\t\t\t}\n\n\t\t\ttmpAnticipate.anticipate(this.onBeforeInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onInitializeAsync.bind(this));\n\t\t\ttmpAnticipate.anticipate(this.onAfterInitializeAsync.bind(this));\n\n\t\t\ttmpAnticipate.wait(\n\t\t\t\t/** @param {Error} pError */\n\t\t\t\t(pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialization failed: ${pError.message || pError}`, { stack: pError.stack });\n\t\t\t\t\t}\n\t\t\t\t\tthis.initializeTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\t\tif (this.pict.LogNoisiness > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.info(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} initialization complete.`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fCallback();\n\t\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} async initialize called but initialization is already completed.  Aborting.`);\n\t\t\t// TODO: Should this be an error?\n\t\t\treturn fCallback();\n\t\t}\n\t}\n\n\tonAfterInitialize()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterInitialize:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is initialized (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterInitializeAsync(fCallback)\n\t{\n\t\tthis.onAfterInitialize();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                            Code Section: Render                            */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is rendered.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that will be rendered.\n\t */\n\tonBeforeRender(pRenderable)\n\t{\n\t\t// Overload this to mess with stuff before the content gets generated from the template\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeRender:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is rendered (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that will be rendered.\n\t */\n\tonBeforeRenderAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onBeforeRender(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is projected into the DOM.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that will be projected.\n\t */\n\tonBeforeProject(pRenderable)\n\t{\n\t\t// Overload this to mess with stuff before the content gets generated from the template\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeProject:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is projected into the DOM (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that will be projected.\n\t */\n\tonBeforeProjectAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onBeforeProject(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Builds the render options for a renderable.\n\t *\n\t * For DRY purposes on the three flavors of render.\n\t *\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbuildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\tlet tmpRenderOptions = {Valid: true};\n\t\ttmpRenderOptions.RenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t\t\t\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ?\n\t\t\t\t\t\t\t\tthis.options.DefaultRenderable : false;\n\t\tif (!tmpRenderOptions.RenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not find a suitable RenderableHash ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\ttmpRenderOptions.Renderable = this.renderables[tmpRenderOptions.RenderableHash];\n\t\tif (!tmpRenderOptions.Renderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\ttmpRenderOptions.DestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t(typeof (tmpRenderOptions.Renderable.ContentDestinationAddress) === 'string') ? tmpRenderOptions.Renderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : false;\n\t\tif (!tmpRenderOptions.DestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderOptions.RenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address (param ${pRenderDestinationAddress}).`);\n\t\t\ttmpRenderOptions.Valid = false;\n\t\t}\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRenderOptions.RecordAddress = 'Passed in as object';\n\t\t\ttmpRenderOptions.Record = pTemplateRecordAddress;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderOptions.RecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderOptions.Renderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderOptions.Renderable.DefaultTemplateRecordAddress :\n\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\t\t\ttmpRenderOptions.Record = (typeof (tmpRenderOptions.RecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRenderOptions.RecordAddress) : undefined;\n\t\t}\n\n\t\treturn tmpRenderOptions;\n\t}\n\n\t/**\n\t * Assigns the content to the destination address.\n\t *\n\t * For DRY purposes on the three flavors of render.\n\t *\n\t * @param {Renderable} pRenderable - The renderable to render.\n\t * @param {string} pRenderDestinationAddress - The address where the renderable will be rendered.\n\t * @param {string} pContent - The content to render.\n\t * @returns {boolean} - Returns true if the content was assigned successfully.\n\t * @memberof PictView\n\t */\n\tassignRenderContent(pRenderable, pRenderDestinationAddress, pContent)\n\t{\n\t\treturn this.pict.ContentAssignment.projectContent(pRenderable.RenderMethod, pRenderDestinationAddress, pContent, pRenderable.TestAddress);\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @return {boolean}\n\t */\n\trender(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable)\n\t{\n\t\treturn this.renderWithScope(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable);\n\t}\n\n\t/**\n\t * Render a renderable from this view, providing a specifici scope for the template.\n\t *\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @return {boolean}\n\t */\n\trenderWithScope(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable)\n\t{\n\t\tlet tmpRenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ? this.options.DefaultRenderable : false;\n\t\tif (!tmpRenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it is not a valid renderable.`);\n\t\t\treturn false;\n\t\t}\n\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\t\tif (tmpRenderableHash == '__Virtual')\n\t\t{\n\t\t\ttmpRenderable = {\n\t\t\t\tRenderableHash: '__Virtual',\n\t\t\t\tTemplateHash: this.renderables[this.options.DefaultRenderable].TemplateHash,\n\t\t\t\tContentDestinationAddress: (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null,\n\t\t\t\tRenderMethod: 'virtual-assignment',\n\t\t\t\tTransactionHash: pRootRenderable && pRootRenderable.TransactionHash,\n\t\t\t\tRootRenderableViewHash: pRootRenderable && pRootRenderable.RootRenderableViewHash,\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderable = Object.assign({}, this.renderables[tmpRenderableHash]);\n\t\t\ttmpRenderable.ContentDestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null;\n\t\t}\n\n\t\tif (!tmpRenderable.TransactionHash)\n\t\t{\n\t\t\ttmpRenderable.TransactionHash = `ViewRender-V-${this.options.ViewIdentifier}-R-${tmpRenderableHash}-U-${this.pict.getUUID()}`;\n\t\t\ttmpRenderable.RootRenderableViewHash = this.Hash;\n\t\t\tthis.pict.TransactionTracking.registerTransaction(tmpRenderable.TransactionHash);\n\t\t}\n\n\t\tif (!tmpRenderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!tmpRenderable.ContentDestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address.`);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet tmpRecordAddress;\n\t\tlet tmpRecord;\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRecord = pTemplateRecordAddress;\n\t\t\ttmpRecordAddress = 'Passed in as object';\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderable.DefaultTemplateRecordAddress :\n\t\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\n\t\t\ttmpRecord = (typeof (tmpRecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRecordAddress) : undefined;\n\t\t}\n\n\t\t// Execute the developer-overridable pre-render behavior\n\t\tthis.onBeforeRender(tmpRenderable);\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] Renderable[${tmpRenderableHash}] Destination[${tmpRenderable.ContentDestinationAddress}] TemplateRecordAddress[${tmpRecordAddress}] render:`);\n\t\t}\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Beginning Render of Renderable[${tmpRenderableHash}] to Destination [${tmpRenderable.ContentDestinationAddress}]...`);\n\t\t}\n\t\t// Generate the content output from the template and data\n\t\ttmpRenderable.Content = this.pict.parseTemplateByHash(tmpRenderable.TemplateHash, tmpRecord, null, [this], pScope, { RootRenderable: typeof pRootRenderable === 'object' ? pRootRenderable : tmpRenderable });\n\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Assigning Renderable[${tmpRenderableHash}] content length ${tmpRenderable.Content.length} to Destination [${tmpRenderable.ContentDestinationAddress}] using render method [${tmpRenderable.RenderMethod}].`);\n\t\t}\n\n\t\tthis.onBeforeProject(tmpRenderable);\n\t\tthis.onProject(tmpRenderable);\n\n\t\tif (tmpRenderable.RenderMethod !== 'virtual-assignment')\n\t\t{\n\t\t\tthis.onAfterProject(tmpRenderable);\n\n\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\tthis.onAfterRender(tmpRenderable);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable|ErrorCallback} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t *\n\t * @return {void}\n\t */\n\trenderAsync(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback)\n\t{\n\t\treturn this.renderWithScopeAsync(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback);\n\t}\n\n\t/**\n\t * Render a renderable from this view.\n\t *\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object|ErrorCallback} [pTemplateRecordAddress] - The address where the data for the template is stored.\n\t * @param {Renderable|ErrorCallback} [pRootRenderable] - The root renderable for the render operation, if applicable.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t *\n\t * @return {void}\n\t */\n\trenderWithScopeAsync(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, pRootRenderable, fCallback)\n\t{\n\t\tlet tmpRenderableHash = (typeof (pRenderableHash) === 'string') ? pRenderableHash :\n\t\t\t(typeof (this.options.DefaultRenderable) == 'string') ? this.options.DefaultRenderable : false;\n\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\t(typeof(pTemplateRecordAddress) === 'function') ? pTemplateRecordAddress :\n\t\t\t\t\t\t\t(typeof(pRenderDestinationAddress) === 'function') ? pRenderDestinationAddress :\n\t\t\t\t\t\t\t(typeof(pRenderableHash) === 'function') ? pRenderableHash :\n\t\t\t\t\t\t\t(typeof(pRootRenderable) === 'function') ? pRootRenderable :\n\t\t\t\t\t\t\tnull;\n\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} renderAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tif (!tmpRenderableHash)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not asynchronously render ${tmpRenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`);\n\t\t\treturn tmpCallback(new Error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not asynchronously render ${tmpRenderableHash} (param ${pRenderableHash}because it is not a valid renderable.`));\n\t\t}\n\n\t\t/** @type {Renderable} */\n\t\tlet tmpRenderable;\n\t\tif (tmpRenderableHash == '__Virtual')\n\t\t{\n\t\t\ttmpRenderable = {\n\t\t\t\tRenderableHash: '__Virtual',\n\t\t\t\tTemplateHash: this.renderables[this.options.DefaultRenderable].TemplateHash,\n\t\t\t\tContentDestinationAddress: (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress : (typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null,\n\t\t\t\tRenderMethod: 'virtual-assignment',\n\t\t\t\tTransactionHash: pRootRenderable && typeof pRootRenderable !== 'function' && pRootRenderable.TransactionHash,\n\t\t\t\tRootRenderableViewHash: pRootRenderable && typeof pRootRenderable !== 'function' && pRootRenderable.RootRenderableViewHash,\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRenderable = Object.assign({}, this.renderables[tmpRenderableHash]);\n\t\t\ttmpRenderable.ContentDestinationAddress = (typeof (pRenderDestinationAddress) === 'string') ? pRenderDestinationAddress :\n\t\t\t\t(typeof (tmpRenderable.ContentDestinationAddress) === 'string') ? tmpRenderable.ContentDestinationAddress :\n\t\t\t\t(typeof (this.options.DefaultDestinationAddress) === 'string') ? this.options.DefaultDestinationAddress : null;\n\t\t}\n\n\t\tif (!tmpRenderable.TransactionHash)\n\t\t{\n\t\t\ttmpRenderable.TransactionHash = `ViewRender-V-${this.options.ViewIdentifier}-R-${tmpRenderableHash}-U-${this.pict.getUUID()}`;\n\t\t\ttmpRenderable.RootRenderableViewHash = this.Hash;\n\t\t\tthis.pict.TransactionTracking.registerTransaction(tmpRenderable.TransactionHash);\n\t\t}\n\n\t\tif (!tmpRenderable)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`);\n\t\t\treturn tmpCallback(new Error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not exist.`));\n\t\t}\n\n\t\tif (!tmpRenderable.ContentDestinationAddress)\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render ${tmpRenderableHash} (param ${pRenderableHash}) because it does not have a valid destination address.`);\n\t\t\treturn tmpCallback(new Error(`Could not render ${tmpRenderableHash}`));\n\t\t}\n\n\t\tlet tmpRecordAddress;\n\t\tlet tmpRecord;\n\n\t\tif (typeof(pTemplateRecordAddress) === 'object')\n\t\t{\n\t\t\ttmpRecord = pTemplateRecordAddress;\n\t\t\ttmpRecordAddress = 'Passed in as object';\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpRecordAddress = (typeof (pTemplateRecordAddress) === 'string') ? pTemplateRecordAddress :\n\t\t\t\t(typeof (tmpRenderable.DefaultTemplateRecordAddress) === 'string') ? tmpRenderable.DefaultTemplateRecordAddress :\n\t\t\t\t\t(typeof (this.options.DefaultTemplateRecordAddress) === 'string') ? this.options.DefaultTemplateRecordAddress : false;\n\n\t\t\ttmpRecord = (typeof (tmpRecordAddress) === 'string') ? this.pict.DataProvider.getDataByAddress(tmpRecordAddress) : undefined;\n\t\t}\n\n\t\tif (this.pict.LogControlFlow)\n\t\t{\n\t\t\tthis.log.trace(`PICT-ControlFlow VIEW [${this.UUID}]::[${this.Hash}] Renderable[${tmpRenderableHash}] Destination[${tmpRenderable.ContentDestinationAddress}] TemplateRecordAddress[${tmpRecordAddress}] renderAsync:`);\n\t\t}\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Beginning Asynchronous Render (callback-style)...`);\n\t\t}\n\n\t\tlet tmpAnticipate = this.fable.newAnticipate();\n\n\t\ttmpAnticipate.anticipate(\n\t\t\t(fOnBeforeRenderCallback) =>\n\t\t\t{\n\t\t\t\tthis.onBeforeRenderAsync(fOnBeforeRenderCallback, tmpRenderable);\n\t\t\t});\n\n\t\ttmpAnticipate.anticipate(\n\t\t\t(fAsyncTemplateCallback) =>\n\t\t\t{\n\t\t\t\t// Render the template (asynchronously)\n\t\t\t\tthis.pict.parseTemplateByHash(tmpRenderable.TemplateHash, tmpRecord,\n\t\t\t\t\t(pError, pContent) =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif (pError)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render (asynchronously) ${tmpRenderableHash} (param ${pRenderableHash}) because it did not parse the template.`, pError);\n\t\t\t\t\t\t\treturn fAsyncTemplateCallback(pError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmpRenderable.Content = pContent;\n\n\t\t\t\t\t\treturn fAsyncTemplateCallback();\n\t\t\t\t\t}, [this], pScope, { RootRenderable: typeof pRootRenderable === 'object' ? pRootRenderable : tmpRenderable });\n\t\t\t});\n\n\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t{\n\t\t\tthis.onBeforeProjectAsync(fNext, tmpRenderable);\n\t\t});\n\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t{\n\t\t\tthis.onProjectAsync(fNext, tmpRenderable);\n\t\t});\n\n\t\tif (tmpRenderable.RenderMethod !== 'virtual-assignment')\n\t\t{\n\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t{\n\t\t\t\tthis.onAfterProjectAsync(fNext, tmpRenderable);\n\t\t\t});\n\n\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t{\n\t\t\t\tthis.onAfterRenderAsync(fNext, tmpRenderable);\n\t\t\t});\n\t\t}\n\n\t\ttmpAnticipate.wait(tmpCallback);\n\t}\n\n\t/**\n\t * Renders the default renderable.\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\trenderDefaultAsync(fCallback)\n\t{\n\t\t// Render the default renderable\n\t\tthis.renderAsync(fCallback);\n\t}\n\n\t/**\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbasicRender(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\treturn this.basicRenderWithScope(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t}\n\n\t/**\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|object} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t */\n\tbasicRenderWithScope(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress)\n\t{\n\t\tlet tmpRenderOptions = this.buildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t\tif (tmpRenderOptions.Valid)\n\t\t{\n\t\t\tthis.assignRenderContent(tmpRenderOptions.Renderable, tmpRenderOptions.DestinationAddress, this.pict.parseTemplateByHash(tmpRenderOptions.Renderable.TemplateHash, tmpRenderOptions.Record, null, [this], pScope, { RootRenderable: tmpRenderOptions.Renderable }));\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not perform a basic render of ${tmpRenderOptions.RenderableHash} because it is not valid.`);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|Object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t */\n\tbasicRenderAsync(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback)\n\t{\n\t\treturn this.basicRenderWithScopeAsync(this, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback);\n\t}\n\n\t/**\n\t * @param {any} pScope - The scope to use for the template rendering.\n\t * @param {string|ErrorCallback} [pRenderableHash] - The hash of the renderable to render.\n\t * @param {string|ErrorCallback} [pRenderDestinationAddress] - The address where the renderable will be rendered.\n\t * @param {string|Object|ErrorCallback} [pTemplateRecordAddress] - The address of (or actual obejct) where the data for the template is stored.\n\t * @param {ErrorCallback} [fCallback] - The callback to call when the async operation is complete.\n\t */\n\tbasicRenderWithScopeAsync(pScope, pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress, fCallback)\n\t{\n\t\t// Allow the callback to be passed in as the last parameter no matter what\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback :\n\t\t\t\t\t\t\t(typeof(pTemplateRecordAddress) === 'function') ? pTemplateRecordAddress :\n\t\t\t\t\t\t\t(typeof(pRenderDestinationAddress) === 'function') ? pRenderDestinationAddress :\n\t\t\t\t\t\t\t(typeof(pRenderableHash) === 'function') ? pRenderableHash :\n\t\t\t\t\t\t\tnull;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} basicRenderAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} basicRenderAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\tconst tmpRenderOptions = this.buildRenderOptions(pRenderableHash, pRenderDestinationAddress, pTemplateRecordAddress);\n\t\tif (tmpRenderOptions.Valid)\n\t\t{\n\t\t\tthis.pict.parseTemplateByHash(tmpRenderOptions.Renderable.TemplateHash, tmpRenderOptions.Record,\n\t\t\t\t/**\n\t\t\t\t * @param {Error} [pError] - The error that occurred during template parsing.\n\t\t\t\t * @param {string} [pContent] - The content that was rendered from the template.\n\t\t\t\t */\n\t\t\t\t(pError, pContent) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not render (asynchronously) ${tmpRenderOptions.RenderableHash} because it did not parse the template.`, pError);\n\t\t\t\t\t\treturn tmpCallback(pError);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.assignRenderContent(tmpRenderOptions.Renderable, tmpRenderOptions.DestinationAddress, pContent);\n\t\t\t\t\treturn tmpCallback();\n\t\t\t\t}, [this], pScope, { RootRenderable: tmpRenderOptions.Renderable });\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet tmpErrorMessage = `PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} could not perform a basic render of ${tmpRenderOptions.RenderableHash} because it is not valid.`;\n\t\t\tthis.log.error(tmpErrorMessage);\n\t\t\treturn tmpCallback(new Error(tmpErrorMessage));\n\t\t}\n\t}\n\n\t/**\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonProject(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onProject:`);\n\t\t}\n\t\tif (pRenderable.RenderMethod === 'virtual-assignment')\n\t\t{\n\t\t\tthis.pict.TransactionTracking.pushToTransactionQueue(pRenderable.TransactionHash, { ViewHash: this.Hash, Renderable: pRenderable }, 'Deferred-Post-Content-Assignment');\n\t\t}\n\n\t\tif (this.pict.LogNoisiness > 0)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} Assigning Renderable[${pRenderable.RenderableHash}] content length ${pRenderable.Content.length} to Destination [${pRenderable.ContentDestinationAddress}] using Async render method ${pRenderable.RenderMethod}.`);\n\t\t}\n\n\t\t// Assign the content to the destination address\n\t\tthis.pict.ContentAssignment.projectContent(pRenderable.RenderMethod, pRenderable.ContentDestinationAddress, pRenderable.Content, pRenderable.TestAddress);\n\n\t\tthis.lastRenderedTimestamp = this.pict.log.getTimeStamp();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM (async flow).\n\t *\n\t * @param {(error?: Error, content?: string) => void} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that is being projected.\n\t */\n\tonProjectAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onProject(pRenderable);\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is rendered.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonAfterRender(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRender:`);\n\t\t}\n\t\tif (pRenderable && pRenderable.RootRenderableViewHash === this.Hash)\n\t\t{\n\t\t\tconst tmpTransactionQueue = this.pict.TransactionTracking.clearTransactionQueue(pRenderable.TransactionHash) || [];\n\t\t\tfor (const tmpEvent of tmpTransactionQueue)\n\t\t\t{\n\t\t\t\tconst tmpView = this.pict.views[tmpEvent.Data.ViewHash];\n\t\t\t\tif (!tmpView)\n\t\t\t\t{\n\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRender: Could not find view for transaction hash ${pRenderable.TransactionHash} and ViewHash ${tmpEvent.Data.ViewHash}.`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttmpView.onAfterProject();\n\n\t\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\t\ttmpView.onAfterRender(tmpEvent.Data.Renderable);\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is rendered (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that was rendered.\n\t */\n\tonAfterRenderAsync(fCallback, pRenderable)\n\t{\n\t\tthis.onAfterRender(pRenderable);\n\t\tconst tmpAnticipate = this.fable.newAnticipate();\n\t\tif (pRenderable && pRenderable.RootRenderableViewHash === this.Hash)\n\t\t{\n\t\t\tconst queue = this.pict.TransactionTracking.clearTransactionQueue(pRenderable.TransactionHash) || [];\n\t\t\tfor (const event of queue)\n\t\t\t{\n\t\t\t\t/** @type {PictView} */\n\t\t\t\tconst tmpView = this.pict.views[event.Data.ViewHash];\n\t\t\t\tif (!tmpView)\n\t\t\t\t{\n\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterRenderAsync: Could not find view for transaction hash ${pRenderable.TransactionHash} and ViewHash ${event.Data.ViewHash}.`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttmpAnticipate.anticipate(tmpView.onAfterProjectAsync.bind(tmpView));\n\t\t\t\ttmpAnticipate.anticipate((fNext) =>\n\t\t\t\t{\n\t\t\t\t\ttmpView.onAfterRenderAsync(fNext, event.Data.Renderable);\n\t\t\t\t});\n\n\t\t\t\t// Execute the developer-overridable post-render behavior\n\t\t\t}\n\t\t}\n\t\treturn tmpAnticipate.wait(fCallback);\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM.\n\t *\n\t * @param {Renderable} pRenderable - The renderable that was projected.\n\t */\n\tonAfterProject(pRenderable)\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterProject:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is projected into the DOM (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t * @param {Renderable} pRenderable - The renderable that was projected.\n\t */\n\tonAfterProjectAsync(fCallback, pRenderable)\n\t{\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                            Code Section: Solver                            */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before the view is solved.\n\t */\n\tonBeforeSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeSolveAsync(fCallback)\n\t{\n\t\tthis.onBeforeSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is solved.\n\t */\n\tonSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonSolveAsync(fCallback)\n\t{\n\t\tthis.onSolve();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Performs view solving and triggers lifecycle hooks.\n\t *\n\t * @return {boolean} - True if the view was solved successfully, false otherwise.\n\t */\n\tsolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeSolve();\n\t\tthis.onSolve();\n\t\tthis.onAfterSolve();\n\t\tthis.lastSolvedTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Performs view solving and triggers lifecycle hooks (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tsolveAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} solveAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeSolveAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onSolveAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterSolveAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} solveAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastSolvedTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is solved.\n\t */\n\tonAfterSolve()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterSolve:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after the view is solved (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterSolveAsync(fCallback)\n\t{\n\t\tthis.onAfterSolve();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal From View                        */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled from the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tonBeforeMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeMarshalFromViewAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled from the view.\n\t */\n\tonMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonMarshalFromViewAsync(fCallback)\n\t{\n\n\t\tthis.onMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Marshals data from the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tmarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeMarshalFromView();\n\t\tthis.onMarshalFromView();\n\t\tthis.onAfterMarshalFromView();\n\t\tthis.lastMarshalFromViewTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Marshals data from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tmarshalFromViewAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalFromViewAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalFromViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onMarshalFromViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalFromViewAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} marshalFromViewAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalFromViewTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled from the view.\n\t */\n\tonAfterMarshalFromView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterMarshalFromView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled from the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterMarshalFromViewAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalFromView();\n\t\treturn fCallback();\n\t}\n\n\t/* -------------------------------------------------------------------------- */\n\t/*                     Code Section: Marshal To View                          */\n\t/* -------------------------------------------------------------------------- */\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled into the view.\n\t */\n\tonBeforeMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onBeforeMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers before data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonBeforeMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onBeforeMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled into the view.\n\t */\n\tonMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers when data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/**\n\t * Marshals data into the view.\n\t *\n\t * @return {boolean} - True if the operation was successful, false otherwise.\n\t */\n\tmarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 2)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} executing solve() function...`);\n\t\t}\n\t\tthis.onBeforeMarshalToView();\n\t\tthis.onMarshalToView();\n\t\tthis.onAfterMarshalToView();\n\t\tthis.lastMarshalToViewTimestamp = this.pict.log.getTimeStamp();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Marshals data into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tmarshalToViewAsync(fCallback)\n\t{\n\t\tlet tmpAnticipate = this.pict.instantiateServiceProviderWithoutRegistration('Anticipate');\n\n\n\t\t/** @type {ErrorCallback} */\n\t\tlet tmpCallback = (typeof(fCallback) === 'function') ? fCallback : null;\n\t\tif (!tmpCallback)\n\t\t{\n\t\t\tthis.log.warn(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewAsync was called without a valid callback.  A callback will be generated but this could lead to race conditions.`);\n\t\t\ttmpCallback = (pError) =>\n\t\t\t\t{\n\t\t\t\t\tif (pError)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.log.error(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.Name} marshalToViewAsync Auto Callback Error: ${pError}`, pError);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t}\n\t\ttmpAnticipate.anticipate(this.onBeforeMarshalToViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onMarshalToViewAsync.bind(this));\n\t\ttmpAnticipate.anticipate(this.onAfterMarshalToViewAsync.bind(this));\n\n\t\ttmpAnticipate.wait(\n\t\t\t(pError) =>\n\t\t\t{\n\t\t\t\tif (this.pict.LogNoisiness > 2)\n\t\t\t\t{\n\t\t\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} marshalToViewAsync() complete.`);\n\t\t\t\t}\n\t\t\t\tthis.lastMarshalToViewTimestamp = this.pict.log.getTimeStamp();\n\t\t\t\treturn tmpCallback(pError);\n\t\t\t});\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled into the view.\n\t */\n\tonAfterMarshalToView()\n\t{\n\t\tif (this.pict.LogNoisiness > 3)\n\t\t{\n\t\t\tthis.log.trace(`PictView [${this.UUID}]::[${this.Hash}] ${this.options.ViewIdentifier} onAfterMarshalToView:`);\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Lifecycle hook that triggers after data is marshaled into the view (async flow).\n\t *\n\t * @param {ErrorCallback} fCallback - The callback to call when the async operation is complete.\n\t */\n\tonAfterMarshalToViewAsync(fCallback)\n\t{\n\t\tthis.onAfterMarshalToView();\n\t\treturn fCallback();\n\t}\n\n\t/** @return {boolean} - True if the object is a PictView. */\n\tget isPictView()\n\t{\n\t\treturn true;\n\t}\n}\n\nmodule.exports = PictView;\n","const libPictProvider = require('pict-provider');\n\nconst libPPRouter = require('./providers/PP-Router.js');\nconst libPPCSSHotloader = require('./providers/PP-CSS-Hotloader.js');\nconst libPPConfigStorage = require('./providers/PP-ConfigStorage.js');\nconst libPPTemplateOverrideStorage = require('./providers/PP-TemplateOverrideStorage.js');\n\nconst libPPContainer = require('./views/PP-Container.js');\nconst libPPMain = require('./views/PP-Main.js');\nconst libPPNav = require('./views/PP-Navigation.js');\n\nconst libPPADB = require('./views/PP-View-AppDataBrowser.js');\nconst libPPTB = require('./views/PP-View-TemplateBrowser.js');\nconst libPPVB = require('./views/PP-View-ViewBrowser.js');\nconst libPPPB = require('./views/PP-View-ProviderBrowser.js');\nconst libPPTO = require('./views/PP-View-TemplateOverrides.js');\n\nconst _DefaultProviderConfiguration = (\n{\n\t\"ProviderIdentifier\": \"Pict-Panel\",\n\t\"AutoInitialize\": false,\n\t\"AutoSolveWithApp\": false\n});\n\nclass PictPanel extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpOptions = Object.assign({}, JSON.parse(JSON.stringify(_DefaultProviderConfiguration)), pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\t}\n\n\tshow()\n\t{\n\t\tif (!('PP-Panel' in this.pict.views))\n\t\t{\n\t\t\tthis.pict.addProvider('PP-Router', libPPRouter.default_configuration, libPPRouter);\n\t\t\tthis.pict.addProvider('PP-CSS-Hotloader', libPPCSSHotloader.default_configuration, libPPCSSHotloader);\n\t\t\tthis.pict.addProvider('PP-ConfigStorage', libPPConfigStorage.default_configuration, libPPConfigStorage);\n\t\t\tthis.pict.addProvider('PP-TemplateOverrideStorage', libPPTemplateOverrideStorage.default_configuration, libPPTemplateOverrideStorage);\n\n\t\t\t// TODO: Discuss whether this should load them all or children should load their parts (e.g. this loads Main/Nav, Main or Nav loads the next bits)\n\t\t\tlet tmpRootPanelView = this.pict.addView('PP-Panel', libPPContainer.default_configuration, libPPContainer);\n\t\t\tlet tmpMainView = this.pict.addView('PP-Main', libPPMain.default_configuration, libPPMain);\n\t\t\tthis.pict.addView('PP-Nav', libPPNav.default_configuration, libPPNav);\n\n\t\t\tthis.pict.addView('PP-ADB', libPPADB.default_configuration, libPPADB);\n\t\t\tthis.pict.addView('PP-TB', libPPTB.default_configuration, libPPTB);\n\t\t\tthis.pict.addView('PP-VB', libPPVB.default_configuration, libPPVB);\n\t\t\tthis.pict.addView('PP-PB', libPPPB.default_configuration, libPPPB);\n\t\t\tthis.pict.addView('PP-TO', libPPTO.default_configuration, libPPTO);\n\n\t\t\t// Load saved config into uiState before rendering\n\t\t\tlet tmpSavedConfig = this.pict.providers['PP-ConfigStorage'].load();\n\t\t\tif (tmpSavedConfig && tmpSavedConfig.Behaviors)\n\t\t\t{\n\t\t\t\tlet tmpKeys = Object.keys(tmpSavedConfig.Behaviors);\n\t\t\t\tfor (let i = 0; i < tmpKeys.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (tmpKeys[i] in tmpMainView.uiState.Behaviors)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpMainView.uiState.Behaviors[tmpKeys[i]] = tmpSavedConfig.Behaviors[tmpKeys[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttmpRootPanelView.render();\n\n\t\t\t// Apply saved position/size and visual state after DOM exists\n\t\t\tthis.pict.providers['PP-ConfigStorage'].applyConfig(tmpMainView);\n\n\t\t\t// Apply any persisted template overrides\n\t\t\tthis.pict.providers['PP-TemplateOverrideStorage'].applyOverrides();\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Toggle the show/hide for the main view.\n\t\t\tthis.pict.views['PP-Main'].toggleUIBehavior('visible');\n\t\t}\n\t}\n}\n\n/**\n * Auto-inject into a running pict app when the script is loaded via eval/script tag.\n *\n * When hotloaded (e.g. via fetch+eval or a script tag), this detects the global\n * _Pict instance, registers PictPanel as a provider, and shows the panel.\n *\n * Simple console one-liner to inject from CDN:\n *   fetch('https://cdn.jsdelivr.net/npm/pict-panel/dist/pict-panel.js').then(r=>r.text()).then(eval).then(()=>PictPanel.inject())\n *\n * Or from a local dev server:\n *   fetch('http://localhost:9998/pict-panel.js').then(r=>r.text()).then(eval).then(()=>PictPanel.inject())\n */\nPictPanel.inject = function(pPictInstance)\n{\n\tlet tmpPict = pPictInstance || (typeof(_Pict) !== 'undefined' ? _Pict : null);\n\n\tif (!tmpPict)\n\t{\n\t\tconsole.error('PictPanel.inject: No Pict instance found. Pass one as PictPanel.inject(myPictInstance) or ensure _Pict is global.');\n\t\treturn;\n\t}\n\n\tif (!tmpPict.providers.PictPanel)\n\t{\n\t\ttmpPict.addProvider('PictPanel', {}, PictPanel);\n\t}\n\ttmpPict.providers.PictPanel.show();\n};\n\nmodule.exports = PictPanel;\nmodule.exports.default_configuration = _DefaultProviderConfiguration;","module.exports = { CSS: /*CSS*/`\n\n/* AppData Browser */\n\n.pp_adb_container {\n\tpadding: 4px;\n}\n\n.pp_adb_header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 4px 8px;\n\tborder-bottom: 2px solid var(--pal-acc);\n\tmargin-bottom: 4px;\n}\n\n.pp_adb_header_label {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.9rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-pri);\n}\n\n.pp_adb_header_actions {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 6px;\n}\n\n.pp_adb_action_btn {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.7rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tcursor: pointer;\n\tpadding: 1px 4px;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.pp_adb_action_btn:hover {\n\tcolor: var(--pal-acc-bri);\n\tbackground: rgba(0,0,0,0.05);\n}\n\n/* Editor */\n.pp_adb_editor {\n\tpadding: 4px 8px;\n\tborder-bottom: 1px solid rgba(0,48,73, 0.15);\n\tmargin-bottom: 4px;\n}\n\n.pp_adb_editor_textarea {\n\twidth: 100%;\n\tmin-height: 200px;\n\tmax-height: 60vh;\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tline-height: 1.3;\n\tpadding: 4px;\n\tborder: 1px solid var(--pal-pri);\n\tborder-radius: 3px;\n\tbackground: #fff;\n\tcolor: var(--pal-pri);\n\tresize: vertical;\n\tbox-sizing: border-box;\n\ttab-size: 4;\n}\n\n.pp_adb_editor_textarea:focus {\n\toutline: 2px solid var(--pal-acc-bri);\n\toutline-offset: -1px;\n}\n\n.pp_adb_editor_textarea.pp_adb_editor_error {\n\toutline: 2px solid #c1121f;\n\tbackground: #fff1f1;\n}\n\n.pp_adb_editor_actions {\n\tdisplay: flex;\n\tgap: 8px;\n\tjustify-content: flex-end;\n\tmargin-top: 4px;\n}\n\n.pp_adb_editor_save {\n\tcolor: #067d17 !important;\n}\n\n.pp_adb_editor_cancel {\n\tcolor: var(--pal-acc) !important;\n}\n\n/* Tree entries */\n.pp_adb_entry {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tline-height: 1.4;\n}\n\n.pp_adb_leaf .pp_adb_datarow {\n\tdisplay: flex;\n\talign-items: baseline;\n\tpadding: 1px 4px 1px 8px;\n\tborder-left: 2px solid transparent;\n}\n\n.pp_adb_leaf .pp_adb_datarow:hover {\n\tbackground: rgba(0,48,73, 0.06);\n\tborder-left-color: var(--pal-pri);\n}\n\n.pp_adb_branch > .pp_adb_datarow {\n\tdisplay: flex;\n\talign-items: baseline;\n\tpadding: 2px 4px;\n\tcursor: pointer;\n\tborder-left: 2px solid transparent;\n\tuser-select: none;\n}\n\n.pp_adb_branch > .pp_adb_datarow:hover {\n\tbackground: rgba(0,48,73, 0.08);\n\tborder-left-color: var(--pal-acc-bri);\n}\n\n.pp_adb_record_metadata {\n\tdisplay: flex;\n\talign-items: baseline;\n\tgap: 4px;\n\tflex-shrink: 0;\n}\n\n.pp_adb_record_data {\n\tmargin-left: 4px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tflex: 1;\n\tmin-width: 0;\n}\n\n.pp_adb_key {\n\tcolor: var(--pal-acc);\n\tfont-weight: bold;\n}\n\n.pp_adb_leaf .pp_adb_key::after {\n\tcontent: ':';\n\tcolor: var(--pal-pri);\n}\n\n.pp_adb_type {\n\tfont-size: 0.7rem;\n\tfont-style: italic;\n\tcolor: #888;\n}\n\n.pp_adb_count {\n\tfont-size: 0.7rem;\n\tcolor: #888;\n}\n\n/* Leaf value styling by type */\n.pp_adb_value {\n\tcolor: var(--pal-pri);\n}\n\n.pp_adb_value_string {\n\tcolor: #067d17;\n}\n\n.pp_adb_value_string::before {\n\tcontent: '\"';\n\tcolor: #888;\n}\n\n.pp_adb_value_string::after {\n\tcontent: '\"';\n\tcolor: #888;\n}\n\n.pp_adb_value_number {\n\tcolor: #1750eb;\n}\n\n.pp_adb_value_boolean {\n\tcolor: #9c27b0;\n\tfont-weight: bold;\n}\n\n.pp_adb_value_null,\n.pp_adb_value_undefined {\n\tcolor: #888;\n\tfont-style: italic;\n}\n\n/* Expand/collapse icon */\n.pp_adb_expand_icon {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 14px;\n\theight: 14px;\n\ttransition: transform 0.15s ease;\n\tflex-shrink: 0;\n}\n\n.pp_adb_expand_icon.pp_adb_collapsed {\n\ttransform: rotate(0deg);\n}\n\n.pp_adb_expand_icon.pp_adb_expanded {\n\ttransform: rotate(90deg);\n}\n\n.pp_adb_expand_icon svg {\n\tcolor: var(--pal-pri);\n}\n\n/* Child container indentation */\n.pp_adb_children {\n\tmargin-left: 12px;\n\tborder-left: 1px solid rgba(0,48,73, 0.15);\n}\n\n.pp_adb_scalar_value {\n\tpadding: 4px 8px;\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tcolor: var(--pal-pri);\n}\n\n`};\n","module.exports = {CSS: /*CSS*/`\n\n/* Logo SVG Colors */\n.pplg_earth path { display: block; fill: #b48d49; stroke-width: 0; }\n.pplg_sky path { display: block; fill: #d19ac4; stroke-width: 0; }\n.pplg_border_outer { display: block; fill: #312514; stroke-width: 0; }\n.pplg_border_inner { display: block; fill: #dcd6c1; stroke-width: 0; }\n.pplg_mtn { display: block; fill: #8a847b; stroke-width: 0; }\n.pplg_star { display: block; fill: #f6f6f6; stroke-width: 0; }\n.pplg_ceres { display: block; fill: #b5b597; stroke-width: 0; }\n.pplg_crater { display: block; fill: #e8e5dd; stroke-width: 0; fill-opacity: 0.55; }\n\n`};","module.exports = { CSS: /*CSS*/`\n\n/* CSS Color Palettes .. for bein' modern? */\n\n/*\nrgb(255, 252, 64),\nrgb(250, 186, 97),\nrgb(255, 129, 114),\nrgb(255, 47, 169),\nrgb(58, 87, 154),\nrgb(54, 36, 79)\n\n#fffc40\n#faba61\n#ff8172\n#ff2fa9\n#3a579a\n#36244f\n*/\n\n:root { \n\t--pal-bg: #fdf0d5;\n    --pal-pri: #003049;\n\t--pal-pri-brt: #669bbc;\n    --pal-acc: #780000;\n    --pal-acc-bri: #c1121f;\n\n\t--win-bg: var(--pal-bg);\n\t--win-fg: var(--pal-pri);\n\t--win-border: var(--pal-acc);\n\n\t--hd-bg: var(--win-bg);\n\t--hd-logotext: var(--pal-acc);\n\n\t--hd-sz-con: rgba(210,210,210, 0.2);\n\t--hd-sz-con-border: rgba(235,235,235, 0.4);\n\t--hd-sz-con-hover: rgba(210,210,210, 0.9);\n\t--hd-sz-con-border-hover: var(--pal-acc-bri);\n}\n\n/* Dark mode overrides */\n#Pict-Panel.pp_dark_mode {\n\t--pal-bg: #1e1e2e;\n\t--pal-pri: #cdd6f4;\n\t--pal-pri-brt: #89b4fa;\n\t--pal-acc: #f38ba8;\n\t--pal-acc-bri: #eba0ac;\n\n\t--win-bg: var(--pal-bg);\n\t--win-fg: var(--pal-pri);\n\t--win-border: var(--pal-acc);\n\n\t--hd-bg: var(--win-bg);\n\t--hd-logotext: var(--pal-acc);\n\n\t--hd-sz-con: rgba(80,80,80, 0.3);\n\t--hd-sz-con-border: rgba(100,100,100, 0.4);\n\t--hd-sz-con-hover: rgba(80,80,80, 0.8);\n\t--hd-sz-con-border-hover: var(--pal-acc-bri);\n}\n\n#Pict-Panel.pp_dark_mode .pp_adb_value_string {\n\tcolor: #a6e3a1;\n}\n\n#Pict-Panel.pp_dark_mode .pp_adb_value_number {\n\tcolor: #89b4fa;\n}\n\n#Pict-Panel.pp_dark_mode .pp_adb_value_boolean {\n\tcolor: #cba6f7;\n}\n\n#Pict-Panel.pp_dark_mode .pp_adb_editor_textarea {\n\tbackground: #313244;\n\tcolor: #cdd6f4;\n\tborder-color: #585b70;\n}\n\n#Pict-Panel.pp_dark_mode .pp_adb_editor_save {\n\tcolor: #a6e3a1 !important;\n}\n\n`};","module.exports = { CSS: /*CSS*/`\n\n/* Panel Styling */\n\n#Pict-Panel {\n\tz-index: 900;\n\tposition: fixed;\n\ttop: 15px;\n\tright: 15px;\n\n\tmin-height: 24px;\n\tmax-height: 98%;\n\tmin-width: 300px;\n\tmax-width: 98%;\n\n\twidth: 300px;\n\n\toverflow: hidden;\n\tresize: both;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\tcolor: var(--win-fg);\n\tbackground: var(--win-bg);\n\tborder: 3px double var(--win-border);\n\tborder-radius: 5px;\n}\n\n.pp_content {\n\tflex: 1;\n\toverflow: auto;\n\tmin-height: 0;\n}\n\n#Pict-Panel.pp_no_resize {\n\tresize: none;\n}\n\n/* Tab mode: collapse to just the logo */\n#Pict-Panel.pp_tab_mode {\n\ttop: -3px;\n\tright: 60px;\n\tleft: auto;\n\twidth: auto;\n\tmin-width: 0;\n\tmax-width: none;\n\theight: auto;\n\tmin-height: 0;\n\tmax-height: none;\n\tresize: none;\n\toverflow: visible;\n\tpadding: 0;\n}\n\n#Pict-Panel.pp_tab_mode .pp_hd {\n\tdisplay: block;\n\tpadding: 2px;\n}\n\n#Pict-Panel.pp_tab_mode .pp_hd_pict,\n#Pict-Panel.pp_tab_mode .pp_hd_control,\n#Pict-Panel.pp_tab_mode .pp_nav,\n#Pict-Panel.pp_tab_mode .pp_content {\n\tdisplay: none !important;\n}\n\n#Pict-Panel.pp_tab_mode .pp_hd_logo {\n\tcursor: grab;\n}\n\n#Pict-Panel.pp_tab_mode .pp_hd_logo:active {\n\tcursor: grabbing;\n}\n\n#Pict-Panel.pp_tab_mode .pp_hd_logo svg {\n\twidth: 36px;\n\theight: 36px;\n\tdisplay: block;\n}\n\n#Pict-Panel-Drag {\n\tz-index: 910;\n\tcursor: move;\n}\n\n.pp_hd {\n\tdisplay: grid;\n\tgrid-template-columns: 70px 1fr 70px;\n\tgrid-template-areas: \"logo title controls\";\n\talign-content: stretch;\n\n\tpadding: 4px;\n\tfill: var(--hd-bg);\n}\n\n.pp_hd_logo {\n\tgrid-area: logo;\n}\n\n.pp_hd_pict {\n\tgrid-area: title;\n\tfont-family: Verdana;\n\tfont-size: 48px;\n\tfont-weight: bold;\n\tcolor: --hd-logotext;\n\tuser-select: none;\n}\n\n.pp_hd_control {\n\tgrid-area: controls;\n\tjustify-self: end;\n}\n\n\n/* UI size/etc. toggle Controls */\n.pp_sz_con {\n\tdisplay: grid;\n\tgrid-template-columns: 20px 20px 20px;\n\tgrid-template-rows: 20px 20px 20px;\n\talign-content: stretch;\n\n\ttext-align: right;\n}\n\n.pp_sz_con > div {\n\tbackground-color: var(--hd-sz-con);\n\tborder-color: var(--hd-sz-con-border);\n\tborder-style: dotted;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\toverflow: hidden;\n}\n\n.pp_sz_con > div:hover {\n\tbackground-color: var(--hd-sz-con-hover);\n\tborder-color: var(--hd-sz-con-border-hover);\n\tborder-style: solid;\n}\n\n.pp_sz_con svg\n{\n\twidth: 16px;\n\theight: 16px;\n\tcolor: var(--pal-pri);\n\tfill: var(--pal-pri);\n}\n\n.pp_sz_con > div:hover svg\n{\n\tcolor: var(--pal-acc-bri);\n\tfill: var(--pal-acc-bri);\n}\n\n/* Toggle icon visibility: unchecked shows .off, checked shows .on */\n.pp_sz_con .checked .off,\n.pp_sz_con .checked .hover_on\n{\n\tdisplay: none !important;\n}\n.pp_sz_con .unchecked .on,\n.pp_sz_con .unchecked .hover_off\n{\n\tdisplay: none !important;\n}\n.pp_sz_con .checked .on,\n.pp_sz_con .checked .hover_off\n{\n\tdisplay: inline-flex !important;\n}\n.pp_sz_con .unchecked .off,\n.pp_sz_con .unchecked .hover_on\n{\n\tdisplay: inline-flex !important;\n}\n\n/* Navigation */\n.pp_nav {\n\tpadding: 2px 8px;\n\tborder-bottom: 1px solid var(--pal-acc);\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n}\n\n.pp_nav a {\n\tcolor: var(--pal-acc);\n\ttext-decoration: none;\n}\n\n.pp_nav a:hover {\n\tcolor: var(--pal-acc-bri);\n}\n\n.pp_nav_short {\n\tfont-weight: 800;\n\tletter-spacing: -0.5px;\n\ttext-transform: uppercase;\n\tfont-style: normal;\n}\n\n.pp_nav_long {\n\tfont-weight: 400;\n\tfont-style: normal;\n\tdisplay: none;\n}\n\n.pp_nav_active .pp_nav_short {\n\tdisplay: none;\n}\n\n.pp_nav_active .pp_nav_long {\n\tdisplay: inline;\n\topacity: 0.6;\n}\n\n`};","module.exports = { CSS: /*CSS*/`\n\n/* Shared Service Browser (Views + Providers) */\n\n.pp_sb_container {\n\tpadding: 4px;\n}\n\n/* List entries */\n.pp_sb_entry {\n\tpadding: 3px 8px;\n\tborder-left: 2px solid transparent;\n}\n\n.pp_sb_entry:hover {\n\tbackground: rgba(0,48,73, 0.06);\n\tborder-left-color: var(--pal-pri);\n}\n\n.pp_sb_entry_row {\n\tdisplay: flex;\n\talign-items: baseline;\n\tgap: 6px;\n\tposition: relative;\n}\n\n.pp_sb_entry_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n\ttext-decoration: none;\n\tflex-shrink: 0;\n\tcursor: pointer;\n}\n\n.pp_sb_entry_hash:hover {\n\tcolor: var(--pal-acc-bri);\n}\n\n.pp_sb_entry_info {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.65rem;\n\tcolor: #999;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tflex: 1;\n\tmin-width: 0;\n}\n\n/* Action icons (render/renderAsync) in list */\n.pp_sb_action_icon {\n\tdisplay: none;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 18px;\n\theight: 18px;\n\tpadding: 2px;\n\tborder-radius: 3px;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tcursor: pointer;\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\tbackground: var(--win-bg);\n}\n\n.pp_sb_action_icon + .pp_sb_action_icon {\n\tright: 20px;\n}\n\n.pp_sb_entry:hover .pp_sb_action_icon {\n\tdisplay: inline-flex;\n}\n\n.pp_sb_action_icon:hover {\n\tcolor: var(--pal-acc-bri);\n\tbackground: rgba(0,0,0,0.05);\n}\n\n.pp_sb_action_icon svg {\n\twidth: 12px;\n\theight: 12px;\n}\n\n/* Detail view */\n.pp_sb_detail {\n\tpadding: 0 4px;\n}\n\n.pp_sb_detail_header {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 6px;\n\tpadding: 4px 4px 6px;\n\tborder-bottom: 2px solid var(--pal-acc);\n\tmargin-bottom: 4px;\n}\n\n.pp_sb_back_btn {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 18px;\n\theight: 18px;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tborder-radius: 3px;\n\tflex-shrink: 0;\n}\n\n.pp_sb_back_btn:hover {\n\tcolor: var(--pal-acc-bri);\n\tbackground: rgba(0,0,0,0.05);\n}\n\n.pp_sb_back_btn svg {\n\twidth: 14px;\n\theight: 14px;\n}\n\n.pp_sb_detail_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.9rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n}\n\n/* Vitals */\n.pp_sb_vitals {\n\tpadding: 2px 8px;\n}\n\n.pp_sb_vital_row {\n\tdisplay: flex;\n\talign-items: baseline;\n\tgap: 6px;\n\tpadding: 1px 0;\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tline-height: 1.4;\n}\n\n.pp_sb_vital_key {\n\tcolor: var(--pal-acc);\n\tfont-weight: bold;\n\tflex-shrink: 0;\n\tmin-width: 90px;\n}\n\n.pp_sb_vital_key::after {\n\tcontent: ':';\n\tcolor: var(--pal-pri);\n}\n\n.pp_sb_vital_val {\n\tcolor: var(--pal-pri);\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tflex: 1;\n\tmin-width: 0;\n}\n\n/* Action buttons in detail view */\n.pp_sb_detail_actions {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 4px;\n\tpadding: 6px 8px;\n\tborder-top: 1px solid rgba(0,48,73, 0.1);\n\tborder-bottom: 1px solid rgba(0,48,73, 0.1);\n\tmargin: 4px 0;\n}\n\n.pp_sb_detail_action_btn {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.7rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tcursor: pointer;\n\tpadding: 2px 6px;\n\tborder: 1px solid var(--pal-pri);\n\tborder-radius: 3px;\n}\n\n.pp_sb_detail_action_btn:hover {\n\tcolor: var(--pal-acc-bri);\n\tborder-color: var(--pal-acc-bri);\n\tbackground: rgba(0,0,0,0.05);\n}\n\n/* Section labels */\n.pp_sb_detail_section_label {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-pri);\n\tpadding: 4px 8px 2px;\n\topacity: 0.6;\n}\n\n/* Template entries in detail */\n.pp_sb_detail_tpl_entry {\n\tpadding: 2px 8px;\n\tborder-left: 2px solid transparent;\n}\n\n.pp_sb_detail_tpl_entry:hover {\n\tbackground: rgba(0,48,73, 0.04);\n\tborder-left-color: var(--pal-pri-brt);\n}\n\n.pp_sb_detail_tpl_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n}\n\n.pp_sb_detail_tpl_preview {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.65rem;\n\tcolor: var(--pal-pri);\n\topacity: 0.5;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tpadding-left: 8px;\n}\n\n/* Options list in provider detail */\n.pp_sb_detail_opts_list {\n\tpadding: 2px 8px;\n}\n\n`};\n","module.exports = { CSS: /*CSS*/`\n\n/* Template Browser */\n\n.pp_tb_container {\n\tpadding: 4px;\n}\n\n.pp_tb_filter {\n\tpadding: 2px 8px 4px;\n}\n\n.pp_tb_filter_input {\n\twidth: 100%;\n\tbox-sizing: border-box;\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tpadding: 3px 6px;\n\tborder: 1px solid var(--pal-pri);\n\tborder-radius: 3px;\n\tbackground: transparent;\n\tcolor: var(--pal-pri);\n}\n\n.pp_tb_filter_input:focus {\n\toutline: 2px solid var(--pal-acc-bri);\n\toutline-offset: -1px;\n}\n\n.pp_tb_filter_input::placeholder {\n\tcolor: #999;\n}\n\n/* Editor area */\n.pp_tb_editor {\n\tpadding: 4px 8px;\n\tborder-bottom: 1px solid rgba(0,48,73, 0.15);\n\tmargin-bottom: 4px;\n}\n\n.pp_tb_editor_header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 4px;\n}\n\n.pp_tb_editor_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n}\n\n.pp_tb_editor_textarea {\n\tmin-height: 120px;\n}\n\n/* Template list */\n.pp_tb_entry {\n\tpadding: 3px 8px;\n\tborder-left: 2px solid transparent;\n}\n\n.pp_tb_entry:hover {\n\tbackground: rgba(0,48,73, 0.06);\n\tborder-left-color: var(--pal-pri);\n}\n\n.pp_tb_entry_row {\n\tdisplay: flex;\n\talign-items: baseline;\n\tgap: 6px;\n}\n\n.pp_tb_entry_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n\tflex-shrink: 0;\n}\n\n.pp_tb_entry_source {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.65rem;\n\tcolor: #999;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tflex: 1;\n\tmin-width: 0;\n}\n\n.pp_tb_entry_preview {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.7rem;\n\tcolor: var(--pal-pri);\n\topacity: 0.6;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tpadding-left: 8px;\n}\n\n.pp_tb_empty {\n\tpadding: 8px;\n\tfont-family: Courier, monospace;\n\tfont-size: 0.8rem;\n\tcolor: #999;\n\tfont-style: italic;\n}\n\n`};\n","module.exports = { CSS: /*CSS*/`\n\n/* Template Overrides View */\n\n.pp_to_container {\n\tpadding: 4px;\n}\n\n.pp_to_entry {\n\tpadding: 3px 8px;\n\tborder-left: 2px solid transparent;\n}\n\n.pp_to_entry:hover {\n\tbackground: rgba(0,48,73, 0.06);\n}\n\n.pp_to_active {\n\tborder-left-color: var(--pal-acc);\n}\n\n.pp_to_inactive {\n\tborder-left-color: transparent;\n\topacity: 0.6;\n}\n\n.pp_to_entry_row {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 6px;\n}\n\n.pp_to_toggle {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 16px;\n\theight: 16px;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tcursor: pointer;\n\tflex-shrink: 0;\n}\n\n.pp_to_toggle:hover {\n\tcolor: var(--pal-acc-bri);\n}\n\n.pp_to_entry_hash {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tfont-weight: bold;\n\tcolor: var(--pal-acc);\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tflex: 1;\n\tmin-width: 0;\n}\n\n.pp_to_remove {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 16px;\n\theight: 16px;\n\tcolor: var(--pal-pri);\n\ttext-decoration: none;\n\tcursor: pointer;\n\tflex-shrink: 0;\n\topacity: 0;\n}\n\n.pp_to_entry:hover .pp_to_remove {\n\topacity: 1;\n}\n\n.pp_to_remove:hover {\n\tcolor: #c44;\n}\n\n.pp_to_empty {\n\tfont-family: Courier, monospace;\n\tfont-size: 0.75rem;\n\tcolor: var(--pal-pri);\n\topacity: 0.5;\n\tpadding: 8px;\n}\n\n`};\n","module.exports = { HTML:/*html*/`\n\n\t\t<div id=\"Pict-Panel\">\n\t\t\t<div class=\"pp_hd\">\n\t\t\t\t<div class=\"pp_hd_logo\" id=\"Pict-Panel-Drag\">\n\t\t\t\t\t<svg version=\"1.1\" style=\"display: block\" viewBox=\"0 0 62.3 63\" width=\"62.3\" height=\"63\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" > <g class=\"pplg_border\" transform=\"translate(-0.926,-0.465)\"> <ellipse cx=\"32.1\" cy=\"32\" rx=\"31.1\" ry=\"31.5\" class=\"pplg_border_outer\" /> <ellipse cx=\"32.1\" cy=\"32\" rx=\"29.3\" ry=\"29.6\" class=\"pplg_border_inner\" /> </g> <g class=\"pplg_earth\" transform=\"translate(-0.926,-0.465)\"> <path d=\"m 24.1,58.6 c 5.6,0 11.3,-0.1 16.9,0 -1,0.8 -3,0.8 -4.3,1.2 -4.3,1 -8.7,0.2 -12.8,-0.9 -0.7,-0.3 -0.2,-0.2 0.2,-0.3 z\" /> <path d=\"m 16.8,55.1 c 10.3,0 20.5,0.1 30.8,0 -0.9,0.8 -1.9,1.8 -3,1.9 C 39.7,56.8 34.8,57 29.9,56.9 26.8,57 23.6,56.8 20.4,57 19,57.4 18,56 16.8,55.4 c 0,-0.1 0,-0.2 0,-0.3 z\" /> <path d=\"m 12.9,51.7 c 12.9,-0.1 25.7,0 38.6,0 -0.7,1.7 -2.3,2.1 -4,1.9 -10.6,0 -21.2,0.1 -31.8,0.1 -1.2,0.1 -2.8,-0.9 -2.8,-2 z\" /> <path d=\"m 10,48.2 c 10.4,-0.1 20.8,0 31.1,0 4.5,0 8.9,0 13.3,0 0.3,0.8 -1.2,2.2 -2.2,1.8 -13.5,0 -27,0.1 -40.4,0.1 C 10.9,50 10.1,49 10,48.2 Z\" /> <path d=\"m 55.9,44.3 c 2.3,-0.4 0.4,2.7 -1,2.4 -6.3,-0.5 -12.6,-0.1 -19,-0.2 -8.9,0 -17.8,0.1 -26.64,0 -0.87,-0.1 -2.54,-2.4 -1.01,-2.1 1.3,0 2.35,0.5 3.75,0.3 14,0 28,0 42,0 0.4,-0.5 1.3,-0.3 1.9,-0.4 z\" /> </g> <g style=\"display: block\" transform=\"translate(-0.926,-0.465)\"> <path d=\"m 32,18.9 h 0.3 c 3.5,3.9 0,0 6.2,6.2 0.1,0.2 0.3,0.3 0.4,0.4 0.4,0.5 0.9,0.9 1.3,1.2 h 0.5 c 0.2,-0.3 0.5,-0.6 0.7,-0.9 l 0.5,0.2 c 0.2,0.2 0.2,0.2 0.5,0.6 1.8,2.2 7.5,7 14.7,14.3 0,0 0,0.6 -0.3,1.1 -0.3,0.5 -1.9,1.4 -2.8,1.4 C 46.8,43.1 45,42.9 37.7,43 30.4,43.1 17.7,43.2 10.4,43.4 8.45,43.5 7.45,41.1 7.77,40.8 11.2,37.4 14.9,34.2 18.5,31 21.6,28.3 31,20 32,18.9 Z m 0,2.7 c -7.6,6.3 -15,12.6 -22.2,19.3 -0.34,0.4 0.4,0.8 0.8,0.8 0.4,0 5.2,0.4 18.4,0.4 12.9,-0.2 12.4,-0.3 25.3,-0.5 0.8,-0.2 0.2,-0.6 0,-0.9 C 51,36.2 46,32.8 42.2,28.6 c -0.5,-0.4 -0.8,-0.6 -1.4,0 -3.8,4 -8.2,7.3 -11.9,11.4 -0.1,0.2 -0.5,0.8 -0.7,1 -0.6,0.1 -1.2,0.1 -1.8,0.1 -0.1,0 -0.4,-0.4 -0.1,-0.8 0.1,-0.1 2.1,-1.9 2.7,-2.4 7,-6.5 7.5,-6.7 10,-9.6 l -0.1,-0.5 c -2,-2.1 -4.2,-4.1 -6.3,-6.1 -0.2,-0.1 -0.3,-0.3 -0.6,-0.1 z\" class=\"pplg_mtn\" /> </g> <g class=\"pplg_sky\" transform=\"translate(-0.926,-0.465)\"> <path d=\"m 55.9,25.2 c 1,-0.4 1.7,0.8 1.1,1.5 -3.7,0.3 -7.4,0.3 -11.1,0.3 -0.9,-2 2.6,-1.1 3.7,-1.5 2.1,-0.1 4.2,-0.2 6.3,-0.3 z\" /> <path d=\"m 7.57,25.4 c 3.63,-0.1 7.23,0.2 10.83,0.4 1,1.5 -0.8,1.8 -1.9,1.4 -3,-0.3 -6,-0.3 -9.04,-0.4 -0.24,-0.3 -0.2,-1.1 0.11,-1.4 z\" /> <path d=\"m 54.5,19.1 c 0.7,-0.1 1.1,0.8 0.8,1.3 -2.4,1.2 -5.1,1.8 -7.5,2.9 -0.9,0.4 -3.2,1.4 -2.8,-0.5 3.2,-1.3 6.4,-2.3 9.5,-3.7 z\" /> <path d=\"m 9.58,19.1 c 2.22,0.7 4.32,1.6 6.52,2.4 1.1,0.7 2.4,0.9 3.4,1.6 0.1,0.9 -0.6,1.3 -1.3,0.8 -3,-1.3 -6.1,-2.3 -9.07,-3.6 0,-0.4 0.16,-0.8 0.45,-1.2 z\" /> <path d=\"m 51,14.8 c 2.3,1.1 -0.9,2.2 -1.8,3 -1.8,1.2 -3.6,2.4 -5.3,3.7 -1.3,0.3 -1.1,-1.8 0.2,-1.9 2.3,-1.6 4.6,-3.2 6.9,-4.8 z\" /> <path d=\"m 13.3,14.9 c 1.4,0.3 2.4,1.7 3.7,2.3 1.5,1.3 3.5,2.1 4.7,3.5 -0.2,1.7 -2.1,0 -2.7,-0.4 -2.2,-1.5 -4.3,-3 -6.4,-4.4 0,-0.4 0.3,-0.8 0.7,-1 z\" /> <path d=\"m 46.8,11.5 c 1.8,0.1 1.1,1.7 -0.1,2.3 -2.1,1.7 -3.6,4.1 -5.7,5.8 -1.7,-1 0.9,-2.2 1.4,-3.2 1.4,-1.6 3,-3.2 4.4,-4.9 z\" /> <path d=\"m 17.2,11.4 c 1.4,0.8 2.3,2.4 3.5,3.5 1.1,1.3 2.3,2.5 3.4,3.8 -0.4,1.3 -1.6,0.4 -2.1,-0.4 -1.9,-2 -3.8,-4 -5.6,-6.1 0.2,-0.3 0.5,-0.5 0.8,-0.8 z\" /> <path d=\"m 47.8,28.9 c 2.3,0.7 4.4,1.9 6.7,2.7 1.6,-0.2 1.3,2.4 -0.1,1.6 -2.2,-1.2 -4.7,-1.9 -6.9,-3 -0.1,-0.5 0,-0.9 0.3,-1.3 z\" /> <path d=\"m 15.6,29.3 c 1.6,-0.4 1.2,1.7 -0.2,1.5 -2,0.8 -4,1.5 -6.05,2.2 -0.79,-0.2 -0.95,-1.7 0,-1.6 2.15,-0.5 4.15,-1.4 6.25,-2.1 z\" /> </g> <g class=\"pplg_stars\" transform=\"translate(-0.926,-0.465)\"> <circle class=\"pplg_ceres\" cx=\"32.1\" cy=\"12.7\" r=\"7.19\" /> <path d=\"m 28.6,16.1 c 0.4,0 0.9,-0.2 1.2,0.2 0.3,0.3 0.3,0.9 -0.1,1.1 -0.3,0.3 -0.8,0.4 -1.2,0.1 -0.3,-0.2 -0.3,-0.6 -0.2,-1 0.1,-0.2 0.2,-0.3 0.3,-0.4 z\" class=\"pplg_crater\" /> <path d=\"m 28.2,11.9 c 0.4,-0.1 0.8,-0.1 1.1,0.2 0.3,0.2 0.7,0.6 0.6,1.1 0,0.3 -0.1,0.7 -0.3,1 -0.2,0.2 -0.6,0.4 -0.9,0.4 -0.6,0 -1.1,-0.4 -1.3,-0.9 -0.3,-0.4 -0.2,-0.9 0.2,-1.3 0.1,-0.2 0.3,-0.4 0.6,-0.5 z\" class=\"pplg_crater\" /> <path d=\"m 28.4,8.19 c 0.5,0 1.1,0.15 1.3,0.66 0.2,0.37 0.1,0.83 -0.2,1.08 -0.4,0.47 -1.2,0.37 -1.6,0 C 27.6,9.59 27.6,9.09 27.8,8.77 28,8.56 28.1,8.28 28.4,8.19 Z\" class=\"pplg_crater\" /> <path d=\"m 41.5,8.78 0.3,0.96 c 0.2,0.15 0.8,0.11 1,0.26 l -1,0.4 c -0.1,0.3 -0.2,0.8 -0.3,1 C 41.4,11.1 41.3,10.7 41.1,10.3 41,10.2 40.4,10.2 40.2,10.1 40.5,10 40.9,9.84 41.1,9.73 L 41.2,9.46 C 41.3,9.23 41.4,9 41.5,8.78 Z\" class=\"pplg_star\" /> </g> </svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"pp_hd_pict\">\n\t\t\t\t\t<span class=\"pp_hd_p_p\">P</span><span class=\"pp_hd_p_i\">I</span><span class=\"pp_hd_p_c\">C</span><span class=\"pp_hd_p_i\">T</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"pp_hd_control\">\n\t\t\t\t\t<div class=\"pp_sz_con\">\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"lock_position\">\n\t\t\t\t\t\t\t<div class=\"pp_sz_icon off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-unlock\"><rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect><path d=\"M7 11V7a5 5 0 0 1 9.9-1\"></path></svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"pp_sz_icon on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-lock\"><rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect><path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path></svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"pin_top\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M112 328l144-144 144 144\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M112 244l144-144 144 144M256 120v292\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"maximize_mode\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-minimize\"><path d=\"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3\"></path></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"tab_mode\">\n\t\t\t\t\t\t\t<span class=\"off hover_on on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M160 256a16 16 0 0116-16h144V136c0-32-33.79-56-64-56H104a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h160a56.06 56.06 0 0056-56V272H176a16 16 0 01-16-16zM459.31 244.69l-80-80a16 16 0 00-22.62 22.62L409.37 240H320v32h89.37l-52.68 52.69a16 16 0 1022.62 22.62l80-80a16 16 0 000-22.62z\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"night_mode\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M264 480A232 232 0 0132 248c0-94 54-178.28 137.61-214.67a16 16 0 0121.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200 31.34 0 59.57-5.07 81.61-14.67a16 16 0 0121.06 21.06C442.28 426 358 480 264 480z\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M256 118a22 22 0 01-22-22V48a22 22 0 0144 0v48a22 22 0 01-22 22zM256 486a22 22 0 01-22-22v-48a22 22 0 0144 0v48a22 22 0 01-22 22zM369.14 164.86a22 22 0 01-15.56-37.55l33.94-33.94a22 22 0 0131.11 31.11l-33.94 33.94a21.93 21.93 0 01-15.55 6.44zM108.92 425.08a22 22 0 01-15.55-37.56l33.94-33.94a22 22 0 1131.11 31.11l-33.94 33.94a21.94 21.94 0 01-15.56 6.45zM464 278h-48a22 22 0 010-44h48a22 22 0 010 44zM96 278H48a22 22 0 010-44h48a22 22 0 010 44zM403.08 425.08a21.94 21.94 0 01-15.56-6.45l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.55 37.56zM142.86 164.86a21.89 21.89 0 01-15.55-6.44l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.56 37.55zM256 358a102 102 0 11102-102 102.12 102.12 0 01-102 102z\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"pin_right\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M184 112l144 144-144 144\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M268 112l144 144-144 144M392 256H100\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"resize_handle\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M304 96l112 112M421.8 421.77L90.2 90.23\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M176 112l80-80 80 80M255.98 32l.02 448M176 400l80 80 80-80M400 176l80 80-80 80M112 176l-80 80 80 80M32 256h448\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"show_ui\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M400 256H112\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M64 164v244a56 56 0 0056 56h272a56 56 0 0056-56V164a4 4 0 00-4-4H68a4 4 0 00-4 4zm267 151.63l-63.69 63.68a16 16 0 01-22.62 0L181 315.63c-6.09-6.09-6.65-16-.85-22.38a16 16 0 0123.16-.56L240 329.37V224.45c0-8.61 6.62-16 15.23-16.43A16 16 0 01272 224v105.37l36.69-36.68a16 16 0 0123.16.56c5.8 6.37 5.24 16.29-.85 22.38z\"/><rect x=\"32\" y=\"48\" width=\"448\" height=\"80\" rx=\"32\" ry=\"32\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"unchecked\" data-i-toggle=\"show_navigation\">\n\t\t\t\t\t\t\t<span class=\"off hover_on\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><circle cx=\"256\" cy=\"256\" r=\"48\"/><circle cx=\"256\" cy=\"416\" r=\"48\"/><circle cx=\"256\" cy=\"96\" r=\"48\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"on hover_off\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"48\" d=\"M88 152h336M88 256h336M88 360h336\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"pp_nav\">\n\t\t\t\t<div class=\"pp_nav_elements\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"pp_content\">\n\t\t\t</div>\n\t\t</div>\n\n`};","module.exports = { HTML:/*html*/`\n\n<div>\n\t<span data-nav=\"PP-ADB\"><a href=\"#\" onclick=\"_Pict.providers['PP-Router'].navigateTo('PP-ADB');\"><b class=\"pp_nav_short\">Ad</b><em class=\"pp_nav_long\">AppData</em></a></span>\n\t<span data-nav=\"PP-TB\"><a href=\"#\" onclick=\"_Pict.providers['PP-Router'].navigateTo('PP-TB');\"><b class=\"pp_nav_short\">Tp</b><em class=\"pp_nav_long\">Templates</em></a></span>\n\t<span data-nav=\"PP-VB\"><a href=\"#\" onclick=\"_Pict.providers['PP-Router'].navigateTo('PP-VB');\"><b class=\"pp_nav_short\">Vw</b><em class=\"pp_nav_long\">Views</em></a></span>\n\t<span data-nav=\"PP-PB\"><a href=\"#\" onclick=\"_Pict.providers['PP-Router'].navigateTo('PP-PB');\"><b class=\"pp_nav_short\">Pr</b><em class=\"pp_nav_long\">Providers</em></a></span>\n\t<span data-nav=\"PP-TO\"><a href=\"#\" onclick=\"_Pict.providers['PP-Router'].navigateTo('PP-TO');\"><b class=\"pp_nav_short\">Ov</b><em class=\"pp_nav_long\">Overrides</em></a></span>\n</div>\n\n`};\n","const libPictProvider = require('pict-provider');\n\nconst _DEFAULT_PROVIDER_CONFIGURATION = \n{\n\tProviderIdentifier: 'PP-CSS-Hotloader',\n\tAutoInitialize: false,\n\tAutoSolveWithApp: false,\n\n\tCustomPanelCSS: \n\t\t// Not great but cute.\n\t\t// The order of these matter.\n\t\t// And this is still simpler to work with than slow-ass sass or less.\n\t\trequire('../css/PP-Palette-CSS.js').CSS\n\t\t+ require('../css/PP-Panel-CSS.js').CSS \n\t\t+ require('../css/PP-Logo-CSS.js').CSS\n\t\t+ require('../css/PP-AppDataBrowser-CSS.js').CSS\n\t\t+ require('../css/PP-TemplateBrowser-CSS.js').CSS\n\t\t+ require('../css/PP-ServiceBrowser-CSS.js').CSS\n\t\t+ require('../css/PP-TemplateOverrides-CSS.js').CSS\n}\n\nclass PictPanelCSSHotloader extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpOptions = Object.assign({}, _DEFAULT_PROVIDER_CONFIGURATION, pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\n\t\tthis.injectedCSS = false;\n\t}\n\n\t// TODO: This seems useful outside of the panel app ... maybe a core provider?\n\thotloadCSS()\n\t{\n\t\tif (this.injectedCSS) return;\n\n\t\t// Load the custom CSS for the container into its own style tag\n\t\tlet tmpCSSContainer = this.pict.ContentAssignment.getElement('#Pict-Panel-Container-CSS');\n\t\t// This does not use the PICT CSS functionality because we don't want to pollute whatever the normal app is doing with it.\n\t\tif (!Array.isArray(tmpCSSContainer) || tmpCSSContainer.length === 0)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tlet tmpCSS = document.createElement('style');\n\t\t\t\ttmpCSS.id = 'Pict-Panel-Container-CSS';\n\t\t\t\ttmpCSS.innerHTML = this.options.CustomPanelCSS;\n\t\t\t\tdocument.head.appendChild(tmpCSS);\n\t\t\t}\n\t\t\tcatch (pError)\n\t\t\t{\n\t\t\t\tconsole.error('Error adding custom CSS to head in Pict-Panel onBeforeRender:', pError);\n\t\t\t}\n\t\t}\n\t\tthis.injectedCSS = true;\n\n\t\treturn true;\n\t}\n}\n\nmodule.exports = PictPanelCSSHotloader;\nmodule.exports.default_configuration = _DEFAULT_PROVIDER_CONFIGURATION;","const libPictProvider = require('pict-provider');\n\nconst _DEFAULT_PROVIDER_CONFIGURATION =\n{\n\tProviderIdentifier: 'PP-ConfigStorage',\n\tAutoInitialize: false,\n\tAutoSolveWithApp: false,\n\n\tStorageKey: 'PictPanel'\n};\n\nclass PictPanelConfigStorage extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpOptions = Object.assign({}, _DEFAULT_PROVIDER_CONFIGURATION, pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\t}\n\n\tsave(pUIState)\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet tmpConfig = {\n\t\t\t\tBehaviors: Object.assign({}, pUIState.Behaviors),\n\t\t\t\tManualTop: pUIState.ManualTop,\n\t\t\t\tManualLeft: pUIState.ManualLeft,\n\t\t\t\tManualWidth: pUIState.ManualWidth\n\t\t\t};\n\n\t\t\t// Also save current panel element position/size if available\n\t\t\tlet tmpPanelElement = document.getElementById('Pict-Panel');\n\t\t\tif (tmpPanelElement)\n\t\t\t{\n\t\t\t\ttmpConfig.PanelStyle = {\n\t\t\t\t\ttop: tmpPanelElement.style.top,\n\t\t\t\t\tleft: tmpPanelElement.style.left,\n\t\t\t\t\tright: tmpPanelElement.style.right,\n\t\t\t\t\twidth: tmpPanelElement.style.width,\n\t\t\t\t\theight: tmpPanelElement.style.height\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Save the active navigation view hash\n\t\t\tif (this.pict.providers['PP-Router'] && this.pict.providers['PP-Router'].activeView)\n\t\t\t{\n\t\t\t\ttmpConfig.ActiveView = this.pict.providers['PP-Router'].activeView;\n\t\t\t}\n\n\t\t\tlocalStorage.setItem(this.options.StorageKey, JSON.stringify(tmpConfig));\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('PP-ConfigStorage failed to save: ' + pError.message);\n\t\t}\n\t}\n\n\tload()\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet tmpRaw = localStorage.getItem(this.options.StorageKey);\n\t\t\tif (!tmpRaw) return false;\n\n\t\t\tlet tmpConfig = JSON.parse(tmpRaw);\n\t\t\treturn tmpConfig;\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('PP-ConfigStorage failed to load: ' + pError.message);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tclear()\n\t{\n\t\ttry\n\t\t{\n\t\t\tlocalStorage.removeItem(this.options.StorageKey);\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('PP-ConfigStorage failed to clear: ' + pError.message);\n\t\t}\n\t}\n\n\tapplyConfig(pMainView)\n\t{\n\t\tlet tmpConfig = this.load();\n\t\tif (!tmpConfig) return false;\n\n\t\t// Apply saved behaviors\n\t\tif (tmpConfig.Behaviors)\n\t\t{\n\t\t\tlet tmpKeys = Object.keys(tmpConfig.Behaviors);\n\t\t\tfor (let i = 0; i < tmpKeys.length; i++)\n\t\t\t{\n\t\t\t\tif (tmpKeys[i] in pMainView.uiState.Behaviors)\n\t\t\t\t{\n\t\t\t\t\tpMainView.uiState.Behaviors[tmpKeys[i]] = tmpConfig.Behaviors[tmpKeys[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Apply saved manual position values\n\t\tif ('ManualTop' in tmpConfig) pMainView.uiState.ManualTop = tmpConfig.ManualTop;\n\t\tif ('ManualLeft' in tmpConfig) pMainView.uiState.ManualLeft = tmpConfig.ManualLeft;\n\t\tif ('ManualWidth' in tmpConfig) pMainView.uiState.ManualWidth = tmpConfig.ManualWidth;\n\n\t\t// Apply saved panel element styles after render\n\t\tif (tmpConfig.PanelStyle)\n\t\t{\n\t\t\tlet tmpPanelElement = document.getElementById('Pict-Panel');\n\t\t\tif (tmpPanelElement)\n\t\t\t{\n\t\t\t\tif (tmpConfig.PanelStyle.top) tmpPanelElement.style.top = tmpConfig.PanelStyle.top;\n\t\t\t\tif (tmpConfig.PanelStyle.left) tmpPanelElement.style.left = tmpConfig.PanelStyle.left;\n\t\t\t\tif (tmpConfig.PanelStyle.right) tmpPanelElement.style.right = tmpConfig.PanelStyle.right;\n\t\t\t\tif (tmpConfig.PanelStyle.width) tmpPanelElement.style.width = tmpConfig.PanelStyle.width;\n\t\t\t\tif (tmpConfig.PanelStyle.height) tmpPanelElement.style.height = tmpConfig.PanelStyle.height;\n\t\t\t}\n\t\t}\n\n\t\t// Apply behavior-driven UI state\n\t\tlet tmpPanelElement = document.getElementById('Pict-Panel');\n\t\tif (tmpPanelElement)\n\t\t{\n\t\t\t// Tab mode\n\t\t\tif (pMainView.uiState.Behaviors.tab_mode)\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.add('pp_tab_mode');\n\t\t\t}\n\n\t\t\t// Night mode class\n\t\t\tif (pMainView.uiState.Behaviors.night_mode)\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.add('pp_dark_mode');\n\t\t\t}\n\n\t\t\t// Resize handle lock\n\t\t\tif (!pMainView.uiState.Behaviors.resize_handle)\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.add('pp_no_resize');\n\t\t\t}\n\n\t\t\t// Pin right\n\t\t\tif (pMainView.uiState.Behaviors.pin_right)\n\t\t\t{\n\t\t\t\ttmpPanelElement.style.left = '';\n\t\t\t\ttmpPanelElement.style.right = '-3px';\n\t\t\t}\n\n\t\t\t// Pin top\n\t\t\tif (pMainView.uiState.Behaviors.pin_top)\n\t\t\t{\n\t\t\t\ttmpPanelElement.style.top = '-3px';\n\t\t\t}\n\n\t\t\t// show_ui hides nav + content\n\t\t\tif (!pMainView.uiState.Behaviors.show_ui)\n\t\t\t{\n\t\t\t\tlet tmpNavElement = tmpPanelElement.querySelector('.pp_nav');\n\t\t\t\tlet tmpContentElement = tmpPanelElement.querySelector('.pp_content');\n\t\t\t\tif (tmpNavElement) tmpNavElement.style.display = 'none';\n\t\t\t\tif (tmpContentElement) tmpContentElement.style.display = 'none';\n\t\t\t}\n\n\t\t\t// show_navigation hides nav\n\t\t\tif (!pMainView.uiState.Behaviors.show_navigation)\n\t\t\t{\n\t\t\t\tlet tmpNavElement = tmpPanelElement.querySelector('.pp_nav');\n\t\t\t\tif (tmpNavElement) tmpNavElement.style.display = 'none';\n\t\t\t}\n\t\t}\n\n\t\t// Update all toggle icon displays\n\t\tpMainView.initializePanelIcons();\n\n\t\t// Restore the active navigation view\n\t\tif (tmpConfig.ActiveView && this.pict.providers['PP-Router'])\n\t\t{\n\t\t\tthis.pict.providers['PP-Router'].navigateTo(tmpConfig.ActiveView);\n\t\t}\n\n\t\treturn tmpConfig;\n\t}\n}\n\nmodule.exports = PictPanelConfigStorage;\nmodule.exports.default_configuration = _DEFAULT_PROVIDER_CONFIGURATION;\n","const libPictProvider = require('pict-provider');\n\nconst _DEFAULT_PROVIDER_CONFIGURATION = \n{\n\tProviderIdentifier: 'PP-Router',\n\tAutoInitialize: false,\n\tAutoSolveWithApp: false\n}\n\nclass PictPanelRouter extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpOptions = Object.assign({}, _DEFAULT_PROVIDER_CONFIGURATION, pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\n\t\tthis.activeView = false;\n\t}\n\n\tnavigateTo(pViewHash)\n\t{\n\t\tif (this.activeView === pViewHash)\n\t\t{\n\t\t\t// TODO: Allow for subtlety in views reloading versus rendering\n\t\t\treturn false;\n\t\t}\n\n\t\tif (pViewHash in this.pict.views)\n\t\t{\n\t\t\tthis.activeView = pViewHash;\n\t\t\tthis.pict.views[pViewHash].render();\n\n\t\t\t// Update the active nav highlight\n\t\t\tlet tmpNavItems = document.querySelectorAll('#Pict-Panel .pp_nav span[data-nav]');\n\t\t\tfor (let i = 0; i < tmpNavItems.length; i++)\n\t\t\t{\n\t\t\t\tif (tmpNavItems[i].getAttribute('data-nav') === pViewHash)\n\t\t\t\t{\n\t\t\t\t\ttmpNavItems[i].classList.add('pp_nav_active');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpNavItems[i].classList.remove('pp_nav_active');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Persist the active view selection\n\t\t\tif (this.pict.providers['PP-ConfigStorage'] && this.pict.views['PP-Main'])\n\t\t\t{\n\t\t\t\tthis.pict.providers['PP-ConfigStorage'].save(this.pict.views['PP-Main'].uiState);\n\t\t\t}\n\t\t}\n\t}\n}\n\nmodule.exports = PictPanelRouter;\nmodule.exports.default_configuration = _DEFAULT_PROVIDER_CONFIGURATION;","const libPictProvider = require('pict-provider');\n\nconst _DEFAULT_PROVIDER_CONFIGURATION =\n{\n\tProviderIdentifier: 'PP-TemplateOverrideStorage',\n\tAutoInitialize: false,\n\tAutoSolveWithApp: false,\n\n\tStorageKey: 'PictPanel-TemplateOverrides'\n};\n\nclass PictPanelTemplateOverrideStorage extends libPictProvider\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tlet tmpOptions = Object.assign({}, _DEFAULT_PROVIDER_CONFIGURATION, pOptions);\n\t\tsuper(pFable, tmpOptions, pServiceHash);\n\t}\n\n\t/**\n\t * Load all overrides from localStorage.\n\t * @returns {Object} Map of { TemplateHash: { Original, Override, Active } }\n\t */\n\tloadOverrides()\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet tmpRaw = localStorage.getItem(this.options.StorageKey);\n\t\t\tif (!tmpRaw) return {};\n\t\t\treturn JSON.parse(tmpRaw);\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('PP-TemplateOverrideStorage failed to load: ' + pError.message);\n\t\t\treturn {};\n\t\t}\n\t}\n\n\t/**\n\t * Persist the full overrides map to localStorage.\n\t */\n\t_persist(pOverrides)\n\t{\n\t\ttry\n\t\t{\n\t\t\tlocalStorage.setItem(this.options.StorageKey, JSON.stringify(pOverrides));\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('PP-TemplateOverrideStorage failed to save: ' + pError.message);\n\t\t}\n\t}\n\n\t/**\n\t * Save (or update) an override entry.\n\t * If this hash already has an override, only the Override content is updated.\n\t */\n\tsaveOverride(pHash, pOriginal, pOverride)\n\t{\n\t\tlet tmpOverrides = this.loadOverrides();\n\n\t\tif (tmpOverrides[pHash])\n\t\t{\n\t\t\t// Already have an original snapshot -- just update the override content\n\t\t\ttmpOverrides[pHash].Override = pOverride;\n\t\t\ttmpOverrides[pHash].Active = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOverrides[pHash] = {\n\t\t\t\tOriginal: pOriginal,\n\t\t\t\tOverride: pOverride,\n\t\t\t\tActive: true\n\t\t\t};\n\t\t}\n\n\t\tthis._persist(tmpOverrides);\n\t\tthis.log.trace(`Override saved for template [${pHash}]`);\n\t}\n\n\t/**\n\t * Remove an override entry and restore the original template.\n\t */\n\tremoveOverride(pHash)\n\t{\n\t\tlet tmpOverrides = this.loadOverrides();\n\t\tif (!tmpOverrides[pHash]) return;\n\n\t\t// Restore the original template before removing the entry\n\t\tlet tmpOriginal = tmpOverrides[pHash].Original;\n\t\tthis.pict.TemplateProvider.addTemplate(pHash, tmpOriginal);\n\n\t\tdelete tmpOverrides[pHash];\n\t\tthis._persist(tmpOverrides);\n\t\tthis.log.trace(`Override removed for template [${pHash}]`);\n\t}\n\n\t/**\n\t * Toggle a single override on or off.\n\t */\n\ttoggleOverride(pHash, pActive)\n\t{\n\t\tlet tmpOverrides = this.loadOverrides();\n\t\tif (!tmpOverrides[pHash]) return;\n\n\t\ttmpOverrides[pHash].Active = pActive;\n\t\tthis._persist(tmpOverrides);\n\n\t\tif (pActive)\n\t\t{\n\t\t\tthis.pict.TemplateProvider.addTemplate(pHash, tmpOverrides[pHash].Override);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.pict.TemplateProvider.addTemplate(pHash, tmpOverrides[pHash].Original);\n\t\t}\n\n\t\tthis.log.trace(`Override for [${pHash}] set to ${pActive ? 'active' : 'inactive'}`);\n\t}\n\n\t/**\n\t * Toggle all overrides on or off.\n\t */\n\ttoggleAll(pActive)\n\t{\n\t\tlet tmpOverrides = this.loadOverrides();\n\t\tlet tmpHashes = Object.keys(tmpOverrides);\n\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\ttmpOverrides[tmpHash].Active = pActive;\n\n\t\t\tif (pActive)\n\t\t\t{\n\t\t\t\tthis.pict.TemplateProvider.addTemplate(tmpHash, tmpOverrides[tmpHash].Override);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.pict.TemplateProvider.addTemplate(tmpHash, tmpOverrides[tmpHash].Original);\n\t\t\t}\n\t\t}\n\n\t\tthis._persist(tmpOverrides);\n\t\tthis.log.trace(`All overrides set to ${pActive ? 'active' : 'inactive'}`);\n\t}\n\n\t/**\n\t * Apply all active overrides. Called on panel init after page reload.\n\t */\n\tapplyOverrides()\n\t{\n\t\tlet tmpOverrides = this.loadOverrides();\n\t\tlet tmpHashes = Object.keys(tmpOverrides);\n\t\tlet tmpApplied = 0;\n\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tif (tmpOverrides[tmpHash].Active)\n\t\t\t{\n\t\t\t\tthis.pict.TemplateProvider.addTemplate(tmpHash, tmpOverrides[tmpHash].Override);\n\t\t\t\ttmpApplied++;\n\t\t\t}\n\t\t}\n\n\t\tif (tmpApplied > 0)\n\t\t{\n\t\t\tthis.log.info(`Applied ${tmpApplied} template override(s)`);\n\t\t}\n\t}\n}\n\nmodule.exports = PictPanelTemplateOverrideStorage;\nmodule.exports.default_configuration = _DEFAULT_PROVIDER_CONFIGURATION;\n","const libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"PP-Panel\",\n\n\t\tDefaultRenderable: \"Pict-Panel-Container\",\n\t\tDefaultDestinationAddress: \"body\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"Pict-Panel-Container\",\n\t\t\t\tTemplate: /*html*/`<div id=\"Pict-Panel-Container\"></div>`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"Pict-Panel-Container\",\n\t\t\t\tTemplateHash: \"Pict-Panel-Container\",\n\t\t\t\tContentDestinationAddress: \"body\",\n\t\t\t\tRenderMethod: \"append_once\",\n\t\t\t\tTestAddress: \"#Pict-Panel-Container\"\n\t\t\t}]\n\t});\n\nclass PictPanelContainer extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonBeforeRender()\n\t{\n\t\tthis.pict.providers['PP-CSS-Hotloader'].hotloadCSS();\n\t}\n\n\tonAfterRender()\n\t{\n\t\tthis.pict.views['PP-Main'].render();\n\t\treturn super.onAfterRender();\n\t}\n}\n\nmodule.exports = PictPanelContainer;\nmodule.exports.default_configuration = _ViewConfiguration;","const libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"PP-Main\",\n\n\t\tDefaultRenderable: \"PP-Main\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel-Container\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-Main\",\n\t\t\t\tTemplate: require('../html/PP-Main-HTML.js').HTML,\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-Main\",\n\t\t\t\tTemplateHash: \"PP-Main\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel-Container\"\n\t\t\t}]\n\t});\n\nclass PictPanelMain extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis.uiState = {\n\t\t\tWired: false,\n\n\t\t\tBehaviors:\n\t\t\t{\n\t\t\t\t// Put the panel in tab mode\n\t\t\t\ttab_mode: false,\n\t\t\t\t// Make the panel header big or small\n\t\t\t\tmaximize_mode: false,\n\t\t\t\t// Lock the position of the panel.\n\t\t\t\tlock_position: false,\n\t\t\t\t// Pin current top location to the top of the screen.\n\t\t\t\tpin_top: false,\n\t\t\t\t// Pin current right location to the right side of the screen.\n\t\t\t\tpin_right: false,\n\t\t\t\tnight_mode: false,\n\t\t\t\tresize_handle: true,\n\t\t\t\tshow_ui: true,\n\t\t\t\tshow_navigation: true,\n\t\t\t\tvisible: true\n\t\t\t},\n\n\t\t\tManualTop: 0,\n\t\t\tManualLeft: 0,\n\t\t\tManualWidth: 300,\n\n\t\t\t// Saved position/size before maximize\n\t\t\tSavedPosition: false,\n\t\t\t// Saved position/size before tab mode\n\t\t\tSavedTabPosition: false\n\t\t};\n\t}\n\n\tonAfterRender()\n\t{\n\t\t// After rendering the panel, wire up the drag events.\n\t\tthis.wireDragEvents();\n\n\t\t// Render the navigation\n\t\tthis.pict.views['PP-Nav'].render();\n\n\t\treturn super.onAfterRender();\n\t}\n\n\tupdateUIBehaviorDisplay(pBehaviorHash)\n\t{\n\t\tlet tmpBehaviorToggleElementAddress = `#Pict-Panel [data-i-toggle=${pBehaviorHash}]`;\n\t\tlet tmpBehaviorToggleElement = this.pict.ContentAssignment.getElement(tmpBehaviorToggleElementAddress);\n\t\tif (!tmpBehaviorToggleElement) return;\n\n\t\tlet tmpBehaviorState = this.uiState.Behaviors[pBehaviorHash];\n\t\tif (tmpBehaviorState)\n\t\t{\n\t\t\tif (this.pict.ContentAssignment.hasClass(tmpBehaviorToggleElementAddress, \"unchecked\"))\n\t\t\t{\n\t\t\t\tthis.pict.ContentAssignment.removeClass(tmpBehaviorToggleElementAddress, \"unchecked\")\n\t\t\t}\n\t\t\tif (!this.pict.ContentAssignment.hasClass(tmpBehaviorToggleElementAddress, \"checked\"))\n\t\t\t{\n\t\t\t\tthis.pict.ContentAssignment.addClass(tmpBehaviorToggleElementAddress, \"checked\")\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.pict.ContentAssignment.hasClass(tmpBehaviorToggleElementAddress, \"checked\"))\n\t\t\t{\n\t\t\t\tthis.pict.ContentAssignment.removeClass(tmpBehaviorToggleElementAddress, \"checked\")\n\t\t\t}\n\t\t\tif (!this.pict.ContentAssignment.hasClass(tmpBehaviorToggleElementAddress, \"unchecked\"))\n\t\t\t{\n\t\t\t\tthis.pict.ContentAssignment.addClass(tmpBehaviorToggleElementAddress, \"unchecked\")\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggleUIBehavior(pBehaviorHash)\n\t{\n\t\tthis.log.trace(`Toggling behavior ${pBehaviorHash} ...`);\n\t\tthis.uiState.Behaviors[pBehaviorHash] = !this.uiState.Behaviors[pBehaviorHash];\n\t\tthis.updateUIBehaviorDisplay(pBehaviorHash);\n\n\t\tlet tmpPanelElement = document.getElementById('Pict-Panel');\n\t\tif (!tmpPanelElement) return;\n\n\t\tif (pBehaviorHash === 'maximize_mode')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.maximize_mode)\n\t\t\t{\n\t\t\t\t// Save current position and size before maximizing\n\t\t\t\tthis.uiState.SavedPosition = {\n\t\t\t\t\ttop: tmpPanelElement.style.top,\n\t\t\t\t\tleft: tmpPanelElement.style.left,\n\t\t\t\t\tright: tmpPanelElement.style.right,\n\t\t\t\t\twidth: tmpPanelElement.style.width,\n\t\t\t\t\tminWidth: tmpPanelElement.style.minWidth,\n\t\t\t\t\tmaxWidth: tmpPanelElement.style.maxWidth,\n\t\t\t\t\theight: tmpPanelElement.style.height,\n\t\t\t\t\tmaxHeight: tmpPanelElement.style.maxHeight\n\t\t\t\t};\n\n\t\t\t\t// Maximize with 15px padding on all sides\n\t\t\t\ttmpPanelElement.style.top = '15px';\n\t\t\t\ttmpPanelElement.style.left = '15px';\n\t\t\t\ttmpPanelElement.style.right = '15px';\n\t\t\t\ttmpPanelElement.style.width = 'calc(100vw - 30px)';\n\t\t\t\ttmpPanelElement.style.minWidth = '0';\n\t\t\t\ttmpPanelElement.style.maxWidth = 'none';\n\t\t\t\ttmpPanelElement.style.height = 'calc(100vh - 30px)';\n\t\t\t\ttmpPanelElement.style.maxHeight = 'none';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Restore saved position and size\n\t\t\t\tif (this.uiState.SavedPosition)\n\t\t\t\t{\n\t\t\t\t\ttmpPanelElement.style.top = this.uiState.SavedPosition.top;\n\t\t\t\t\ttmpPanelElement.style.left = this.uiState.SavedPosition.left;\n\t\t\t\t\ttmpPanelElement.style.right = this.uiState.SavedPosition.right;\n\t\t\t\t\ttmpPanelElement.style.width = this.uiState.SavedPosition.width;\n\t\t\t\t\ttmpPanelElement.style.minWidth = this.uiState.SavedPosition.minWidth;\n\t\t\t\t\ttmpPanelElement.style.maxWidth = this.uiState.SavedPosition.maxWidth;\n\t\t\t\t\ttmpPanelElement.style.height = this.uiState.SavedPosition.height;\n\t\t\t\t\ttmpPanelElement.style.maxHeight = this.uiState.SavedPosition.maxHeight;\n\t\t\t\t\tthis.uiState.SavedPosition = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// No saved position -- reset to defaults\n\t\t\t\t\ttmpPanelElement.style.top = '';\n\t\t\t\t\ttmpPanelElement.style.left = '';\n\t\t\t\t\ttmpPanelElement.style.right = '';\n\t\t\t\t\ttmpPanelElement.style.width = '';\n\t\t\t\t\ttmpPanelElement.style.minWidth = '';\n\t\t\t\t\ttmpPanelElement.style.maxWidth = '';\n\t\t\t\t\ttmpPanelElement.style.height = '';\n\t\t\t\t\ttmpPanelElement.style.maxHeight = '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'tab_mode')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.tab_mode)\n\t\t\t{\n\t\t\t\t// Save current position/size before collapsing\n\t\t\t\tthis.uiState.SavedTabPosition = {\n\t\t\t\t\ttop: tmpPanelElement.style.top,\n\t\t\t\t\tleft: tmpPanelElement.style.left,\n\t\t\t\t\tright: tmpPanelElement.style.right,\n\t\t\t\t\twidth: tmpPanelElement.style.width,\n\t\t\t\t\tminWidth: tmpPanelElement.style.minWidth,\n\t\t\t\t\tmaxWidth: tmpPanelElement.style.maxWidth,\n\t\t\t\t\theight: tmpPanelElement.style.height,\n\t\t\t\t\tmaxHeight: tmpPanelElement.style.maxHeight\n\t\t\t\t};\n\t\t\t\t// Clear inline styles so the CSS class takes effect\n\t\t\t\ttmpPanelElement.style.top = '';\n\t\t\t\ttmpPanelElement.style.left = '';\n\t\t\t\ttmpPanelElement.style.right = '';\n\t\t\t\ttmpPanelElement.style.width = '';\n\t\t\t\ttmpPanelElement.style.minWidth = '';\n\t\t\t\ttmpPanelElement.style.maxWidth = '';\n\t\t\t\ttmpPanelElement.style.height = '';\n\t\t\t\ttmpPanelElement.style.maxHeight = '';\n\t\t\t\ttmpPanelElement.classList.add('pp_tab_mode');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.remove('pp_tab_mode');\n\t\t\t\t// Restore saved position/size\n\t\t\t\tif (this.uiState.SavedTabPosition)\n\t\t\t\t{\n\t\t\t\t\ttmpPanelElement.style.top = this.uiState.SavedTabPosition.top;\n\t\t\t\t\ttmpPanelElement.style.left = this.uiState.SavedTabPosition.left;\n\t\t\t\t\ttmpPanelElement.style.right = this.uiState.SavedTabPosition.right;\n\t\t\t\t\ttmpPanelElement.style.width = this.uiState.SavedTabPosition.width;\n\t\t\t\t\ttmpPanelElement.style.minWidth = this.uiState.SavedTabPosition.minWidth;\n\t\t\t\t\ttmpPanelElement.style.maxWidth = this.uiState.SavedTabPosition.maxWidth;\n\t\t\t\t\ttmpPanelElement.style.height = this.uiState.SavedTabPosition.height;\n\t\t\t\t\ttmpPanelElement.style.maxHeight = this.uiState.SavedTabPosition.maxHeight;\n\t\t\t\t\tthis.uiState.SavedTabPosition = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'resize_handle')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.resize_handle)\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.remove('pp_no_resize');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.add('pp_no_resize');\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'pin_right')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.pin_right)\n\t\t\t{\n\t\t\t\ttmpPanelElement.style.left = '';\n\t\t\t\ttmpPanelElement.style.right = '-3px';\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'pin_top')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.pin_top)\n\t\t\t{\n\t\t\t\ttmpPanelElement.style.top = '-3px';\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'show_ui')\n\t\t{\n\t\t\tlet tmpNavElement = tmpPanelElement.querySelector('.pp_nav');\n\t\t\tlet tmpContentElement = tmpPanelElement.querySelector('.pp_content');\n\t\t\tlet tmpDisplay = this.uiState.Behaviors.show_ui ? '' : 'none';\n\t\t\tif (tmpNavElement)\n\t\t\t{\n\t\t\t\ttmpNavElement.style.display = tmpDisplay;\n\t\t\t}\n\t\t\tif (tmpContentElement)\n\t\t\t{\n\t\t\t\ttmpContentElement.style.display = tmpDisplay;\n\t\t\t}\n\t\t\t// When maximized, collapse height to just the header bar\n\t\t\tif (this.uiState.Behaviors.maximize_mode)\n\t\t\t{\n\t\t\t\tif (!this.uiState.Behaviors.show_ui)\n\t\t\t\t{\n\t\t\t\t\ttmpPanelElement.style.height = 'auto';\n\t\t\t\t\ttmpPanelElement.style.maxHeight = 'none';\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpPanelElement.style.height = 'calc(100vh - 30px)';\n\t\t\t\t\ttmpPanelElement.style.maxHeight = 'none';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'show_navigation')\n\t\t{\n\t\t\tlet tmpNavElement = tmpPanelElement.querySelector('.pp_nav');\n\t\t\tif (tmpNavElement)\n\t\t\t{\n\t\t\t\ttmpNavElement.style.display = (this.uiState.Behaviors.show_navigation && this.uiState.Behaviors.show_ui) ? '' : 'none';\n\t\t\t}\n\t\t}\n\n\t\tif (pBehaviorHash === 'night_mode')\n\t\t{\n\t\t\tif (this.uiState.Behaviors.night_mode)\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.add('pp_dark_mode');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttmpPanelElement.classList.remove('pp_dark_mode');\n\t\t\t}\n\t\t}\n\n\t\t// Persist config after every toggle\n\t\tif (this.pict.providers['PP-ConfigStorage'])\n\t\t{\n\t\t\tthis.pict.providers['PP-ConfigStorage'].save(this.uiState);\n\t\t}\n\t}\n\n\tinitializePanelIcons()\n\t{\n\t\tlet tmpBehaviors = Object.keys(this.uiState.Behaviors);\n\t\tfor (let i = 0; i < tmpBehaviors.length; i++)\n\t\t{\n\t\t\tthis.updateUIBehaviorDisplay(tmpBehaviors[i]);\n\t\t}\n\t}\n\n\twireDragEvents()\n\t{\n\t\tif (this.uiState.Wired) return;\n\n\t\tlet __View = this;\n\n\t\t// Setup the draggable behavior for the window\n\t\tlet tmpPanelElement = document.getElementById('Pict-Panel');\n\t\tlet tmpPanelDragElement = document.getElementById('Pict-Panel-Drag');\n\t\tif (!tmpPanelElement) return;\n\t\tif (!tmpPanelDragElement) return;\n\n\t\ttmpPanelDragElement.addEventListener('mousedown',\n\t\t\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t\t\t * BEGIN of browser event code block\n\t\t\t *\n\t\t\t * The below code is meant to run in response to a browser event.\n\t\t\t * --> Therefore the \"this\" context is the element that fired the event.\n\t\t\t * --> There is passed in a \"__View\" reference to this view.\n\t\t\t * --> Happy trails.\n\t\t\t */\n\t\t\tfunction (pEvent)\n\t\t\t{\n\t\t\t\tpEvent.preventDefault();\n\t\t\t\tlet tmpOffsetX = pEvent.offsetX + tmpPanelDragElement.clientLeft;\n\t\t\t\tlet tmpOffsetY = pEvent.offsetY + tmpPanelDragElement.clientTop;\n\t\t\t\tfunction dragHandler(pEvent)\n\t\t\t\t{\n\t\t\t\t\tpEvent.preventDefault();\n\t\t\t\t\tpEvent.stopPropagation();\n\n\t\t\t\t\tif (__View.uiState.Behaviors.tab_mode)\n\t\t\t\t\t{\n\t\t\t\t\t\t// In tab mode, only allow horizontal drag along the top\n\t\t\t\t\t\t// Must set right to 'auto' to override the CSS class rule\n\t\t\t\t\t\ttmpPanelElement.style.right = 'auto';\n\t\t\t\t\t\ttmpPanelElement.style.left = (pEvent.clientX - tmpOffsetX) + 'px';\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (__View.uiState.Behaviors.lock_position) return;\n\n\t\t\t\t\tif (!__View.uiState.Behaviors.pin_right)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpPanelElement.style.right = '';\n\t\t\t\t\t\ttmpPanelElement.style.left = (pEvent.clientX - tmpOffsetX) + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tif (!__View.uiState.Behaviors.pin_top)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpPanelElement.style.top = (pEvent.clientY - tmpOffsetY) + 'px';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction dragStop(pEvent)\n\t\t\t\t{\n\t\t\t\t\twindow.removeEventListener('pointermove', dragHandler);\n\t\t\t\t\twindow.removeEventListener('pointerup', dragStop);\n\t\t\t\t\t// Persist position after drag\n\t\t\t\t\tif (__View.pict.providers['PP-ConfigStorage'])\n\t\t\t\t\t{\n\t\t\t\t\t\t__View.pict.providers['PP-ConfigStorage'].save(__View.uiState);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twindow.addEventListener('pointermove', dragHandler);\n\t\t\t\twindow.addEventListener('pointerup', dragStop);\n\t\t\t});\n\t\t\t/*\n\t\t\t * END of browser event code block\n\t\t\t * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\n\t\t// Double-click on drag handle expands panel from tab mode\n\t\ttmpPanelDragElement.addEventListener('dblclick',\n\t\t\tfunction (pEvent)\n\t\t\t{\n\t\t\t\tif (__View.uiState.Behaviors.tab_mode)\n\t\t\t\t{\n\t\t\t\t\t__View.toggleUIBehavior('tab_mode');\n\t\t\t\t}\n\t\t\t});\n\n\t\tlet tmpUIBehaviorIcons = this.pict.ContentAssignment.getElement('#Pict-Panel .pp_sz_con div');\n\t\tfor (let i = 0; i < tmpUIBehaviorIcons.length; i++)\n\t\t{\n\t\t\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t\t\t * START of browser event code block\n\t\t\t *\n\t\t\t * Same same as above.\n\t\t\t */\n\t\t\ttmpUIBehaviorIcons[i].addEventListener('click',\n\t\t\t\tfunction (pEvent)\n\t\t\t\t{\n\t\t\t\t\tif (('currentTarget' in pEvent) && ('attributes' in pEvent.currentTarget))\n\t\t\t\t\t{\n\t\t\t\t\t\tlet tmpToggleProperty = pEvent.currentTarget.attributes['data-i-toggle'];\n\t\t\t\t\t\t__View.toggleUIBehavior(tmpToggleProperty.value);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t__View.log.error(`Pict-Panel toggleUIBehavior handler received an invalid event object.`)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t/*\n\t\t\t * END of browser event code block\n\t\t\t * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */\n\t\t}\n\n\t\tthis.initializePanelIcons();\n\n\t\tthis.uiState.Wired = true;\n\t}\n}\n\nmodule.exports = PictPanelMain;\nmodule.exports.default_configuration = _ViewConfiguration;","const libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-Nav\",\n\n\t\tDefaultRenderable: \"PP-Nav\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_nav_elements\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-Nav\",\n\t\t\t\tTemplate: require('../html/PP-Nav-HTML.js').HTML\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-Nav\",\n\t\t\t\tTemplateHash: \"PP-Nav\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_nav_elements\"\n\t\t\t}]\n\t});\n\nclass PictPanelNav extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender()\n\t{\n\t\t// Show the last view we had loaded\n\t\tthis.pict.views['PP-ADB'].render();\n\t}\n}\n\nmodule.exports = PictPanelNav;\nmodule.exports.default_configuration = _ViewConfiguration;","const libPictView = require('pict-view');\nconst libPictTemplate = require('pict-template');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-AppDataBrowser\",\n\n\t\tDefaultRenderable: \"PP-AppDataBrowser\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_content\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-AppDataBrowser\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_adb_container\">\n\t\t\t\t\t<div class=\"pp_adb_header\">\n\t\t\t\t\t\t<span class=\"pp_adb_header_label\">AppData</span>\n\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-ADB'].downloadAppData(); return false;\" title=\"Download AppData as JSON\">dl</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-ADB'].editAppData(); return false;\" title=\"Edit AppData JSON\">ed</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_refresh_btn\" onclick=\"_Pict.views['PP-ADB'].render(); return false;\" title=\"Refresh\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M320 146s24.36-12-64-12a160 160 0 10160 160\"/><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M256 58l80 80-80 80\"/></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_adb_editor\" id=\"pp_adb_editor\" style=\"display:none;\">\n\t\t\t\t\t\t<textarea class=\"pp_adb_editor_textarea\" id=\"pp_adb_editor_textarea\"></textarea>\n\t\t\t\t\t\t<div class=\"pp_adb_editor_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_editor_save\" onclick=\"_Pict.views['PP-ADB'].saveAppData(); return false;\">save</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_editor_cancel\" onclick=\"_Pict.views['PP-ADB'].closeEditor(); return false;\">cancel</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_adb_root pp_adb_target\" data-i-objectpath=\"{~D:Context[0].rootAddress~}\" data-i-parentpath=\"\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-AppDataEntry-Leaf\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_adb_entry pp_adb_leaf\">\n\t\t\t\t\t<div class=\"pp_adb_datarow\">\n\t\t\t\t\t\t<div class=\"pp_adb_record_metadata\">\n\t\t\t\t\t\t\t<span class=\"pp_adb_key\">{~D:Record.Key~}</span>\n\t\t\t\t\t\t\t<span class=\"pp_adb_type\">{~D:Record.DataType~}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"pp_adb_record_data\">\n\t\t\t\t\t\t\t<span class=\"pp_adb_value pp_adb_value_{~D:Record.DataType~}\">{~D:Record.Value~}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-AppDataEntry-Branch\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_adb_entry pp_adb_branch\">\n\t\t\t\t\t<div class=\"pp_adb_datarow pp_adb_expandable\" onclick=\"_Pict.views['PP-ADB'].toggleChildTree('{~D:Record.ParentPath~}','{~D:Record.ObjectPath~}','{~D:Record.Key~}'); return false;\">\n\t\t\t\t\t\t<div class=\"pp_adb_record_metadata\">\n\t\t\t\t\t\t\t<span class=\"pp_adb_expand_icon pp_adb_collapsed\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"12\" height=\"12\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M184 112l144 144-144 144\"/></svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"pp_adb_key\">{~D:Record.Key~}</span>\n\t\t\t\t\t\t\t<span class=\"pp_adb_type\">{~D:Record.DataType~}</span>\n\t\t\t\t\t\t\t<span class=\"pp_adb_count\">{~D:Record.ChildCount~}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_adb_children pp_adb_target\" data-i-objectpath=\"{~D:Record.ObjectPath~}\" data-i-parentpath=\"{~D:Record.ParentPath~}\" style=\"display:none;\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-AppDataBrowser\",\n\t\t\t\tTemplateHash: \"PP-AppDataBrowser\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_content\"\n\t\t\t}]\n\t});\n\nclass PictPanelAppDataBrowser extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis.prototypeTemplate = new libPictTemplate(this.pict, libPictTemplate.default_configuration);\n\n\t\tthis.rootAddress = 'AppData';\n\t}\n\n\tonAfterRender()\n\t{\n\t\treturn this.renderChildTree('', this.rootAddress, '');\n\t}\n\n\tdownloadAppData()\n\t{\n\t\tlet tmpData = JSON.stringify(this.pict.AppData, null, '\\t');\n\t\tlet tmpBlob = new Blob([tmpData], { type: 'application/json' });\n\t\tlet tmpURL = URL.createObjectURL(tmpBlob);\n\t\tlet tmpLink = document.createElement('a');\n\t\ttmpLink.href = tmpURL;\n\t\ttmpLink.download = 'AppData.json';\n\t\tdocument.body.appendChild(tmpLink);\n\t\ttmpLink.click();\n\t\tdocument.body.removeChild(tmpLink);\n\t\tURL.revokeObjectURL(tmpURL);\n\t}\n\n\teditAppData()\n\t{\n\t\tlet tmpEditor = document.getElementById('pp_adb_editor');\n\t\tlet tmpTextarea = document.getElementById('pp_adb_editor_textarea');\n\t\tif (!tmpEditor || !tmpTextarea) return;\n\n\t\ttmpTextarea.value = JSON.stringify(this.pict.AppData, null, '\\t');\n\t\ttmpEditor.style.display = 'block';\n\t\ttmpTextarea.focus();\n\t}\n\n\tsaveAppData()\n\t{\n\t\tlet tmpTextarea = document.getElementById('pp_adb_editor_textarea');\n\t\tif (!tmpTextarea) return;\n\n\t\ttry\n\t\t{\n\t\t\tlet tmpNewData = JSON.parse(tmpTextarea.value);\n\t\t\t// Replace AppData contents\n\t\t\tlet tmpKeys = Object.keys(this.pict.AppData);\n\t\t\tfor (let i = 0; i < tmpKeys.length; i++)\n\t\t\t{\n\t\t\t\tdelete this.pict.AppData[tmpKeys[i]];\n\t\t\t}\n\t\t\tObject.assign(this.pict.AppData, tmpNewData);\n\t\t\tthis.closeEditor();\n\t\t\tthis.render();\n\t\t}\n\t\tcatch (pError)\n\t\t{\n\t\t\tthis.log.error('Invalid JSON: ' + pError.message);\n\t\t\ttmpTextarea.classList.add('pp_adb_editor_error');\n\t\t\tsetTimeout(() => { tmpTextarea.classList.remove('pp_adb_editor_error'); }, 1500);\n\t\t}\n\t}\n\n\tcloseEditor()\n\t{\n\t\tlet tmpEditor = document.getElementById('pp_adb_editor');\n\t\tif (tmpEditor) tmpEditor.style.display = 'none';\n\t}\n\n\tgetValueSummary(pValue)\n\t{\n\t\tif (pValue === null)\n\t\t{\n\t\t\treturn 'null';\n\t\t}\n\t\tif (pValue === undefined)\n\t\t{\n\t\t\treturn 'undefined';\n\t\t}\n\t\tif (Array.isArray(pValue))\n\t\t{\n\t\t\treturn `Array(${pValue.length})`;\n\t\t}\n\t\tif (typeof(pValue) === 'object')\n\t\t{\n\t\t\tlet tmpKeys = Object.keys(pValue);\n\t\t\treturn `{${tmpKeys.length} keys}`;\n\t\t}\n\t\tlet tmpStr = String(pValue);\n\t\tif (tmpStr.length > 80)\n\t\t{\n\t\t\treturn tmpStr.substring(0, 77) + '...';\n\t\t}\n\t\treturn tmpStr;\n\t}\n\n\tisExpandable(pValue)\n\t{\n\t\tif (pValue === null || pValue === undefined)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t\tif (Array.isArray(pValue))\n\t\t{\n\t\t\treturn pValue.length > 0;\n\t\t}\n\t\tif (typeof(pValue) === 'object')\n\t\t{\n\t\t\treturn Object.keys(pValue).length > 0;\n\t\t}\n\t\treturn false;\n\t}\n\n\tgetDataType(pValue)\n\t{\n\t\tif (pValue === null)\n\t\t{\n\t\t\treturn 'null';\n\t\t}\n\t\tif (Array.isArray(pValue))\n\t\t{\n\t\t\treturn 'array';\n\t\t}\n\t\treturn typeof(pValue);\n\t}\n\n\tgetChildCount(pValue)\n\t{\n\t\tif (Array.isArray(pValue))\n\t\t{\n\t\t\treturn `[${pValue.length}]`;\n\t\t}\n\t\tif (typeof(pValue) === 'object' && pValue !== null)\n\t\t{\n\t\t\treturn `{${Object.keys(pValue).length}}`;\n\t\t}\n\t\treturn '';\n\t}\n\n\ttoggleChildTree(pParentPath, pObjectPath, pKey)\n\t{\n\t\tlet tmpTargetElementAddress = `#Pict-Panel div.pp_adb_target[data-i-parentpath=\"${pParentPath}\"][data-i-objectpath=\"${pObjectPath}\"]`;\n\t\tlet tmpTargetElement = this.pict.ContentAssignment.getElement(tmpTargetElementAddress);\n\n\t\tif (!tmpTargetElement || !tmpTargetElement.length)\n\t\t{\n\t\t\tthis.log.error(`PP ADB could not find target element for Parent[${pParentPath}] Object[${pObjectPath}] key [${pKey}].`);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet tmpElement = tmpTargetElement[0];\n\t\tlet tmpParentEntry = tmpElement.closest('.pp_adb_branch');\n\t\tlet tmpExpandIcon = tmpParentEntry ? tmpParentEntry.querySelector('.pp_adb_expand_icon') : null;\n\n\t\tif (tmpElement.style.display === 'none')\n\t\t{\n\t\t\t// Expand: render children if not yet populated\n\t\t\tif (tmpElement.innerHTML.trim() === '')\n\t\t\t{\n\t\t\t\tthis.renderChildTree(pParentPath, pObjectPath, pKey);\n\t\t\t}\n\t\t\ttmpElement.style.display = 'block';\n\t\t\tif (tmpExpandIcon)\n\t\t\t{\n\t\t\t\ttmpExpandIcon.classList.remove('pp_adb_collapsed');\n\t\t\t\ttmpExpandIcon.classList.add('pp_adb_expanded');\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Collapse\n\t\t\ttmpElement.style.display = 'none';\n\t\t\tif (tmpExpandIcon)\n\t\t\t{\n\t\t\t\ttmpExpandIcon.classList.remove('pp_adb_expanded');\n\t\t\t\ttmpExpandIcon.classList.add('pp_adb_collapsed');\n\t\t\t}\n\t\t}\n\t}\n\n\trenderChildTree(pParentPath, pObjectPath, pKey)\n\t{\n\t\tlet tmpTargetElementAddress = `#Pict-Panel div.pp_adb_target[data-i-parentpath=\"${pParentPath}\"][data-i-objectpath=\"${pObjectPath}\"]`;\n\t\tlet tmpTargetElement = this.pict.ContentAssignment.getElement(tmpTargetElementAddress);\n\n\t\tif (!tmpTargetElement)\n\t\t{\n\t\t\tthis.log.error(`PP ADB could not find target element to render to for Parent[${pParentPath}] Object[${pObjectPath}] key [${pKey}].`);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet tmpObject = this.prototypeTemplate.resolveStateFromAddress(pObjectPath);\n\n\t\tlet tmpLeaves = [];\n\t\tlet tmpBranches = [];\n\n\t\tif (Array.isArray(tmpObject))\n\t\t{\n\t\t\tfor (let i = 0; i < tmpObject.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpValue = tmpObject[i];\n\t\t\t\tlet tmpEntry = (\n\t\t\t\t\t{\n\t\t\t\t\t\tKey: i,\n\t\t\t\t\t\tValue: this.getValueSummary(tmpValue),\n\t\t\t\t\t\tParentPath: pObjectPath,\n\t\t\t\t\t\tObjectPath: `${pObjectPath}[${i}]`,\n\t\t\t\t\t\tDataType: this.getDataType(tmpValue),\n\t\t\t\t\t\tChildCount: this.getChildCount(tmpValue)\n\t\t\t\t\t});\n\n\t\t\t\tif (this.isExpandable(tmpValue))\n\t\t\t\t{\n\t\t\t\t\ttmpBranches.push(tmpEntry);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpLeaves.push(tmpEntry);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (typeof(tmpObject) === 'object' && tmpObject !== null)\n\t\t{\n\t\t\tlet tmpObjectEntries = Object.keys(tmpObject);\n\t\t\tfor (let i = 0; i < tmpObjectEntries.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpValueKey = tmpObjectEntries[i];\n\t\t\t\tlet tmpValue = tmpObject[tmpValueKey];\n\n\t\t\t\tlet tmpEntry = (\n\t\t\t\t\t{\n\t\t\t\t\t\tKey: tmpValueKey,\n\t\t\t\t\t\tValue: this.getValueSummary(tmpValue),\n\t\t\t\t\t\tParentPath: pObjectPath,\n\t\t\t\t\t\tObjectPath: `${pObjectPath}.${tmpValueKey}`,\n\t\t\t\t\t\tDataType: this.getDataType(tmpValue),\n\t\t\t\t\t\tChildCount: this.getChildCount(tmpValue)\n\t\t\t\t\t});\n\n\t\t\t\tif (this.isExpandable(tmpValue))\n\t\t\t\t{\n\t\t\t\t\ttmpBranches.push(tmpEntry);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmpLeaves.push(tmpEntry);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Scalar value at root -- show it directly\n\t\t\tlet tmpOutput = `<div class=\"pp_adb_scalar_value\">${this.getValueSummary(tmpObject)}</div>`;\n\t\t\tthis.pict.ContentAssignment.assignContent(tmpTargetElementAddress, tmpOutput);\n\t\t\treturn tmpOutput;\n\t\t}\n\n\t\t// Render leaves first (simple values), then branches (expandable)\n\t\tlet tmpOutput = '';\n\t\tif (tmpLeaves.length > 0)\n\t\t{\n\t\t\ttmpOutput += this.pict.parseTemplateSetByHash('PP-AppDataEntry-Leaf', tmpLeaves, null, [this]);\n\t\t}\n\t\tif (tmpBranches.length > 0)\n\t\t{\n\t\t\ttmpOutput += this.pict.parseTemplateSetByHash('PP-AppDataEntry-Branch', tmpBranches, null, [this]);\n\t\t}\n\n\t\tthis.pict.ContentAssignment.assignContent(tmpTargetElementAddress, tmpOutput);\n\n\t\treturn tmpOutput;\n\t}\n}\n\nmodule.exports = PictPanelAppDataBrowser;\nmodule.exports.default_configuration = _ViewConfiguration;","const libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-ProviderBrowser\",\n\n\t\tDefaultRenderable: \"PP-ProviderBrowser\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_content\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-ProviderBrowser\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_container\" id=\"pp_pb_container\">\n\t\t\t\t\t<div class=\"pp_adb_header\">\n\t\t\t\t\t\t<span class=\"pp_adb_header_label\">Providers</span>\n\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_refresh_btn\" onclick=\"_Pict.views['PP-PB'].showList(); return false;\" title=\"Refresh\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M320 146s24.36-12-64-12a160 160 0 10160 160\"/><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M256 58l80 80-80 80\"/></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_body\" id=\"pp_pb_body\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-ProviderEntry\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_entry\">\n\t\t\t\t\t<div class=\"pp_sb_entry_row\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_entry_hash\" onclick=\"_Pict.views['PP-PB'].showDetail('{~D:Record.Hash~}'); return false;\">{~D:Record.Hash~}</a>\n\t\t\t\t\t\t<span class=\"pp_sb_entry_info\">{~D:Record.Info~}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-ProviderDetail\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_detail\">\n\t\t\t\t\t<div class=\"pp_sb_detail_header\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_back_btn\" onclick=\"_Pict.views['PP-PB'].showList(); return false;\" title=\"Back to list\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M328 112L184 256l144 144\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<span class=\"pp_sb_detail_hash\">{~D:Record.Hash~}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_vitals\">\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">UUID</span><span class=\"pp_sb_vital_val\">{~D:Record.UUID~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">AutoInitialize</span><span class=\"pp_sb_vital_val\">{~D:Record.AutoInit~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">AutoSolve</span><span class=\"pp_sb_vital_val\">{~D:Record.AutoSolve~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Initialized</span><span class=\"pp_sb_vital_val\">{~D:Record.InitTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Last Solve</span><span class=\"pp_sb_vital_val\">{~D:Record.SolveTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Templates</span><span class=\"pp_sb_vital_val\">{~D:Record.TemplateCount~}</span></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_actions\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-PB'].execProviderAction('{~D:Record.Hash~}','solve'); return false;\" title=\"solve()\">solve</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_section_label\">Options</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_options\" id=\"pp_pb_detail_options\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-ProviderBrowser\",\n\t\t\t\tTemplateHash: \"PP-ProviderBrowser\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_content\"\n\t\t\t}]\n\t});\n\nclass PictPanelProviderBrowser extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis.detailHash = false;\n\t}\n\n\tonAfterRender()\n\t{\n\t\tthis.showList();\n\t}\n\n\tgetProviderEntries()\n\t{\n\t\tlet tmpProviders = this.pict.providers;\n\t\tlet tmpHashes = Object.keys(tmpProviders);\n\t\tlet tmpEntries = [];\n\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tlet tmpProvider = tmpProviders[tmpHash];\n\n\t\t\tlet tmpInfo = tmpProvider.serviceType || '';\n\n\t\t\ttmpEntries.push({ Hash: tmpHash, Info: tmpInfo });\n\t\t}\n\n\t\ttmpEntries.sort(function(a, b) { return a.Hash.localeCompare(b.Hash); });\n\t\treturn tmpEntries;\n\t}\n\n\tshowList()\n\t{\n\t\tthis.detailHash = false;\n\t\tlet tmpEntries = this.getProviderEntries();\n\t\tlet tmpOutput = '';\n\t\tif (tmpEntries.length > 0)\n\t\t{\n\t\t\ttmpOutput = this.pict.parseTemplateSetByHash('PP-ProviderEntry', tmpEntries, null, [this]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOutput = '<div class=\"pp_tb_empty\">No providers registered.</div>';\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#pp_pb_body', tmpOutput);\n\t}\n\n\tformatTimestamp(pTimestamp)\n\t{\n\t\tif (!pTimestamp) return '--';\n\t\tlet tmpDate = new Date(pTimestamp);\n\t\treturn tmpDate.toLocaleTimeString();\n\t}\n\n\tshowDetail(pHash)\n\t{\n\t\tlet tmpProvider = this.pict.providers[pHash];\n\t\tif (!tmpProvider) return;\n\n\t\tthis.detailHash = pHash;\n\n\t\tlet tmpTemplateCount = 0;\n\t\tif (tmpProvider.options && tmpProvider.options.Templates)\n\t\t{\n\t\t\ttmpTemplateCount = tmpProvider.options.Templates.length;\n\t\t}\n\n\t\tlet tmpRecord = [\n\t\t\t{\n\t\t\t\tHash: pHash,\n\t\t\t\tUUID: tmpProvider.UUID || '--',\n\t\t\t\tAutoInit: (tmpProvider.options && tmpProvider.options.AutoInitialize) ? 'true' : 'false',\n\t\t\t\tAutoSolve: (tmpProvider.options && tmpProvider.options.AutoSolveWithApp) ? 'true' : 'false',\n\t\t\t\tInitTS: this.formatTimestamp(tmpProvider.initializeTimestamp),\n\t\t\t\tSolveTS: this.formatTimestamp(tmpProvider.lastSolvedTimestamp),\n\t\t\t\tTemplateCount: tmpTemplateCount\n\t\t\t}];\n\n\t\tlet tmpOutput = this.pict.parseTemplateSetByHash('PP-ProviderDetail', tmpRecord, null, [this]);\n\t\tthis.pict.ContentAssignment.assignContent('#pp_pb_body', tmpOutput);\n\n\t\t// Show a summary of options (non-function, non-template keys)\n\t\tthis.renderDetailOptions(tmpProvider);\n\t}\n\n\trenderDetailOptions(pProvider)\n\t{\n\t\tif (!pProvider.options) return;\n\n\t\tlet tmpKeys = Object.keys(pProvider.options);\n\t\tlet tmpOutput = '<div class=\"pp_sb_detail_opts_list\">';\n\n\t\tfor (let i = 0; i < tmpKeys.length; i++)\n\t\t{\n\t\t\tlet tmpKey = tmpKeys[i];\n\t\t\tlet tmpVal = pProvider.options[tmpKey];\n\n\t\t\t// Skip large objects and arrays (Templates, Manifests, etc.)\n\t\t\tif (tmpKey === 'Templates' || tmpKey === 'DefaultTemplates' || tmpKey === 'Manifests') continue;\n\t\t\tif (typeof(tmpVal) === 'function') continue;\n\n\t\t\tlet tmpDisplayVal = '';\n\t\t\tif (tmpVal === null)\n\t\t\t{\n\t\t\t\ttmpDisplayVal = '<span class=\"pp_adb_value_null\">null</span>';\n\t\t\t}\n\t\t\telse if (typeof(tmpVal) === 'object')\n\t\t\t{\n\t\t\t\ttmpDisplayVal = JSON.stringify(tmpVal).substring(0, 80);\n\t\t\t\ttmpDisplayVal = tmpDisplayVal.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\t\t\t}\n\t\t\telse if (typeof(tmpVal) === 'boolean')\n\t\t\t{\n\t\t\t\ttmpDisplayVal = '<span class=\"pp_adb_value_boolean\">' + String(tmpVal) + '</span>';\n\t\t\t}\n\t\t\telse if (typeof(tmpVal) === 'number')\n\t\t\t{\n\t\t\t\ttmpDisplayVal = '<span class=\"pp_adb_value_number\">' + tmpVal + '</span>';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet tmpStr = String(tmpVal);\n\t\t\t\tif (tmpStr.length > 60)\n\t\t\t\t{\n\t\t\t\t\ttmpStr = tmpStr.substring(0, 57) + '...';\n\t\t\t\t}\n\t\t\t\ttmpDisplayVal = tmpStr.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\t\t\t}\n\n\t\t\ttmpOutput += '<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">' + tmpKey + '</span><span class=\"pp_sb_vital_val\">' + tmpDisplayVal + '</span></div>';\n\t\t}\n\n\t\ttmpOutput += '</div>';\n\t\tthis.pict.ContentAssignment.assignContent('#pp_pb_detail_options', tmpOutput);\n\t}\n\n\texecProviderAction(pHash, pAction)\n\t{\n\t\tlet tmpProvider = this.pict.providers[pHash];\n\t\tif (!tmpProvider) return;\n\n\t\tthis.log.info(`Executing ${pAction}() on provider [${pHash}]`);\n\n\t\tif (typeof(tmpProvider[pAction]) === 'function')\n\t\t{\n\t\t\ttmpProvider[pAction]();\n\t\t}\n\n\t\t// Refresh the detail view to show updated timestamps\n\t\tlet __View = this;\n\t\tsetTimeout(function() { if (__View.detailHash === pHash) __View.showDetail(pHash); }, 250);\n\t}\n}\n\nmodule.exports = PictPanelProviderBrowser;\nmodule.exports.default_configuration = _ViewConfiguration;\n","const libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-TemplateBrowser\",\n\n\t\tDefaultRenderable: \"PP-TemplateBrowser\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_content\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-TemplateBrowser\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_tb_container\">\n\t\t\t\t\t<div class=\"pp_adb_header\">\n\t\t\t\t\t\t<span class=\"pp_adb_header_label\">Templates</span>\n\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_refresh_btn\" onclick=\"_Pict.views['PP-TB'].render(); return false;\" title=\"Refresh\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M320 146s24.36-12-64-12a160 160 0 10160 160\"/><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M256 58l80 80-80 80\"/></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_tb_filter\">\n\t\t\t\t\t\t<input type=\"text\" class=\"pp_tb_filter_input\" id=\"pp_tb_filter_input\" placeholder=\"filter templates...\" oninput=\"_Pict.views['PP-TB'].filterTemplates(this.value);\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_tb_editor\" id=\"pp_tb_editor\" style=\"display:none;\">\n\t\t\t\t\t\t<div class=\"pp_tb_editor_header\">\n\t\t\t\t\t\t\t<span class=\"pp_tb_editor_hash\" id=\"pp_tb_editor_hash\"></span>\n\t\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_editor_save\" onclick=\"_Pict.views['PP-TB'].saveTemplate(); return false;\">save</a>\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_editor_cancel\" onclick=\"_Pict.views['PP-TB'].closeEditor(); return false;\">cancel</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<textarea class=\"pp_adb_editor_textarea pp_tb_editor_textarea\" id=\"pp_tb_editor_textarea\"></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_tb_list\" id=\"pp_tb_list\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-TemplateEntry\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_tb_entry\" data-i-hash=\"{~D:Record.Hash~}\">\n\t\t\t\t\t<div class=\"pp_tb_entry_row\">\n\t\t\t\t\t\t<span class=\"pp_tb_entry_hash\">{~D:Record.Hash~}</span>\n\t\t\t\t\t\t<span class=\"pp_tb_entry_source\">{~D:Record.Source~}</span>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TB'].editTemplate('{~D:Record.Hash~}'); return false;\" title=\"Edit template\">ed</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_tb_entry_preview\">{~D:Record.Preview~}</div>\n\t\t\t\t</div>\n`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-TemplateBrowser\",\n\t\t\t\tTemplateHash: \"PP-TemplateBrowser\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_content\"\n\t\t\t}]\n\t});\n\nclass PictPanelTemplateBrowser extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis.currentFilter = '';\n\t\tthis.editingHash = false;\n\t}\n\n\tonAfterRender()\n\t{\n\t\tthis.renderTemplateList();\n\t}\n\n\tgetTemplateEntries()\n\t{\n\t\tlet tmpTemplates = this.pict.TemplateProvider.templates;\n\t\tlet tmpSources = this.pict.TemplateProvider.templateSources;\n\t\tlet tmpHashes = Object.keys(tmpTemplates);\n\n\t\tlet tmpEntries = [];\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tlet tmpTemplate = tmpTemplates[tmpHash];\n\t\t\tlet tmpSource = tmpSources[tmpHash] || '';\n\n\t\t\t// Build a one-line preview\n\t\t\tlet tmpPreview = '';\n\t\t\tif (typeof(tmpTemplate) === 'string')\n\t\t\t{\n\t\t\t\ttmpPreview = tmpTemplate.replace(/[\\t\\n\\r]+/g, ' ').trim();\n\t\t\t\tif (tmpPreview.length > 120)\n\t\t\t\t{\n\t\t\t\t\ttmpPreview = tmpPreview.substring(0, 117) + '...';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Escape HTML in preview so it renders as text\n\t\t\ttmpPreview = tmpPreview.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n\t\t\ttmpEntries.push(\n\t\t\t\t{\n\t\t\t\t\tHash: tmpHash,\n\t\t\t\t\tSource: tmpSource,\n\t\t\t\t\tPreview: tmpPreview\n\t\t\t\t});\n\t\t}\n\n\t\t// Sort alphabetically by hash\n\t\ttmpEntries.sort(function(a, b) { return a.Hash.localeCompare(b.Hash); });\n\n\t\treturn tmpEntries;\n\t}\n\n\trenderTemplateList()\n\t{\n\t\tlet tmpEntries = this.getTemplateEntries();\n\n\t\t// Apply filter\n\t\tif (this.currentFilter)\n\t\t{\n\t\t\tlet tmpFilterLower = this.currentFilter.toLowerCase();\n\t\t\ttmpEntries = tmpEntries.filter(function(pEntry)\n\t\t\t{\n\t\t\t\treturn pEntry.Hash.toLowerCase().indexOf(tmpFilterLower) >= 0\n\t\t\t\t\t|| pEntry.Source.toLowerCase().indexOf(tmpFilterLower) >= 0\n\t\t\t\t\t|| pEntry.Preview.toLowerCase().indexOf(tmpFilterLower) >= 0;\n\t\t\t});\n\t\t}\n\n\t\tlet tmpOutput = '';\n\t\tif (tmpEntries.length > 0)\n\t\t{\n\t\t\ttmpOutput = this.pict.parseTemplateSetByHash('PP-TemplateEntry', tmpEntries, null, [this]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOutput = '<div class=\"pp_tb_empty\">No templates match filter.</div>';\n\t\t}\n\n\t\tthis.pict.ContentAssignment.assignContent('#pp_tb_list', tmpOutput);\n\t}\n\n\tfilterTemplates(pFilterText)\n\t{\n\t\tthis.currentFilter = pFilterText;\n\t\tthis.renderTemplateList();\n\t}\n\n\teditTemplate(pHash)\n\t{\n\t\tlet tmpTemplate = this.pict.TemplateProvider.getTemplate(pHash);\n\t\tif (tmpTemplate === null)\n\t\t{\n\t\t\tthis.log.error(`Template [${pHash}] not found.`);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.editingHash = pHash;\n\n\t\tlet tmpEditor = document.getElementById('pp_tb_editor');\n\t\tlet tmpTextarea = document.getElementById('pp_tb_editor_textarea');\n\t\tlet tmpHashLabel = document.getElementById('pp_tb_editor_hash');\n\t\tif (!tmpEditor || !tmpTextarea) return;\n\n\t\ttmpHashLabel.textContent = pHash;\n\t\ttmpTextarea.value = tmpTemplate;\n\t\ttmpEditor.style.display = 'block';\n\t\ttmpTextarea.focus();\n\t}\n\n\tsaveTemplate()\n\t{\n\t\tif (!this.editingHash) return;\n\n\t\tlet tmpTextarea = document.getElementById('pp_tb_editor_textarea');\n\t\tif (!tmpTextarea) return;\n\n\t\tlet tmpNewContent = tmpTextarea.value;\n\n\t\t// Snapshot the original and persist the override\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (tmpOverrideStorage)\n\t\t{\n\t\t\tlet tmpOriginal = this.pict.TemplateProvider.getTemplate(this.editingHash);\n\t\t\ttmpOverrideStorage.saveOverride(this.editingHash, tmpOriginal, tmpNewContent);\n\t\t}\n\n\t\tthis.pict.TemplateProvider.addTemplate(this.editingHash, tmpNewContent);\n\t\tthis.log.info(`Template [${this.editingHash}] updated.`);\n\n\t\tthis.closeEditor();\n\t\tthis.renderTemplateList();\n\t}\n\n\tcloseEditor()\n\t{\n\t\tlet tmpEditor = document.getElementById('pp_tb_editor');\n\t\tif (tmpEditor) tmpEditor.style.display = 'none';\n\t\tthis.editingHash = false;\n\t}\n}\n\nmodule.exports = PictPanelTemplateBrowser;\nmodule.exports.default_configuration = _ViewConfiguration;\n","const libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-TemplateOverrides\",\n\n\t\tDefaultRenderable: \"PP-TemplateOverrides\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_content\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-TemplateOverrides\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_to_container\">\n\t\t\t\t\t<div class=\"pp_adb_header\">\n\t\t\t\t\t\t<span class=\"pp_adb_header_label\">Overrides</span>\n\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TO'].exportOverrides(); return false;\" title=\"Export active overrides as JSON\">json</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TO'].exportOverridesJS(); return false;\" title=\"Export active overrides as JS\">js</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TO'].toggleAll(true); return false;\" title=\"Activate all overrides\">all on</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TO'].toggleAll(false); return false;\" title=\"Deactivate all overrides\">all off</a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_refresh_btn\" onclick=\"_Pict.views['PP-TO'].render(); return false;\" title=\"Refresh\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M320 146s24.36-12-64-12a160 160 0 10160 160\"/><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M256 58l80 80-80 80\"/></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_to_list\" id=\"pp_to_list\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-TemplateOverrideEntry\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_to_entry {~D:Record.ActiveClass~}\">\n\t\t\t\t\t<div class=\"pp_to_entry_row\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_to_toggle\" onclick=\"_Pict.views['PP-TO'].toggleOverride('{~D:Record.Hash~}'); return false;\" title=\"{~D:Record.ToggleTitle~}\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"12\" height=\"12\"><circle cx=\"256\" cy=\"256\" r=\"192\" fill=\"{~D:Record.DotColor~}\" stroke=\"currentColor\" stroke-width=\"32\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<span class=\"pp_to_entry_hash\">{~D:Record.Hash~}</span>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_to_remove\" onclick=\"_Pict.views['PP-TO'].removeOverride('{~D:Record.Hash~}'); return false;\" title=\"Remove override\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"12\" height=\"12\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M368 368L144 144M368 144L144 368\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-TemplateOverrides\",\n\t\t\t\tTemplateHash: \"PP-TemplateOverrides\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_content\"\n\t\t\t}]\n\t});\n\nclass PictPanelTemplateOverrides extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\t}\n\n\tonAfterRender()\n\t{\n\t\tthis.renderOverrideList();\n\t}\n\n\tgetOverrideEntries()\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return [];\n\n\t\tlet tmpOverrides = tmpOverrideStorage.loadOverrides();\n\t\tlet tmpHashes = Object.keys(tmpOverrides);\n\n\t\tlet tmpEntries = [];\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tlet tmpEntry = tmpOverrides[tmpHash];\n\n\t\t\ttmpEntries.push(\n\t\t\t\t{\n\t\t\t\t\tHash: tmpHash,\n\t\t\t\t\tActive: tmpEntry.Active,\n\t\t\t\t\tActiveClass: tmpEntry.Active ? 'pp_to_active' : 'pp_to_inactive',\n\t\t\t\t\tDotColor: tmpEntry.Active ? 'var(--pal-acc)' : 'none',\n\t\t\t\t\tToggleTitle: tmpEntry.Active ? 'Deactivate (restore original)' : 'Activate (apply override)'\n\t\t\t\t});\n\t\t}\n\n\t\ttmpEntries.sort(function(a, b) { return a.Hash.localeCompare(b.Hash); });\n\n\t\treturn tmpEntries;\n\t}\n\n\trenderOverrideList()\n\t{\n\t\tlet tmpEntries = this.getOverrideEntries();\n\n\t\tlet tmpOutput = '';\n\t\tif (tmpEntries.length > 0)\n\t\t{\n\t\t\ttmpOutput = this.pict.parseTemplateSetByHash('PP-TemplateOverrideEntry', tmpEntries, null, [this]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOutput = '<div class=\"pp_to_empty\">No template overrides stored.</div>';\n\t\t}\n\n\t\tthis.pict.ContentAssignment.assignContent('#pp_to_list', tmpOutput);\n\t}\n\n\ttoggleOverride(pHash)\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return;\n\n\t\tlet tmpOverrides = tmpOverrideStorage.loadOverrides();\n\t\tif (!tmpOverrides[pHash]) return;\n\n\t\ttmpOverrideStorage.toggleOverride(pHash, !tmpOverrides[pHash].Active);\n\t\tthis.renderOverrideList();\n\t}\n\n\ttoggleAll(pActive)\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return;\n\n\t\ttmpOverrideStorage.toggleAll(pActive);\n\t\tthis.renderOverrideList();\n\t}\n\n\tremoveOverride(pHash)\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return;\n\n\t\ttmpOverrideStorage.removeOverride(pHash);\n\t\tthis.renderOverrideList();\n\t}\n\n\texportOverrides()\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return;\n\n\t\tlet tmpOverrides = tmpOverrideStorage.loadOverrides();\n\t\tlet tmpHashes = Object.keys(tmpOverrides);\n\n\t\t// Build export array from active overrides only\n\t\tlet tmpExport = [];\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tif (tmpOverrides[tmpHash].Active)\n\t\t\t{\n\t\t\t\ttmpExport.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tHash: tmpHash,\n\t\t\t\t\t\tTemplate: tmpOverrides[tmpHash].Override\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (tmpExport.length === 0)\n\t\t{\n\t\t\tthis.log.warn('No active overrides to export.');\n\t\t\treturn;\n\t\t}\n\n\t\t// Build a site hash from the current hostname\n\t\tlet tmpSiteHash = window.location.hostname.replace(/[^a-zA-Z0-9]/g, '_');\n\n\t\tlet tmpJSON = JSON.stringify(tmpExport, null, '\\t');\n\t\tlet tmpBlob = new Blob([tmpJSON], { type: 'application/json' });\n\t\tlet tmpURL = URL.createObjectURL(tmpBlob);\n\n\t\tlet tmpLink = document.createElement('a');\n\t\ttmpLink.href = tmpURL;\n\t\ttmpLink.download = 'PictTemplates-' + tmpSiteHash + '.json';\n\t\tdocument.body.appendChild(tmpLink);\n\t\ttmpLink.click();\n\t\tdocument.body.removeChild(tmpLink);\n\t\tURL.revokeObjectURL(tmpURL);\n\n\t\tthis.log.info(`Exported ${tmpExport.length} template override(s) as JSON`);\n\t}\n\n\texportOverridesJS()\n\t{\n\t\tlet tmpOverrideStorage = this.pict.providers['PP-TemplateOverrideStorage'];\n\t\tif (!tmpOverrideStorage) return;\n\n\t\tlet tmpOverrides = tmpOverrideStorage.loadOverrides();\n\t\tlet tmpHashes = Object.keys(tmpOverrides);\n\n\t\t// Build entries from active overrides only\n\t\tlet tmpEntries = [];\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tif (tmpOverrides[tmpHash].Active)\n\t\t\t{\n\t\t\t\ttmpEntries.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tHash: tmpHash,\n\t\t\t\t\t\tTemplate: tmpOverrides[tmpHash].Override\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (tmpEntries.length === 0)\n\t\t{\n\t\t\tthis.log.warn('No active overrides to export.');\n\t\t\treturn;\n\t\t}\n\n\t\t// Format as JS source with backtick-quoted template strings\n\t\tlet tmpLines = [];\n\t\ttmpLines.push('[\\n');\n\t\tfor (let i = 0; i < tmpEntries.length; i++)\n\t\t{\n\t\t\tlet tmpEntry = tmpEntries[i];\n\t\t\ttmpLines.push('\\t\\t{\\n');\n\t\t\ttmpLines.push('Hash: \"' + tmpEntry.Hash.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"') + '\",\\n');\n\t\t\ttmpLines.push('Template: /*html*/`\\n');\n\t\t\ttmpLines.push(tmpEntry.Template);\n\t\t\tif (!tmpEntry.Template.endsWith('\\n'))\n\t\t\t{\n\t\t\t\ttmpLines.push('\\n');\n\t\t\t}\n\t\t\ttmpLines.push('`\\n');\n\t\t\ttmpLines.push('\\t\\t}');\n\t\t\tif (i < tmpEntries.length - 1)\n\t\t\t{\n\t\t\t\ttmpLines.push(',');\n\t\t\t}\n\t\t\ttmpLines.push('\\n');\n\t\t}\n\t\ttmpLines.push('\\t]\\n');\n\n\t\tlet tmpSiteHash = window.location.hostname.replace(/[^a-zA-Z0-9]/g, '_');\n\n\t\tlet tmpContent = tmpLines.join('');\n\t\tlet tmpBlob = new Blob([tmpContent], { type: 'application/javascript' });\n\t\tlet tmpURL = URL.createObjectURL(tmpBlob);\n\n\t\tlet tmpLink = document.createElement('a');\n\t\ttmpLink.href = tmpURL;\n\t\ttmpLink.download = 'PictTemplates-' + tmpSiteHash + '.js';\n\t\tdocument.body.appendChild(tmpLink);\n\t\ttmpLink.click();\n\t\tdocument.body.removeChild(tmpLink);\n\t\tURL.revokeObjectURL(tmpURL);\n\n\t\tthis.log.info(`Exported ${tmpEntries.length} template override(s) as JS`);\n\t}\n}\n\nmodule.exports = PictPanelTemplateOverrides;\nmodule.exports.default_configuration = _ViewConfiguration;\n","const libPictView = require('pict-view');\n\nconst _ViewConfiguration = (\n\t{\n\t\tViewIdentifier: \"Pict-Panel-ViewBrowser\",\n\n\t\tDefaultRenderable: \"PP-ViewBrowser\",\n\t\tDefaultDestinationAddress: \"#Pict-Panel .pp_content\",\n\n\t\tAutoRender: false,\n\t\tAutoSolveWithApp: false,\n\n\t\tTemplates: [\n\t\t\t{\n\t\t\t\tHash: \"PP-ViewBrowser\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_container\" id=\"pp_vb_container\">\n\t\t\t\t\t<div class=\"pp_adb_header\">\n\t\t\t\t\t\t<span class=\"pp_adb_header_label\">Views</span>\n\t\t\t\t\t\t<div class=\"pp_adb_header_actions\">\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn pp_adb_refresh_btn\" onclick=\"_Pict.views['PP-VB'].showList(); return false;\" title=\"Refresh\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M320 146s24.36-12-64-12a160 160 0 10160 160\"/><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"32\" d=\"M256 58l80 80-80 80\"/></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_body\" id=\"pp_vb_body\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-ViewEntry\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_entry\">\n\t\t\t\t\t<div class=\"pp_sb_entry_row\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_entry_hash\" onclick=\"_Pict.views['PP-VB'].showDetail('{~D:Record.Hash~}'); return false;\">{~D:Record.Hash~}</a>\n\t\t\t\t\t\t<span class=\"pp_sb_entry_info\">{~D:Record.Info~}</span>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_action_icon\" onclick=\"_Pict.views['{~D:Record.Hash~}'].render(); return false;\" title=\"Render (sync)\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"12\" height=\"12\"><path d=\"M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z\" fill=\"currentColor\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_action_icon\" onclick=\"_Pict.views['{~D:Record.Hash~}'].renderAsync(function(){}); return false;\" title=\"Render (async)\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"12\" height=\"12\"><path fill=\"none\" stroke=\"currentColor\" stroke-miterlimit=\"10\" stroke-width=\"32\" d=\"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48z\"/><path fill=\"currentColor\" d=\"M200 168v176l144-88-144-88z\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-ViewDetail\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_detail\">\n\t\t\t\t\t<div class=\"pp_sb_detail_header\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_back_btn\" onclick=\"_Pict.views['PP-VB'].showList(); return false;\" title=\"Back to list\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"14\" height=\"14\"><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"48\" d=\"M328 112L184 256l144 144\"/></svg>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<span class=\"pp_sb_detail_hash\">{~D:Record.Hash~}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_vitals\">\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">UUID</span><span class=\"pp_sb_vital_val\">{~D:Record.UUID~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Destination</span><span class=\"pp_sb_vital_val\">{~D:Record.DefaultDestination~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Renderable</span><span class=\"pp_sb_vital_val\">{~D:Record.DefaultRenderable~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">AutoRender</span><span class=\"pp_sb_vital_val\">{~D:Record.AutoRender~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">AutoSolve</span><span class=\"pp_sb_vital_val\">{~D:Record.AutoSolve~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Initialized</span><span class=\"pp_sb_vital_val\">{~D:Record.InitTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Last Render</span><span class=\"pp_sb_vital_val\">{~D:Record.RenderTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Last Solve</span><span class=\"pp_sb_vital_val\">{~D:Record.SolveTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Last Marshal To</span><span class=\"pp_sb_vital_val\">{~D:Record.MarshalToTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Last Marshal From</span><span class=\"pp_sb_vital_val\">{~D:Record.MarshalFromTS~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Renderables</span><span class=\"pp_sb_vital_val\">{~D:Record.RenderableCount~}</span></div>\n\t\t\t\t\t\t<div class=\"pp_sb_vital_row\"><span class=\"pp_sb_vital_key\">Templates</span><span class=\"pp_sb_vital_val\">{~D:Record.TemplateCount~}</span></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_actions\">\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-VB'].execViewAction('{~D:Record.Hash~}','solve'); return false;\" title=\"solve()\">solve</a>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-VB'].execViewAction('{~D:Record.Hash~}','render'); return false;\" title=\"render()\">render</a>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-VB'].execViewAction('{~D:Record.Hash~}','renderAsync'); return false;\" title=\"renderAsync()\">renderAsync</a>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-VB'].execViewAction('{~D:Record.Hash~}','marshalToView'); return false;\" title=\"marshalToView()\">marshalTo</a>\n\t\t\t\t\t\t<a href=\"#\" class=\"pp_sb_detail_action_btn\" onclick=\"_Pict.views['PP-VB'].execViewAction('{~D:Record.Hash~}','marshalFromView'); return false;\" title=\"marshalFromView()\">marshalFrom</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_section_label\">Templates</div>\n\t\t\t\t\t<div class=\"pp_sb_detail_templates\" id=\"pp_vb_detail_templates\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n`\n\t\t\t},\n\t\t\t{\n\t\t\t\tHash: \"PP-ViewDetailTemplate\",\n\t\t\t\tTemplate: /*HTML*/`\n\t\t\t\t<div class=\"pp_sb_detail_tpl_entry\">\n\t\t\t\t\t<span class=\"pp_sb_detail_tpl_hash\">{~D:Record.Hash~}</span>\n\t\t\t\t\t<a href=\"#\" class=\"pp_adb_action_btn\" onclick=\"_Pict.views['PP-TB'].editTemplate('{~D:Record.Hash~}'); _Pict.providers['PP-Router'].navigateTo('PP-TB'); return false;\" title=\"Edit in Template Browser\">ed</a>\n\t\t\t\t\t<div class=\"pp_sb_detail_tpl_preview\">{~D:Record.Preview~}</div>\n\t\t\t\t</div>\n`\n\t\t\t}\n\t\t],\n\t\tRenderables: [\n\t\t\t{\n\t\t\t\tRenderableHash: \"PP-ViewBrowser\",\n\t\t\t\tTemplateHash: \"PP-ViewBrowser\",\n\t\t\t\tContentDestinationAddress: \"#Pict-Panel .pp_content\"\n\t\t\t}]\n\t});\n\nclass PictPanelViewBrowser extends libPictView\n{\n\tconstructor(pFable, pOptions, pServiceHash)\n\t{\n\t\tsuper(pFable, pOptions, pServiceHash);\n\n\t\tthis.detailHash = false;\n\t}\n\n\tonAfterRender()\n\t{\n\t\tthis.showList();\n\t}\n\n\tgetViewEntries()\n\t{\n\t\tlet tmpViews = this.pict.views;\n\t\tlet tmpHashes = Object.keys(tmpViews);\n\t\tlet tmpEntries = [];\n\n\t\tfor (let i = 0; i < tmpHashes.length; i++)\n\t\t{\n\t\t\tlet tmpHash = tmpHashes[i];\n\t\t\tlet tmpView = tmpViews[tmpHash];\n\n\t\t\tlet tmpInfo = '';\n\t\t\tif (tmpView.options && tmpView.options.DefaultDestinationAddress)\n\t\t\t{\n\t\t\t\ttmpInfo = tmpView.options.DefaultDestinationAddress;\n\t\t\t}\n\n\t\t\ttmpEntries.push({ Hash: tmpHash, Info: tmpInfo });\n\t\t}\n\n\t\ttmpEntries.sort(function(a, b) { return a.Hash.localeCompare(b.Hash); });\n\t\treturn tmpEntries;\n\t}\n\n\tshowList()\n\t{\n\t\tthis.detailHash = false;\n\t\tlet tmpEntries = this.getViewEntries();\n\t\tlet tmpOutput = '';\n\t\tif (tmpEntries.length > 0)\n\t\t{\n\t\t\ttmpOutput = this.pict.parseTemplateSetByHash('PP-ViewEntry', tmpEntries, null, [this]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOutput = '<div class=\"pp_tb_empty\">No views registered.</div>';\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#pp_vb_body', tmpOutput);\n\t}\n\n\tformatTimestamp(pTimestamp)\n\t{\n\t\tif (!pTimestamp) return '--';\n\t\tlet tmpDate = new Date(pTimestamp);\n\t\treturn tmpDate.toLocaleTimeString();\n\t}\n\n\tshowDetail(pHash)\n\t{\n\t\tlet tmpView = this.pict.views[pHash];\n\t\tif (!tmpView) return;\n\n\t\tthis.detailHash = pHash;\n\n\t\tlet tmpTemplateCount = 0;\n\t\tif (tmpView.options && tmpView.options.Templates)\n\t\t{\n\t\t\ttmpTemplateCount = tmpView.options.Templates.length;\n\t\t}\n\n\t\tlet tmpRenderableCount = 0;\n\t\tif (tmpView.renderables)\n\t\t{\n\t\t\ttmpRenderableCount = Object.keys(tmpView.renderables).length;\n\t\t}\n\n\t\tlet tmpRecord = [\n\t\t\t{\n\t\t\t\tHash: pHash,\n\t\t\t\tUUID: tmpView.UUID || '--',\n\t\t\t\tDefaultDestination: (tmpView.options && tmpView.options.DefaultDestinationAddress) || '--',\n\t\t\t\tDefaultRenderable: (tmpView.options && tmpView.options.DefaultRenderable) || '--',\n\t\t\t\tAutoRender: (tmpView.options && tmpView.options.AutoRender) ? 'true' : 'false',\n\t\t\t\tAutoSolve: (tmpView.options && tmpView.options.AutoSolveWithApp) ? 'true' : 'false',\n\t\t\t\tInitTS: this.formatTimestamp(tmpView.initializeTimestamp),\n\t\t\t\tRenderTS: this.formatTimestamp(tmpView.lastRenderedTimestamp),\n\t\t\t\tSolveTS: this.formatTimestamp(tmpView.lastSolvedTimestamp),\n\t\t\t\tMarshalToTS: this.formatTimestamp(tmpView.lastMarshalToViewTimestamp),\n\t\t\t\tMarshalFromTS: this.formatTimestamp(tmpView.lastMarshalFromViewTimestamp),\n\t\t\t\tRenderableCount: tmpRenderableCount,\n\t\t\t\tTemplateCount: tmpTemplateCount\n\t\t\t}];\n\n\t\tlet tmpOutput = this.pict.parseTemplateSetByHash('PP-ViewDetail', tmpRecord, null, [this]);\n\t\tthis.pict.ContentAssignment.assignContent('#pp_vb_body', tmpOutput);\n\n\t\t// Render the template list for this view\n\t\tthis.renderDetailTemplates(tmpView);\n\t}\n\n\trenderDetailTemplates(pView)\n\t{\n\t\tlet tmpTemplates = [];\n\t\tif (pView.options && pView.options.Templates)\n\t\t{\n\t\t\tfor (let i = 0; i < pView.options.Templates.length; i++)\n\t\t\t{\n\t\t\t\tlet tmpTpl = pView.options.Templates[i];\n\t\t\t\tlet tmpContent = this.pict.TemplateProvider.getTemplate(tmpTpl.Hash) || '';\n\t\t\t\tlet tmpPreview = '';\n\t\t\t\tif (typeof(tmpContent) === 'string')\n\t\t\t\t{\n\t\t\t\t\ttmpPreview = tmpContent.replace(/[\\t\\n\\r]+/g, ' ').trim();\n\t\t\t\t\tif (tmpPreview.length > 100)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmpPreview = tmpPreview.substring(0, 97) + '...';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttmpPreview = tmpPreview.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n\t\t\t\ttmpTemplates.push({ Hash: tmpTpl.Hash, Preview: tmpPreview });\n\t\t\t}\n\t\t}\n\n\t\tlet tmpOutput = '';\n\t\tif (tmpTemplates.length > 0)\n\t\t{\n\t\t\ttmpOutput = this.pict.parseTemplateSetByHash('PP-ViewDetailTemplate', tmpTemplates, null, [this]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttmpOutput = '<div class=\"pp_tb_empty\">No templates.</div>';\n\t\t}\n\t\tthis.pict.ContentAssignment.assignContent('#pp_vb_detail_templates', tmpOutput);\n\t}\n\n\texecViewAction(pHash, pAction)\n\t{\n\t\tlet tmpView = this.pict.views[pHash];\n\t\tif (!tmpView) return;\n\n\t\tthis.log.info(`Executing ${pAction}() on view [${pHash}]`);\n\n\t\tif (pAction === 'renderAsync')\n\t\t{\n\t\t\ttmpView.renderAsync(function() {});\n\t\t}\n\t\telse if (typeof(tmpView[pAction]) === 'function')\n\t\t{\n\t\t\ttmpView[pAction]();\n\t\t}\n\n\t\t// Refresh the detail view to show updated timestamps\n\t\tlet __View = this;\n\t\tsetTimeout(function() { if (__View.detailHash === pHash) __View.showDetail(pHash); }, 250);\n\t}\n}\n\nmodule.exports = PictPanelViewBrowser;\nmodule.exports.default_configuration = _ViewConfiguration;\n"]}